/*! For license information please see new-index.js.LICENSE.txt */
(()=>{var e={7233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3645),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".v-spinner .v-beat{-webkit-animation:v-beatStretchDelay .7s linear infinite;animation:v-beatStretchDelay .7s linear infinite;-webkit-animation-fill-mode:both;animation-fill-mode:both;display:inline-block}.v-spinner .v-beat-odd{-webkit-animation-delay:0s;animation-delay:0s}.v-spinner .v-beat-even{-webkit-animation-delay:.35s;animation-delay:.35s}@-webkit-keyframes v-beatStretchDelay{50%{transform:scale(.75);-webkit-opacity:.2;opacity:.2}to{transform:scale(1);-webkit-opacity:1;opacity:1}}@keyframes v-beatStretchDelay{50%{transform:scale(.75);-webkit-opacity:.2;opacity:.2}to{transform:scale(1);-webkit-opacity:1;opacity:1}}",""]);const o=a},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},3379:(e,t,n)=>{"use strict";var i,a=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function s(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},i=[],a=0;a<e.length;a++){var o=e[a],l=t.base?o[0]+t.base:o[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var u=s(d),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(r[u].references++,r[u].updater(p)):r.push({identifier:d,updater:h(p,t),references:1}),i.push(d)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function p(e,t,n,i){var a=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var o=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function f(e,t,n){var i=n.css,a=n.media,o=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var m=null,v=0;function h(e,t){var n,i,a;if(t.singleton){var o=v++;n=m||(m=c(t)),i=p.bind(null,n,o,!1),a=p.bind(null,n,o,!0)}else n=c(t),i=f.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var a=s(n[i]);r[a].references--}for(var o=l(e,t),c=0;c<n.length;c++){var d=s(n[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}n=o}}}},6455:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return(c=l()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&s(a,n.prototype),a}).apply(null,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function p(e){var t=l();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=f(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}var v="SweetAlert2:",h=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},g=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},b=function(e){return Object.keys(e).map((function(t){return e[t]}))},y=function(e){return Array.prototype.slice.call(e)},w=function(t){console.warn("".concat(v," ").concat("object"===e(t)?t.join(" "):t))},_=function(e){console.error("".concat(v," ").concat(e))},S=[],C=function(e){-1===S.indexOf(e)&&(S.push(e),w(e))},x=function(e,t){C('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},k=function(e){return"function"==typeof e?e():e},$=function(e){return e&&"function"==typeof e.toPromise},A=function(e){return $(e)?e.toPromise():Promise.resolve(e)},N=function(e){return e&&Promise.resolve(e)===e},I=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),D=function(t){return"object"===e(t)&&t.jquery},T=function(e){return e instanceof Element||D(e)},L=function(t){var n={};return"object"!==e(t[0])||T(t[0])?["title","html","icon"].forEach((function(i,a){var o=t[a];"string"==typeof o||T(o)?n[i]=o:void 0!==o&&_("Unexpected type of ".concat(i,'! Expected "string" or "Element", got ').concat(e(o)))})):a(n,t[0]),n},O="swal2-",R=function(e){var t={};for(var n in e)t[e[n]]=O+e[n];return t},M=R(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),E=R(["success","warning","info","question","error"]),P=function(){return document.body.querySelector(".".concat(M.container))},B=function(e){var t=P();return t?t.querySelector(e):null},j=function(e){return B(".".concat(e))},U=function(){return j(M.popup)},F=function(){var e=U();return y(e.querySelectorAll(".".concat(M.icon)))},H=function(){var e=F().filter((function(e){return Ae(e)}));return e.length?e[0]:null},V=function(){return j(M.title)},q=function(){return j(M.content)},z=function(){return j(M["html-container"])},W=function(){return j(M.image)},J=function(){return j(M["progress-steps"])},X=function(){return j(M["validation-message"])},Y=function(){return B(".".concat(M.actions," .").concat(M.confirm))},G=function(){return B(".".concat(M.actions," .").concat(M.deny))},K=function(){return j(M["input-label"])},Q=function(){return B(".".concat(M.loader))},Z=function(){return B(".".concat(M.actions," .").concat(M.cancel))},ee=function(){return j(M.actions)},te=function(){return j(M.header)},ne=function(){return j(M.footer)},ie=function(){return j(M["timer-progress-bar"])},ae=function(){return j(M.close)},oe='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',re=function(){var e=y(U().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){return(e=parseInt(e.getAttribute("tabindex")))>(t=parseInt(t.getAttribute("tabindex")))?1:e<t?-1:0})),t=y(U().querySelectorAll(oe)).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return h(e.concat(t)).filter((function(e){return Ae(e)}))},se=function(){return!le()&&!document.body.classList.contains(M["no-backdrop"])},le=function(){return document.body.classList.contains(M["toast-shown"])},ce=function(){return U().hasAttribute("data-loading")},de={previousBodyPadding:null},ue=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");y(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),y(n.querySelector("body").childNodes).forEach((function(t){e.appendChild(t)}))}},pe=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),i=0;i<n.length;i++)if(!e.classList.contains(n[i]))return!1;return!0},fe=function(e,t){y(e.classList).forEach((function(n){-1===b(M).indexOf(n)&&-1===b(E).indexOf(n)&&-1===b(t.showClass).indexOf(n)&&e.classList.remove(n)}))},me=function(t,n,i){if(fe(t,n),n.customClass&&n.customClass[i]){if("string"!=typeof n.customClass[i]&&!n.customClass[i].forEach)return w("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(e(n.customClass[i]),'"'));ye(t,n.customClass[i])}};function ve(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return _e(e,M[t]);case"checkbox":return e.querySelector(".".concat(M.checkbox," input"));case"radio":return e.querySelector(".".concat(M.radio," input:checked"))||e.querySelector(".".concat(M.radio," input:first-child"));case"range":return e.querySelector(".".concat(M.range," input"));default:return _e(e,M.input)}}var he,ge=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},be=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){e.forEach?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},ye=function(e,t){be(e,t,!0)},we=function(e,t){be(e,t,!1)},_e=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(pe(e.childNodes[n],t))return e.childNodes[n]},Se=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},xe=function(e){e.style.display="none"},ke=function(e,t,n,i){var a=e.querySelector(t);a&&(a.style[n]=i)},$e=function(e,t,n){t?Ce(e,n):xe(e)},Ae=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},Ne=function(){return!Ae(Y())&&!Ae(G())&&!Ae(Z())},Ie=function(e){return!!(e.scrollHeight>e.clientHeight)},De=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),i=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||i>0},Te=function(e,t){if("function"==typeof e.contains)return e.contains(t)},Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ie();Ae(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},Oe=function(){var e=ie(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=parseInt(window.getComputedStyle(e).width),i=parseInt(t/n*100);e.style.removeProperty("transition"),e.style.width="".concat(i,"%")},Re=function(){return"undefined"==typeof window||"undefined"==typeof document},Me='\n <div aria-labelledby="'.concat(M.title,'" aria-describedby="').concat(M.content,'" class="').concat(M.popup,'" tabindex="-1">\n   <div class="').concat(M.header,'">\n     <ul class="').concat(M["progress-steps"],'"></ul>\n     <div class="').concat(M.icon," ").concat(E.error,'"></div>\n     <div class="').concat(M.icon," ").concat(E.question,'"></div>\n     <div class="').concat(M.icon," ").concat(E.warning,'"></div>\n     <div class="').concat(M.icon," ").concat(E.info,'"></div>\n     <div class="').concat(M.icon," ").concat(E.success,'"></div>\n     <img class="').concat(M.image,'" />\n     <h2 class="').concat(M.title,'" id="').concat(M.title,'"></h2>\n     <button type="button" class="').concat(M.close,'"></button>\n   </div>\n   <div class="').concat(M.content,'">\n     <div id="').concat(M.content,'" class="').concat(M["html-container"],'"></div>\n     <input class="').concat(M.input,'" />\n     <input type="file" class="').concat(M.file,'" />\n     <div class="').concat(M.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(M.select,'"></select>\n     <div class="').concat(M.radio,'"></div>\n     <label for="').concat(M.checkbox,'" class="').concat(M.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(M.label,'"></span>\n     </label>\n     <textarea class="').concat(M.textarea,'"></textarea>\n     <div class="').concat(M["validation-message"],'" id="').concat(M["validation-message"],'"></div>\n   </div>\n   <div class="').concat(M.actions,'">\n     <div class="').concat(M.loader,'"></div>\n     <button type="button" class="').concat(M.confirm,'"></button>\n     <button type="button" class="').concat(M.deny,'"></button>\n     <button type="button" class="').concat(M.cancel,'"></button>\n   </div>\n   <div class="').concat(M.footer,'"></div>\n   <div class="').concat(M["timer-progress-bar-container"],'">\n     <div class="').concat(M["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ee=function(){var e=P();return!!e&&(e.parentNode.removeChild(e),we([document.documentElement,document.body],[M["no-backdrop"],M["toast-shown"],M["has-column"]]),!0)},Pe=function(e){va.isVisible()&&he!==e.target.value&&va.resetValidationMessage(),he=e.target.value},Be=function(){var e=q(),t=_e(e,M.input),n=_e(e,M.file),i=e.querySelector(".".concat(M.range," input")),a=e.querySelector(".".concat(M.range," output")),o=_e(e,M.select),r=e.querySelector(".".concat(M.checkbox," input")),s=_e(e,M.textarea);t.oninput=Pe,n.onchange=Pe,o.onchange=Pe,r.onchange=Pe,s.oninput=Pe,i.oninput=function(e){Pe(e),a.value=i.value},i.onchange=function(e){Pe(e),i.nextSibling.value=i.value}},je=function(e){return"string"==typeof e?document.querySelector(e):e},Ue=function(e){var t=U();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Fe=function(e){"rtl"===window.getComputedStyle(e).direction&&ye(P(),M.rtl)},He=function(e){var t=Ee();if(Re())_("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=M.container,t&&ye(n,M["no-transition"]),ue(n,Me);var i=je(e.target);i.appendChild(n),Ue(e),Fe(i),Be()}},Ve=function(t,n){t instanceof HTMLElement?n.appendChild(t):"object"===e(t)?qe(t,n):t&&ue(n,t)},qe=function(e,t){e.jquery?ze(t,e):ue(t,e.toString())},ze=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},We=function(){if(Re())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1}(),Je=function(){var e=document.createElement("div");e.className=M["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Xe=function(e,t){var n=ee(),i=Q(),a=Y(),o=G(),r=Z();t.showConfirmButton||t.showDenyButton||t.showCancelButton||xe(n),me(n,t,"actions"),Ge(a,"confirm",t),Ge(o,"deny",t),Ge(r,"cancel",t),Ye(a,o,r,t),t.reverseButtons&&(n.insertBefore(r,i),n.insertBefore(o,i),n.insertBefore(a,i)),ue(i,t.loaderHtml),me(i,t,"loader")};function Ye(e,t,n,i){if(!i.buttonsStyling)return we([e,t,n],M.styled);ye([e,t,n],M.styled),i.confirmButtonColor&&(e.style.backgroundColor=i.confirmButtonColor),i.denyButtonColor&&(t.style.backgroundColor=i.denyButtonColor),i.cancelButtonColor&&(n.style.backgroundColor=i.cancelButtonColor)}function Ge(e,t,n){$e(e,n["show".concat(g(t),"Button")],"inline-block"),ue(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=M[t],me(e,n,"".concat(t,"Button")),ye(e,n["".concat(t,"ButtonClass")])}function Ke(e,t){"string"==typeof t?e.style.background=t:t||ye([document.documentElement,document.body],M["no-backdrop"])}function Qe(e,t){t in M?ye(e,M[t]):(w('The "position" parameter is not valid, defaulting to "center"'),ye(e,M.center))}function Ze(e,t){if(t&&"string"==typeof t){var n="grow-".concat(t);n in M&&ye(e,M[n])}}var et=function(e,t){var n=P();if(n){Ke(n,t.backdrop),!t.backdrop&&t.allowOutsideClick&&w('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),Qe(n,t.position),Ze(n,t.grow),me(n,t,"container");var i=document.body.getAttribute("data-swal2-queue-step");i&&(n.setAttribute("data-queue-step",i),document.body.removeAttribute("data-swal2-queue-step"))}},tt={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},nt=["input","file","range","select","radio","checkbox","textarea"],it=function(e,t){var n=q(),i=tt.innerParams.get(e),a=!i||t.input!==i.input;nt.forEach((function(e){var i=M[e],o=_e(n,i);rt(e,t.inputAttributes),o.className=i,a&&xe(o)})),t.input&&(a&&at(t),st(t))},at=function(e){if(!ut[e.input])return _('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));var t=dt(e.input),n=ut[e.input](t,e);Ce(n),setTimeout((function(){ge(n)}))},ot=function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;-1===["type","value","style"].indexOf(n)&&e.removeAttribute(n)}},rt=function(e,t){var n=ve(q(),e);if(n)for(var i in ot(n),t)"range"===e&&"placeholder"===i||n.setAttribute(i,t[i])},st=function(e){var t=dt(e.input);e.customClass&&ye(t,e.customClass.input)},lt=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},ct=function(e,t,n){if(n.inputLabel){e.id=M.input;var i=document.createElement("label"),a=M["input-label"];i.setAttribute("for",e.id),i.className=a,ye(i,n.customClass.inputLabel),i.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",i)}},dt=function(e){var t=M[e]?M[e]:M.input;return _e(q(),t)},ut={};ut.text=ut.email=ut.password=ut.number=ut.tel=ut.url=function(t,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?t.value=n.inputValue:N(n.inputValue)||w('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(e(n.inputValue),'"')),ct(t,t,n),lt(t,n),t.type=n.input,t},ut.file=function(e,t){return ct(e,e,t),lt(e,t),e},ut.range=function(e,t){var n=e.querySelector("input"),i=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,i.value=t.inputValue,ct(n,e,t),e},ut.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");ue(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return ct(e,e,t),e},ut.radio=function(e){return e.textContent="",e},ut.checkbox=function(e,t){var n=ve(q(),"checkbox");n.value=1,n.id=M.checkbox,n.checked=Boolean(t.inputValue);var i=e.querySelector("span");return ue(i,t.inputPlaceholder),e},ut.textarea=function(e,t){e.value=t.inputValue,lt(e,t),ct(e,e,t);var n=function(e){return parseInt(window.getComputedStyle(e).paddingLeft)+parseInt(window.getComputedStyle(e).paddingRight)};if("MutationObserver"in window){var i=parseInt(window.getComputedStyle(U()).width);new MutationObserver((function(){var t=e.offsetWidth+n(U())+n(q());U().style.width=t>i?"".concat(t,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}return e};var pt=function(e,t){var n=q().querySelector("#".concat(M.content));t.html?(Ve(t.html,n),Ce(n,"block")):t.text?(n.textContent=t.text,Ce(n,"block")):xe(n),it(e,t),me(q(),t,"content")},ft=function(e,t){var n=ne();$e(n,t.footer),t.footer&&Ve(t.footer,n),me(n,t,"footer")},mt=function(e,t){var n=ae();ue(n,t.closeButtonHtml),me(n,t,"closeButton"),$e(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},vt=function(e,t){var n=tt.innerParams.get(e);if(n&&t.icon===n.icon&&H())gt(H(),t);else if(ht(),t.icon)if(-1!==Object.keys(E).indexOf(t.icon)){var i=B(".".concat(M.icon,".").concat(E[t.icon]));Ce(i),yt(i,t),gt(i,t),ye(i,t.showClass.icon)}else _('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"'))},ht=function(){for(var e=F(),t=0;t<e.length;t++)xe(e[t])},gt=function(e,t){wt(e,t),bt(),me(e,t,"icon")},bt=function(){for(var e=U(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),i=0;i<n.length;i++)n[i].style.backgroundColor=t},yt=function(e,t){e.textContent="",t.iconHtml?ue(e,_t(t.iconHtml)):"success"===t.icon?ue(e,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    '):"error"===t.icon?ue(e,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    '):ue(e,_t({question:"?",warning:"!",info:"i"}[t.icon]))},wt=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,i=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<i.length;n++){var a=i[n];ke(e,a,"backgroundColor",t.iconColor)}ke(e,".swal2-success-ring","borderColor",t.iconColor)}},_t=function(e){return'<div class="'.concat(M["icon-content"],'">').concat(e,"</div>")},St=function(e,t){var n=W();if(!t.imageUrl)return xe(n);Ce(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),Se(n,"width",t.imageWidth),Se(n,"height",t.imageHeight),n.className=M.image,me(n,t,"image")},Ct=[],xt=function(e){var t=this;Ct=e;var n=function(e,t){Ct=[],e(t)},i=[];return new Promise((function(e){!function a(o,r){o<Ct.length?(document.body.setAttribute("data-swal2-queue-step",o),t.fire(Ct[o]).then((function(t){void 0!==t.value?(i.push(t.value),a(o+1,r)):n(e,{dismiss:t.dismiss})}))):n(e,{value:i})}(0)}))},kt=function(){return P()&&P().getAttribute("data-queue-step")},$t=function(e,t){return t&&t<Ct.length?Ct.splice(t,0,e):Ct.push(e)},At=function(e){void 0!==Ct[e]&&Ct.splice(e,1)},Nt=function(e){var t=document.createElement("li");return ye(t,M["progress-step"]),ue(t,e),t},It=function(e){var t=document.createElement("li");return ye(t,M["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t},Dt=function(e,t){var n=J();if(!t.progressSteps||0===t.progressSteps.length)return xe(n);Ce(n),n.textContent="";var i=parseInt(void 0===t.currentProgressStep?kt():t.currentProgressStep);i>=t.progressSteps.length&&w("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,a){var o=Nt(e);if(n.appendChild(o),a===i&&ye(o,M["active-progress-step"]),a!==t.progressSteps.length-1){var r=It(t);n.appendChild(r)}}))},Tt=function(e,t){var n=V();$e(n,t.title||t.titleText),t.title&&Ve(t.title,n),t.titleText&&(n.innerText=t.titleText),me(n,t,"title")},Lt=function(e,t){var n=te();me(n,t,"header"),Dt(e,t),vt(e,t),St(e,t),Tt(e,t),mt(e,t)},Ot=function(e,t){var n=U();Se(n,"width",t.width),Se(n,"padding",t.padding),t.background&&(n.style.background=t.background),Rt(n,t)},Rt=function(e,t){e.className="".concat(M.popup," ").concat(Ae(e)?t.showClass.popup:""),t.toast?(ye([document.documentElement,document.body],M["toast-shown"]),ye(e,M.toast)):ye(e,M.modal),me(e,t,"popup"),"string"==typeof t.customClass&&ye(e,t.customClass),t.icon&&ye(e,M["icon-".concat(t.icon)])},Mt=function(e,t){Ot(e,t),et(e,t),Lt(e,t),pt(e,t),Xe(e,t),ft(e,t),"function"==typeof t.didRender?t.didRender(U()):"function"==typeof t.onRender&&t.onRender(U())},Et=function(){return Ae(U())},Pt=function(){return Y()&&Y().click()},Bt=function(){return G()&&G().click()},jt=function(){return Z()&&Z().click()};function Ut(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return c(e,n)}function Ft(e){return function(n){o(l,n);var s=p(l);function l(){return t(this,l),s.apply(this,arguments)}return i(l,[{key:"_main",value:function(t,n){return m(r(l.prototype),"_main",this).call(this,t,a({},n,e))}}]),l}(this)}var Ht=function(e){var t=U();t||va.fire(),t=U();var n=ee(),i=Q();!e&&Ae(Y())&&(e=Y()),Ce(n),e&&(xe(e),i.setAttribute("data-button-to-replace",e.className)),i.parentNode.insertBefore(i,e),ye([t,n],M.loading),Ce(i),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},Vt=100,qt={},zt=function(){qt.previousActiveElement&&qt.previousActiveElement.focus?(qt.previousActiveElement.focus(),qt.previousActiveElement=null):document.body&&document.body.focus()},Wt=function(){return new Promise((function(e){var t=window.scrollX,n=window.scrollY;qt.restoreFocusTimeout=setTimeout((function(){zt(),e()}),Vt),void 0!==t&&void 0!==n&&window.scrollTo(t,n)}))},Jt=function(){return qt.timeout&&qt.timeout.getTimerLeft()},Xt=function(){if(qt.timeout)return Oe(),qt.timeout.stop()},Yt=function(){if(qt.timeout){var e=qt.timeout.start();return Le(e),e}},Gt=function(){var e=qt.timeout;return e&&(e.running?Xt():Yt())},Kt=function(e){if(qt.timeout){var t=qt.timeout.increase(e);return Le(t,!0),t}},Qt=function(){return qt.timeout&&qt.timeout.isRunning()},Zt=!1,en={};function tn(){en[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Zt||(document.body.addEventListener("click",nn),Zt=!0)}var nn=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in en){var i=t.getAttribute(n);if(i)return void en[n].fire({template:i})}},an={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},on=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],rn={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},sn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","heightAuto","keydownListenerCapture"],ln=function(e){return Object.prototype.hasOwnProperty.call(an,e)},cn=function(e){return-1!==on.indexOf(e)},dn=function(e){return rn[e]},un=function(e){ln(e)||w('Unknown parameter "'.concat(e,'"'))},pn=function(e){-1!==sn.indexOf(e)&&w('The parameter "'.concat(e,'" is incompatible with toasts'))},fn=function(e){dn(e)&&x(e,dn(e))},mn=function(e){for(var t in e)un(t),e.toast&&pn(t),fn(t)},vn=Object.freeze({isValidParameter:ln,isUpdatableParameter:cn,isDeprecatedParameter:dn,argsToParams:L,isVisible:Et,clickConfirm:Pt,clickDeny:Bt,clickCancel:jt,getContainer:P,getPopup:U,getTitle:V,getContent:q,getHtmlContainer:z,getImage:W,getIcon:H,getIcons:F,getInputLabel:K,getCloseButton:ae,getActions:ee,getConfirmButton:Y,getDenyButton:G,getCancelButton:Z,getLoader:Q,getHeader:te,getFooter:ne,getTimerProgressBar:ie,getFocusableElements:re,getValidationMessage:X,isLoading:ce,fire:Ut,mixin:Ft,queue:xt,getQueueStep:kt,insertQueueStep:$t,deleteQueueStep:At,showLoading:Ht,enableLoading:Ht,getTimerLeft:Jt,stopTimer:Xt,resumeTimer:Yt,toggleTimer:Gt,increaseTimer:Kt,isTimerRunning:Qt,bindClickHandler:tn});function hn(){if(tt.innerParams.get(this)){var e=tt.domCache.get(this);xe(e.loader);var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Ce(t[0],"inline-block"):Ne()&&xe(e.actions),we([e.popup,e.actions],M.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}}function gn(e){var t=tt.innerParams.get(e||this),n=tt.domCache.get(e||this);return n?ve(n.content,t.input):null}var bn=function(){null===de.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(de.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(de.previousBodyPadding+Je(),"px"))},yn=function(){null!==de.previousBodyPadding&&(document.body.style.paddingRight="".concat(de.previousBodyPadding,"px"),de.previousBodyPadding=null)},wn=function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!pe(document.body,M.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),ye(document.body,M.iosfix),Sn(),_n()}},_n=function(){if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){var e=44;U().scrollHeight>window.innerHeight-e&&(P().style.paddingBottom="".concat(e,"px"))}},Sn=function(){var e,t=P();t.ontouchstart=function(t){e=Cn(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}},Cn=function(e){var t=e.target,n=P();return!(xn(e)||kn(e)||t!==n&&(Ie(n)||"INPUT"===t.tagName||Ie(q())&&q().contains(t)))},xn=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},kn=function(e){return e.touches&&e.touches.length>1},$n=function(){if(pe(document.body,M.iosfix)){var e=parseInt(document.body.style.top,10);we(document.body,M.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},An=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Nn=function(){var e=P(),t=U();e.style.removeProperty("align-items"),t.offsetTop<0&&(e.style.alignItems="flex-start")},In=function(){"undefined"!=typeof window&&An()&&(Nn(),window.addEventListener("resize",Nn))},Dn=function(){"undefined"!=typeof window&&An()&&window.removeEventListener("resize",Nn)},Tn=function(){y(document.body.children).forEach((function(e){e===P()||Te(e,P())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))},Ln=function(){y(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},On={swalPromiseResolve:new WeakMap};function Rn(e,t,n,i){n?Fn(e,i):(Wt().then((function(){return Fn(e,i)})),qt.keydownTarget.removeEventListener("keydown",qt.keydownHandler,{capture:qt.keydownListenerCapture}),qt.keydownHandlerAdded=!1),t.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&t.parentNode.removeChild(t),se()&&(yn(),$n(),Dn(),Ln()),Mn()}function Mn(){we([document.documentElement,document.body],[M.shown,M["height-auto"],M["no-backdrop"],M["toast-shown"],M["toast-column"]])}function En(e){var t=U();if(t){e=Pn(e);var n=tt.innerParams.get(this);if(n&&!pe(t,n.hideClass.popup)){var i=On.swalPromiseResolve.get(this);we(t,n.showClass.popup),ye(t,n.hideClass.popup);var a=P();we(a,n.showClass.backdrop),ye(a,n.hideClass.backdrop),Bn(this,t,n),i(e)}}}var Pn=function(e){return void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:a({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},Bn=function(e,t,n){var i=P(),a=We&&De(t),o=n.onClose,r=n.onAfterClose,s=n.willClose,l=n.didClose;jn(t,s,o),a?Un(e,t,i,l||r):Rn(e,i,le(),l||r)},jn=function(e,t,n){null!==t&&"function"==typeof t?t(e):null!==n&&"function"==typeof n&&n(e)},Un=function(e,t,n,i){qt.swalCloseEventFinishedCallback=Rn.bind(null,e,n,le(),i),t.addEventListener(We,(function(e){e.target===t&&(qt.swalCloseEventFinishedCallback(),delete qt.swalCloseEventFinishedCallback)}))},Fn=function(e,t){setTimeout((function(){"function"==typeof t&&t(),e._destroy()}))};function Hn(e,t,n){var i=tt.domCache.get(e);t.forEach((function(e){i[e].disabled=n}))}function Vn(e,t){if(!e)return!1;if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),i=0;i<n.length;i++)n[i].disabled=t;else e.disabled=t}function qn(){Hn(this,["confirmButton","denyButton","cancelButton"],!1)}function zn(){Hn(this,["confirmButton","denyButton","cancelButton"],!0)}function Wn(){return Vn(this.getInput(),!1)}function Jn(){return Vn(this.getInput(),!0)}function Xn(e){var t=tt.domCache.get(this),n=tt.innerParams.get(this);ue(t.validationMessage,e),t.validationMessage.className=M["validation-message"],n.customClass&&n.customClass.validationMessage&&ye(t.validationMessage,n.customClass.validationMessage),Ce(t.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedBy",M["validation-message"]),ge(i),ye(i,M.inputerror))}function Yn(){var e=tt.domCache.get(this);e.validationMessage&&xe(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),we(t,M.inputerror))}function Gn(){return tt.domCache.get(this).progressSteps}var Kn=function(){function e(n,i){t(this,e),this.callback=n,this.remaining=i,this.running=!1,this.start()}return i(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),Qn={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function Zn(e){e.inputValidator||Object.keys(Qn).forEach((function(t){e.input===t&&(e.inputValidator=Qn[t])}))}function ei(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(w('Target parameter is not valid, defaulting to "body"'),e.target="body")}function ti(e){Zn(e),e.showLoaderOnConfirm&&!e.preConfirm&&w("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),e.animation=k(e.animation),ei(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),He(e)}var ni=["swal-title","swal-html","swal-footer"],ii=function(e){var t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content||t;return di(n),a(ai(n),oi(n),ri(n),si(n),li(n),ci(n,ni))},ai=function(t){var n={};return y(t.querySelectorAll("swal-param")).forEach((function(t){ui(t,["name","value"]);var i=t.getAttribute("name"),a=t.getAttribute("value");"boolean"==typeof an[i]&&"false"===a&&(a=!1),"object"===e(an[i])&&(a=JSON.parse(a)),n[i]=a})),n},oi=function(e){var t={};return y(e.querySelectorAll("swal-button")).forEach((function(e){ui(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(g(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},ri=function(e){var t={},n=e.querySelector("swal-image");return n&&(ui(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},si=function(e){var t={},n=e.querySelector("swal-icon");return n&&(ui(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},li=function(e){var t={},n=e.querySelector("swal-input");n&&(ui(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var i=e.querySelectorAll("swal-input-option");return i.length&&(t.inputOptions={},y(i).forEach((function(e){ui(e,["value"]);var n=e.getAttribute("value"),i=e.innerHTML;t.inputOptions[n]=i}))),t},ci=function(e,t){var n={};for(var i in t){var a=t[i],o=e.querySelector(a);o&&(ui(o,[]),n[a.replace(/^swal-/,"")]=o.innerHTML)}return n},di=function(e){var t=ni.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);y(e.querySelectorAll("*")).forEach((function(n){if(n.parentNode===e){var i=n.tagName.toLowerCase();-1===t.indexOf(i)&&w("Unrecognized element <".concat(i,">"))}}))},ui=function(e,t){y(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&w(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},pi=10,fi=function(e){var t=P(),n=U();"function"==typeof e.willOpen?e.willOpen(n):"function"==typeof e.onBeforeOpen&&e.onBeforeOpen(n);var i=window.getComputedStyle(document.body).overflowY;bi(t,n,e),setTimeout((function(){hi(t,n)}),pi),se()&&(gi(t,e.scrollbarPadding,i),Tn()),le()||qt.previousActiveElement||(qt.previousActiveElement=document.activeElement),mi(n,e),we(t,M["no-transition"])},mi=function(e,t){"function"==typeof t.didOpen?setTimeout((function(){return t.didOpen(e)})):"function"==typeof t.onOpen&&setTimeout((function(){return t.onOpen(e)}))},vi=function e(t){var n=U();if(t.target===n){var i=P();n.removeEventListener(We,e),i.style.overflowY="auto"}},hi=function(e,t){We&&De(t)?(e.style.overflowY="hidden",t.addEventListener(We,vi)):e.style.overflowY="auto"},gi=function(e,t,n){wn(),In(),t&&"hidden"!==n&&bn(),setTimeout((function(){e.scrollTop=0}))},bi=function(e,t,n){ye(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),Ce(t),setTimeout((function(){ye(t,n.showClass.popup),t.style.removeProperty("opacity")}),pi),ye([document.documentElement,document.body],M.shown),n.heightAuto&&n.backdrop&&!n.toast&&ye([document.documentElement,document.body],M["height-auto"])},yi=function(e,t){"select"===t.input||"radio"===t.input?xi(e,t):-1!==["text","email","number","tel","textarea"].indexOf(t.input)&&($(t.inputValue)||N(t.inputValue))&&ki(e,t)},wi=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return _i(n);case"radio":return Si(n);case"file":return Ci(n);default:return t.inputAutoTrim?n.value.trim():n.value}},_i=function(e){return e.checked?1:0},Si=function(e){return e.checked?e.value:null},Ci=function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},xi=function(t,n){var i=q(),a=function(e){return $i[n.input](i,Ai(e),n)};$(n.inputOptions)||N(n.inputOptions)?(Ht(),A(n.inputOptions).then((function(e){t.hideLoading(),a(e)}))):"object"===e(n.inputOptions)?a(n.inputOptions):_("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(e(n.inputOptions)))},ki=function(e,t){var n=e.getInput();xe(n),A(t.inputValue).then((function(i){n.value="number"===t.input?parseFloat(i)||0:"".concat(i),Ce(n),n.focus(),e.hideLoading()})).catch((function(t){_("Error in inputValue promise: ".concat(t)),n.value="",Ce(n),n.focus(),e.hideLoading()}))},$i={select:function(e,t,n){var i=_e(e,M.select),a=function(e,t,i){var a=document.createElement("option");a.value=i,ue(a,t),a.selected=Ni(i,n.inputValue),e.appendChild(a)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=t,o.disabled=!1,i.appendChild(o),n.forEach((function(e){return a(o,e[1],e[0])}))}else a(i,n,t)})),i.focus()},radio:function(e,t,n){var i=_e(e,M.radio);t.forEach((function(e){var t=e[0],a=e[1],o=document.createElement("input"),r=document.createElement("label");o.type="radio",o.name=M.radio,o.value=t,Ni(t,n.inputValue)&&(o.checked=!0);var s=document.createElement("span");ue(s,a),s.className=M.label,r.appendChild(o),r.appendChild(s),i.appendChild(r)}));var a=i.querySelectorAll("input");a.length&&a[0].focus()}},Ai=function t(n){var i=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach((function(n,a){var o=n;"object"===e(o)&&(o=t(o)),i.push([a,o])})):Object.keys(n).forEach((function(a){var o=n[a];"object"===e(o)&&(o=t(o)),i.push([a,o])})),i},Ni=function(e,t){return t&&t.toString()===e.toString()},Ii=function(e,t){e.disableButtons(),t.input?Li(e,t,"confirm"):Ei(e,t,!0)},Di=function(e,t){e.disableButtons(),t.returnInputValueOnDeny?Li(e,t,"deny"):Ri(e,t,!1)},Ti=function(e,t){e.disableButtons(),t(I.cancel)},Li=function(e,t,n){var i=wi(e,t);t.inputValidator?Oi(e,t,i):e.getInput().checkValidity()?"deny"===n?Ri(e,t,i):Ei(e,t,i):(e.enableButtons(),e.showValidationMessage(t.validationMessage))},Oi=function(e,t,n){e.disableInput(),Promise.resolve().then((function(){return A(t.inputValidator(n,t.validationMessage))})).then((function(i){e.enableButtons(),e.enableInput(),i?e.showValidationMessage(i):Ei(e,t,n)}))},Ri=function(e,t,n){t.showLoaderOnDeny&&Ht(G()),t.preDeny?Promise.resolve().then((function(){return A(t.preDeny(n,t.validationMessage))})).then((function(t){!1===t?e.hideLoading():e.closePopup({isDenied:!0,value:void 0===t?n:t})})):e.closePopup({isDenied:!0,value:n})},Mi=function(e,t){e.closePopup({isConfirmed:!0,value:t})},Ei=function(e,t,n){t.showLoaderOnConfirm&&Ht(),t.preConfirm?(e.resetValidationMessage(),Promise.resolve().then((function(){return A(t.preConfirm(n,t.validationMessage))})).then((function(t){Ae(X())||!1===t?e.hideLoading():Mi(e,void 0===t?n:t)}))):Mi(e,n)},Pi=function(e,t,n,i){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=function(t){return Hi(e,t,i)},t.keydownTarget=n.keydownListenerCapture?window:U(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Bi=function(e,t,n){var i=re();if(i.length)return(t+=n)===i.length?t=0:-1===t&&(t=i.length-1),i[t].focus();U().focus()},ji=["ArrowRight","ArrowDown","Right","Down"],Ui=["ArrowLeft","ArrowUp","Left","Up"],Fi=["Escape","Esc"],Hi=function(e,t,n){var i=tt.innerParams.get(e);i.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Vi(e,t,i):"Tab"===t.key?qi(t,i):-1!==[].concat(ji,Ui).indexOf(t.key)?zi(t.key):-1!==Fi.indexOf(t.key)&&Wi(t,i,n)},Vi=function(e,t,n){if(!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Pt(),t.preventDefault()}},qi=function(e,t){for(var n=e.target,i=re(),a=-1,o=0;o<i.length;o++)if(n===i[o]){a=o;break}e.shiftKey?Bi(t,a,-1):Bi(t,a,1),e.stopPropagation(),e.preventDefault()},zi=function(e){if(-1!==[Y(),G(),Z()].indexOf(document.activeElement)){var t=-1!==ji.indexOf(e)?"nextElementSibling":"previousElementSibling",n=document.activeElement[t];n&&n.focus()}},Wi=function(e,t,n){k(t.allowEscapeKey)&&(e.preventDefault(),n(I.esc))},Ji=function(e,t,n){tt.innerParams.get(e).toast?Xi(e,t,n):(Gi(t),Ki(t),Qi(e,t,n))},Xi=function(e,t,n){t.popup.onclick=function(){var t=tt.innerParams.get(e);t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton||t.timer||t.input||n(I.close)}},Yi=!1,Gi=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(Yi=!0)}}},Ki=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(Yi=!0)}}},Qi=function(e,t,n){t.container.onclick=function(i){var a=tt.innerParams.get(e);Yi?Yi=!1:i.target===t.container&&k(a.allowOutsideClick)&&n(I.backdrop)}};function Zi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};mn(a({},t,e)),qt.currentInstance&&qt.currentInstance._destroy(),qt.currentInstance=this;var n=ea(e,t);ti(n),Object.freeze(n),qt.timeout&&(qt.timeout.stop(),delete qt.timeout),clearTimeout(qt.restoreFocusTimeout);var i=na(this);return Mt(this,n),tt.innerParams.set(this,n),ta(this,i,n)}var ea=function(e,t){var n=ii(e),i=a({},an.showClass,t.showClass,n.showClass,e.showClass),o=a({},an.hideClass,t.hideClass,n.hideClass,e.hideClass),r=a({},an,t,n,e);return r.showClass=i,r.hideClass=o,!1===e.animation&&(r.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},r.hideClass={}),r},ta=function(e,t,n){return new Promise((function(i){var a=function(t){e.closePopup({isDismissed:!0,dismiss:t})};On.swalPromiseResolve.set(e,i),t.confirmButton.onclick=function(){return Ii(e,n)},t.denyButton.onclick=function(){return Di(e,n)},t.cancelButton.onclick=function(){return Ti(e,a)},t.closeButton.onclick=function(){return a(I.close)},Ji(e,t,a),Pi(e,qt,n,a),n.toast&&(n.input||n.footer||n.showCloseButton)?ye(document.body,M["toast-column"]):we(document.body,M["toast-column"]),yi(e,n),fi(n),ia(qt,n,a),aa(t,n),setTimeout((function(){t.container.scrollTop=0}))}))},na=function(e){var t={popup:U(),container:P(),content:q(),actions:ee(),confirmButton:Y(),denyButton:G(),cancelButton:Z(),loader:Q(),closeButton:ae(),validationMessage:X(),progressSteps:J()};return tt.domCache.set(e,t),t},ia=function(e,t,n){var i=ie();xe(i),t.timer&&(e.timeout=new Kn((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(Ce(i),setTimeout((function(){e.timeout&&e.timeout.running&&Le(t.timer)}))))},aa=function(e,t){if(!t.toast)return k(t.allowEnterKey)?void(oa(e,t)||Bi(t,-1,1)):ra()},oa=function(e,t){return t.focusDeny&&Ae(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Ae(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!Ae(e.confirmButton)||(e.confirmButton.focus(),0))},ra=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};function sa(e){var t=U(),n=tt.innerParams.get(this);if(!t||pe(t,n.hideClass.popup))return w("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var i={};Object.keys(e).forEach((function(t){va.isUpdatableParameter(t)?i[t]=e[t]:w('Invalid parameter to update: "'.concat(t,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}));var o=a({},n,i);Mt(this,o),tt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:a({},this.params,e),writable:!1,enumerable:!0}})}function la(){var e=tt.domCache.get(this),t=tt.innerParams.get(this);t&&(e.popup&&qt.swalCloseEventFinishedCallback&&(qt.swalCloseEventFinishedCallback(),delete qt.swalCloseEventFinishedCallback),qt.deferDisposalTimer&&(clearTimeout(qt.deferDisposalTimer),delete qt.deferDisposalTimer),da(t),ua(this))}var ca,da=function(e){"function"==typeof e.didDestroy?e.didDestroy():"function"==typeof e.onDestroy&&e.onDestroy()},ua=function(e){delete e.params,delete qt.keydownHandler,delete qt.keydownTarget,pa(tt),pa(On)},pa=function(e){for(var t in e)e[t]=new WeakMap},fa=Object.freeze({hideLoading:hn,disableLoading:hn,getInput:gn,close:En,closePopup:En,closeModal:En,closeToast:En,enableButtons:qn,disableButtons:zn,enableInput:Wn,disableInput:Jn,showValidationMessage:Xn,resetValidationMessage:Yn,getProgressSteps:Gn,_main:Zi,update:sa,_destroy:la}),ma=function(){function e(){if(t(this,e),"undefined"!=typeof window){"undefined"==typeof Promise&&_("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),ca=this;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=Object.freeze(this.constructor.argsToParams(i));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var r=this._main(this.params);tt.promise.set(this,r)}}return i(e,[{key:"then",value:function(e){return tt.promise.get(this).then(e)}},{key:"finally",value:function(e){return tt.promise.get(this).finally(e)}}]),e}();a(ma.prototype,fa),a(ma,vn),Object.keys(fa).forEach((function(e){ma[e]=function(){var t;if(ca)return(t=ca)[e].apply(t,arguments)}})),ma.DismissReason=I,ma.version="10.14.0";var va=ma;return va.default=va,va}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row;padding:0}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;padding:0;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.125em .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center;padding:0 1.8em}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0 1.6em}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#2778c4;color:#fff;font-size:1.0625em}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#d14529;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#757575;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0 1.6em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto}.swal2-validation-message{display:none;align-items:center;justify-content:center;margin:0 -2.7em;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1;zoom:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;zoom:1;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;zoom:1;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;zoom:1;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;zoom:1;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;zoom:1;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')}},t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={id:i,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=Object.freeze({});function t(e){return null==e}function i(e){return null!=e}function a(e){return!0===e}function o(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function r(e){return null!==e&&"object"==typeof e}var s=Object.prototype.toString;function c(e){return"[object Object]"===s.call(e)}function d(e){return"[object RegExp]"===s.call(e)}function u(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return i(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function f(e){return null==e?"":Array.isArray(e)||c(e)&&e.toString===s?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),i=e.split(","),a=0;a<i.length;a++)n[i[a]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var h=v("slot,component",!0),g=v("key,ref,slot,slot-scope,is");function b(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function w(e,t){return y.call(e,t)}function _(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var S=/-(\w)/g,C=_((function(e){return e.replace(S,(function(e,t){return t?t.toUpperCase():""}))})),x=_((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),k=/\B([A-Z])/g,A=_((function(e){return e.replace(k,"-$1").toLowerCase()}));var N=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function I(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function D(e,t){for(var n in t)e[n]=t[n];return e}function T(e){for(var t={},n=0;n<e.length;n++)e[n]&&D(t,e[n]);return t}function L(e,t,n){}var O=function(e,t,n){return!1},R=function(e){return e};function M(e,t){if(e===t)return!0;var n=r(e),i=r(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var a=Array.isArray(e),o=Array.isArray(t);if(a&&o)return e.length===t.length&&e.every((function(e,n){return M(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(a||o)return!1;var s=Object.keys(e),l=Object.keys(t);return s.length===l.length&&s.every((function(n){return M(e[n],t[n])}))}catch(e){return!1}}function E(e,t){for(var n=0;n<e.length;n++)if(M(e[n],t))return n;return-1}function P(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var B="data-server-rendered",j=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],F={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:L,parsePlatformTagName:R,mustUseProp:O,async:!0,_lifecycleHooks:U},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function q(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var z=new RegExp("[^"+H.source+".$_\\d]");var W,J="__proto__"in{},X="undefined"!=typeof window,Y="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,G=Y&&WXEnvironment.platform.toLowerCase(),K=X&&window.navigator.userAgent.toLowerCase(),Q=K&&/msie|trident/.test(K),Z=K&&K.indexOf("msie 9.0")>0,ee=K&&K.indexOf("edge/")>0,te=(K&&K.indexOf("android"),K&&/iphone|ipad|ipod|ios/.test(K)||"ios"===G),ne=(K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K),K&&K.match(/firefox\/(\d+)/)),ie={}.watch,ae=!1;if(X)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){ae=!0}}),window.addEventListener("test-passive",null,oe)}catch(e){}var re=function(){return void 0===W&&(W=!X&&!Y&&void 0!==n.g&&(n.g.process&&"server"===n.g.process.env.VUE_ENV)),W},se=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function le(e){return"function"==typeof e&&/native code/.test(e.toString())}var ce,de="undefined"!=typeof Symbol&&le(Symbol)&&"undefined"!=typeof Reflect&&le(Reflect.ownKeys);ce="undefined"!=typeof Set&&le(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ue=L,pe=0,fe=function(){this.id=pe++,this.subs=[]};fe.prototype.addSub=function(e){this.subs.push(e)},fe.prototype.removeSub=function(e){b(this.subs,e)},fe.prototype.depend=function(){fe.target&&fe.target.addDep(this)},fe.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},fe.target=null;var me=[];function ve(e){me.push(e),fe.target=e}function he(){me.pop(),fe.target=me[me.length-1]}var ge=function(e,t,n,i,a,o,r,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=a,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=r,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},be={child:{configurable:!0}};be.child.get=function(){return this.componentInstance},Object.defineProperties(ge.prototype,be);var ye=function(e){void 0===e&&(e="");var t=new ge;return t.text=e,t.isComment=!0,t};function we(e){return new ge(void 0,void 0,void 0,String(e))}function _e(e){var t=new ge(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Se=Array.prototype,Ce=Object.create(Se);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=Se[e];q(Ce,e,(function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var a,o=t.apply(this,n),r=this.__ob__;switch(e){case"push":case"unshift":a=n;break;case"splice":a=n.slice(2)}return a&&r.observeArray(a),r.dep.notify(),o}))}));var xe=Object.getOwnPropertyNames(Ce),ke=!0;function $e(e){ke=e}var Ae=function(e){this.value=e,this.dep=new fe,this.vmCount=0,q(e,"__ob__",this),Array.isArray(e)?(J?function(e,t){e.__proto__=t}(e,Ce):function(e,t,n){for(var i=0,a=n.length;i<a;i++){var o=n[i];q(e,o,t[o])}}(e,Ce,xe),this.observeArray(e)):this.walk(e)};function Ne(e,t){var n;if(r(e)&&!(e instanceof ge))return w(e,"__ob__")&&e.__ob__ instanceof Ae?n=e.__ob__:ke&&!re()&&(Array.isArray(e)||c(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Ae(e)),t&&n&&n.vmCount++,n}function Ie(e,t,n,i,a){var o=new fe,r=Object.getOwnPropertyDescriptor(e,t);if(!r||!1!==r.configurable){var s=r&&r.get,l=r&&r.set;s&&!l||2!==arguments.length||(n=e[t]);var c=!a&&Ne(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return fe.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&Le(t))),t},set:function(t){var i=s?s.call(e):n;t===i||t!=t&&i!=i||s&&!l||(l?l.call(e,t):n=t,c=!a&&Ne(t),o.notify())}})}}function De(e,t,n){if(Array.isArray(e)&&u(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?(Ie(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function Te(e,t){if(Array.isArray(e)&&u(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||w(e,t)&&(delete e[t],n&&n.dep.notify())}}function Le(e){for(var t=void 0,n=0,i=e.length;n<i;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Le(t)}Ae.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Ie(e,t[n])},Ae.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ne(e[t])};var Oe=F.optionMergeStrategies;function Re(e,t){if(!t)return e;for(var n,i,a,o=de?Reflect.ownKeys(t):Object.keys(t),r=0;r<o.length;r++)"__ob__"!==(n=o[r])&&(i=e[n],a=t[n],w(e,n)?i!==a&&c(i)&&c(a)&&Re(i,a):De(e,n,a));return e}function Me(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,a="function"==typeof e?e.call(n,n):e;return i?Re(i,a):a}:t?e?function(){return Re("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Ee(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function Pe(e,t,n,i){var a=Object.create(e||null);return t?D(a,t):a}Oe.data=function(e,t,n){return n?Me(e,t,n):t&&"function"!=typeof t?e:Me(e,t)},U.forEach((function(e){Oe[e]=Ee})),j.forEach((function(e){Oe[e+"s"]=Pe})),Oe.watch=function(e,t,n,i){if(e===ie&&(e=void 0),t===ie&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var a={};for(var o in D(a,e),t){var r=a[o],s=t[o];r&&!Array.isArray(r)&&(r=[r]),a[o]=r?r.concat(s):Array.isArray(s)?s:[s]}return a},Oe.props=Oe.methods=Oe.inject=Oe.computed=function(e,t,n,i){if(!e)return t;var a=Object.create(null);return D(a,e),t&&D(a,t),a},Oe.provide=Me;var Be=function(e,t){return void 0===t?e:t};function je(e,t,n){if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var i,a,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(a=n[i])&&(o[C(a)]={type:null});else if(c(n))for(var r in n)a=n[r],o[C(r)]=c(a)?a:{type:a};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var a=0;a<n.length;a++)i[n[a]]={from:n[a]};else if(c(n))for(var o in n){var r=n[o];i[o]=c(r)?D({from:o},r):{from:r}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}(t),!t._base&&(t.extends&&(e=je(e,t.extends,n)),t.mixins))for(var i=0,a=t.mixins.length;i<a;i++)e=je(e,t.mixins[i],n);var o,r={};for(o in e)s(o);for(o in t)w(e,o)||s(o);function s(i){var a=Oe[i]||Be;r[i]=a(e[i],t[i],n,i)}return r}function Ue(e,t,n,i){if("string"==typeof n){var a=e[t];if(w(a,n))return a[n];var o=C(n);if(w(a,o))return a[o];var r=x(o);return w(a,r)?a[r]:a[n]||a[o]||a[r]}}function Fe(e,t,n,i){var a=t[e],o=!w(n,e),r=n[e],s=qe(Boolean,a.type);if(s>-1)if(o&&!w(a,"default"))r=!1;else if(""===r||r===A(e)){var l=qe(String,a.type);(l<0||s<l)&&(r=!0)}if(void 0===r){r=function(e,t,n){if(!w(t,"default"))return;var i=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return"function"==typeof i&&"Function"!==He(t.type)?i.call(e):i}(i,a,e);var c=ke;$e(!0),Ne(r),$e(c)}return r}function He(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ve(e,t){return He(e)===He(t)}function qe(e,t){if(!Array.isArray(t))return Ve(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(Ve(t[n],e))return n;return-1}function ze(e,t,n){ve();try{if(t)for(var i=t;i=i.$parent;){var a=i.$options.errorCaptured;if(a)for(var o=0;o<a.length;o++)try{if(!1===a[o].call(i,e,t,n))return}catch(e){Je(e,i,"errorCaptured hook")}}Je(e,t,n)}finally{he()}}function We(e,t,n,i,a){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(e){return ze(e,i,a+" (Promise/async)")})),o._handled=!0)}catch(e){ze(e,i,a)}return o}function Je(e,t,n){if(F.errorHandler)try{return F.errorHandler.call(null,e,t,n)}catch(t){t!==e&&Xe(t,null,"config.errorHandler")}Xe(e,t,n)}function Xe(e,t,n){if(!X&&!Y||"undefined"==typeof console)throw e;console.error(e)}var Ye,Ge=!1,Ke=[],Qe=!1;function Ze(){Qe=!1;var e=Ke.slice(0);Ke.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&le(Promise)){var et=Promise.resolve();Ye=function(){et.then(Ze),te&&setTimeout(L)},Ge=!0}else if(Q||"undefined"==typeof MutationObserver||!le(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ye="undefined"!=typeof setImmediate&&le(setImmediate)?function(){setImmediate(Ze)}:function(){setTimeout(Ze,0)};else{var tt=1,nt=new MutationObserver(Ze),it=document.createTextNode(String(tt));nt.observe(it,{characterData:!0}),Ye=function(){tt=(tt+1)%2,it.data=String(tt)},Ge=!0}function at(e,t){var n;if(Ke.push((function(){if(e)try{e.call(t)}catch(e){ze(e,t,"nextTick")}else n&&n(t)})),Qe||(Qe=!0,Ye()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}var ot=new ce;function rt(e){st(e,ot),ot.clear()}function st(e,t){var n,i,a=Array.isArray(e);if(!(!a&&!r(e)||Object.isFrozen(e)||e instanceof ge)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(a)for(n=e.length;n--;)st(e[n],t);else for(n=(i=Object.keys(e)).length;n--;)st(e[i[n]],t)}}var lt=_((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}}));function ct(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return We(i,null,arguments,t,"v-on handler");for(var a=i.slice(),o=0;o<a.length;o++)We(a[o],null,e,t,"v-on handler")}return n.fns=e,n}function dt(e,n,i,o,r,s){var l,c,d,u;for(l in e)c=e[l],d=n[l],u=lt(l),t(c)||(t(d)?(t(c.fns)&&(c=e[l]=ct(c,s)),a(u.once)&&(c=e[l]=r(u.name,c,u.capture)),i(u.name,c,u.capture,u.passive,u.params)):c!==d&&(d.fns=c,e[l]=d));for(l in n)t(e[l])&&o((u=lt(l)).name,n[l],u.capture)}function ut(e,n,o){var r;e instanceof ge&&(e=e.data.hook||(e.data.hook={}));var s=e[n];function l(){o.apply(this,arguments),b(r.fns,l)}t(s)?r=ct([l]):i(s.fns)&&a(s.merged)?(r=s).fns.push(l):r=ct([s,l]),r.merged=!0,e[n]=r}function pt(e,t,n,a,o){if(i(t)){if(w(t,n))return e[n]=t[n],o||delete t[n],!0;if(w(t,a))return e[n]=t[a],o||delete t[a],!0}return!1}function ft(e){return o(e)?[we(e)]:Array.isArray(e)?vt(e):void 0}function mt(e){return i(e)&&i(e.text)&&!1===e.isComment}function vt(e,n){var r,s,l,c,d=[];for(r=0;r<e.length;r++)t(s=e[r])||"boolean"==typeof s||(c=d[l=d.length-1],Array.isArray(s)?s.length>0&&(mt((s=vt(s,(n||"")+"_"+r))[0])&&mt(c)&&(d[l]=we(c.text+s[0].text),s.shift()),d.push.apply(d,s)):o(s)?mt(c)?d[l]=we(c.text+s):""!==s&&d.push(we(s)):mt(s)&&mt(c)?d[l]=we(c.text+s.text):(a(e._isVList)&&i(s.tag)&&t(s.key)&&i(n)&&(s.key="__vlist"+n+"_"+r+"__"),d.push(s)));return d}function ht(e,t){if(e){for(var n=Object.create(null),i=de?Reflect.ownKeys(e):Object.keys(e),a=0;a<i.length;a++){var o=i[a];if("__ob__"!==o){for(var r=e[o].from,s=t;s;){if(s._provided&&w(s._provided,r)){n[o]=s._provided[r];break}s=s.$parent}if(!s)if("default"in e[o]){var l=e[o].default;n[o]="function"==typeof l?l.call(t):l}else 0}}return n}}function gt(e,t){if(!e||!e.length)return{};for(var n={},i=0,a=e.length;i<a;i++){var o=e[i],r=o.data;if(r&&r.attrs&&r.attrs.slot&&delete r.attrs.slot,o.context!==t&&o.fnContext!==t||!r||null==r.slot)(n.default||(n.default=[])).push(o);else{var s=r.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(bt)&&delete n[c];return n}function bt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function yt(t,n,i){var a,o=Object.keys(n).length>0,r=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(r&&i&&i!==e&&s===i.$key&&!o&&!i.$hasNormal)return i;for(var l in a={},t)t[l]&&"$"!==l[0]&&(a[l]=wt(n,l,t[l]))}else a={};for(var c in n)c in a||(a[c]=_t(n,c));return t&&Object.isExtensible(t)&&(t._normalized=a),q(a,"$stable",r),q(a,"$key",s),q(a,"$hasNormal",o),a}function wt(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:ft(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function _t(e,t){return function(){return e[t]}}function St(e,t){var n,a,o,s,l;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),a=0,o=e.length;a<o;a++)n[a]=t(e[a],a);else if("number"==typeof e)for(n=new Array(e),a=0;a<e;a++)n[a]=t(a+1,a);else if(r(e))if(de&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),d=c.next();!d.done;)n.push(t(d.value,n.length)),d=c.next()}else for(s=Object.keys(e),n=new Array(s.length),a=0,o=s.length;a<o;a++)l=s[a],n[a]=t(e[l],l,a);return i(n)||(n=[]),n._isVList=!0,n}function Ct(e,t,n,i){var a,o=this.$scopedSlots[e];o?(n=n||{},i&&(n=D(D({},i),n)),a=o(n)||t):a=this.$slots[e]||t;var r=n&&n.slot;return r?this.$createElement("template",{slot:r},a):a}function xt(e){return Ue(this.$options,"filters",e)||R}function kt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function $t(e,t,n,i,a){var o=F.keyCodes[t]||n;return a&&i&&!F.keyCodes[t]?kt(a,i):o?kt(o,e):i?A(i)!==t:void 0}function At(e,t,n,i,a){if(n)if(r(n)){var o;Array.isArray(n)&&(n=T(n));var s=function(r){if("class"===r||"style"===r||g(r))o=e;else{var s=e.attrs&&e.attrs.type;o=i||F.mustUseProp(t,s,r)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=C(r),c=A(r);l in o||c in o||(o[r]=n[r],a&&((e.on||(e.on={}))["update:"+r]=function(e){n[r]=e}))};for(var l in n)s(l)}else;return e}function Nt(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t||Dt(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),i}function It(e,t,n){return Dt(e,"__once__"+t+(n?"_"+n:""),!0),e}function Dt(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&Tt(e[i],t+"_"+i,n);else Tt(e,t,n)}function Tt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Lt(e,t){if(t)if(c(t)){var n=e.on=e.on?D({},e.on):{};for(var i in t){var a=n[i],o=t[i];n[i]=a?[].concat(a,o):o}}else;return e}function Ot(e,t,n,i){t=t||{$stable:!n};for(var a=0;a<e.length;a++){var o=e[a];Array.isArray(o)?Ot(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function Rt(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function Mt(e,t){return"string"==typeof e?t+e:e}function Et(e){e._o=It,e._n=m,e._s=f,e._l=St,e._t=Ct,e._q=M,e._i=E,e._m=Nt,e._f=xt,e._k=$t,e._b=At,e._v=we,e._e=ye,e._u=Ot,e._g=Lt,e._d=Rt,e._p=Mt}function Pt(t,n,i,o,r){var s,l=this,c=r.options;w(o,"_uid")?(s=Object.create(o))._original=o:(s=o,o=o._original);var d=a(c._compiled),u=!d;this.data=t,this.props=n,this.children=i,this.parent=o,this.listeners=t.on||e,this.injections=ht(c.inject,o),this.slots=function(){return l.$slots||yt(t.scopedSlots,l.$slots=gt(i,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return yt(t.scopedSlots,this.slots())}}),d&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=yt(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,i){var a=qt(s,e,t,n,i,u);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=o),a}:this._c=function(e,t,n,i){return qt(s,e,t,n,i,u)}}function Bt(e,t,n,i,a){var o=_e(e);return o.fnContext=n,o.fnOptions=i,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function jt(e,t){for(var n in t)e[C(n)]=t[n]}Et(Pt.prototype);var Ut={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Ut.prepatch(n,n)}else{(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},a=e.data.inlineTemplate;i(a)&&(n.render=a.render,n.staticRenderFns=a.staticRenderFns);return new e.componentOptions.Ctor(n)}(e,tn)).$mount(t?e.elm:void 0,t)}},prepatch:function(t,n){var i=n.componentOptions;!function(t,n,i,a,o){0;var r=a.data.scopedSlots,s=t.$scopedSlots,l=!!(r&&!r.$stable||s!==e&&!s.$stable||r&&t.$scopedSlots.$key!==r.$key),c=!!(o||t.$options._renderChildren||l);t.$options._parentVnode=a,t.$vnode=a,t._vnode&&(t._vnode.parent=a);if(t.$options._renderChildren=o,t.$attrs=a.data.attrs||e,t.$listeners=i||e,n&&t.$options.props){$e(!1);for(var d=t._props,u=t.$options._propKeys||[],p=0;p<u.length;p++){var f=u[p],m=t.$options.props;d[f]=Fe(f,m,n,t)}$e(!0),t.$options.propsData=n}i=i||e;var v=t.$options._parentListeners;t.$options._parentListeners=i,en(t,i,v),c&&(t.$slots=gt(o,a.context),t.$forceUpdate());0}(n.componentInstance=t.componentInstance,i.propsData,i.listeners,n,i.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,sn(n,"mounted")),e.data.keepAlive&&(t._isMounted?function(e){e._inactive=!1,cn.push(e)}(n):on(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?rn(t,!0):t.$destroy())}},Ft=Object.keys(Ut);function Ht(n,o,s,l,c){if(!t(n)){var d=s.$options._base;if(r(n)&&(n=d.extend(n)),"function"==typeof n){var u;if(t(n.cid)&&void 0===(n=function(e,n){if(a(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var o=Jt;o&&i(e.owners)&&-1===e.owners.indexOf(o)&&e.owners.push(o);if(a(e.loading)&&i(e.loadingComp))return e.loadingComp;if(o&&!i(e.owners)){var s=e.owners=[o],l=!0,c=null,d=null;o.$on("hook:destroyed",(function(){return b(s,o)}));var u=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==d&&(clearTimeout(d),d=null))},f=P((function(t){e.resolved=Xt(t,n),l?s.length=0:u(!0)})),m=P((function(t){i(e.errorComp)&&(e.error=!0,u(!0))})),v=e(f,m);return r(v)&&(p(v)?t(e.resolved)&&v.then(f,m):p(v.component)&&(v.component.then(f,m),i(v.error)&&(e.errorComp=Xt(v.error,n)),i(v.loading)&&(e.loadingComp=Xt(v.loading,n),0===v.delay?e.loading=!0:c=setTimeout((function(){c=null,t(e.resolved)&&t(e.error)&&(e.loading=!0,u(!1))}),v.delay||200)),i(v.timeout)&&(d=setTimeout((function(){d=null,t(e.resolved)&&m(null)}),v.timeout)))),l=!1,e.loading?e.loadingComp:e.resolved}}(u=n,d)))return function(e,t,n,i,a){var o=ye();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:a},o}(u,o,s,l,c);o=o||{},In(n),i(o.model)&&function(e,t){var n=e.model&&e.model.prop||"value",a=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),r=o[a],s=t.model.callback;i(r)?(Array.isArray(r)?-1===r.indexOf(s):r!==s)&&(o[a]=[s].concat(r)):o[a]=s}(n.options,o);var f=function(e,n,a){var o=n.options.props;if(!t(o)){var r={},s=e.attrs,l=e.props;if(i(s)||i(l))for(var c in o){var d=A(c);pt(r,l,c,d,!0)||pt(r,s,c,d,!1)}return r}}(o,n);if(a(n.options.functional))return function(t,n,a,o,r){var s=t.options,l={},c=s.props;if(i(c))for(var d in c)l[d]=Fe(d,c,n||e);else i(a.attrs)&&jt(l,a.attrs),i(a.props)&&jt(l,a.props);var u=new Pt(a,l,r,o,t),p=s.render.call(null,u._c,u);if(p instanceof ge)return Bt(p,a,u.parent,s);if(Array.isArray(p)){for(var f=ft(p)||[],m=new Array(f.length),v=0;v<f.length;v++)m[v]=Bt(f[v],a,u.parent,s);return m}}(n,f,o,s,l);var m=o.on;if(o.on=o.nativeOn,a(n.options.abstract)){var v=o.slot;o={},v&&(o.slot=v)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Ft.length;n++){var i=Ft[n],a=t[i],o=Ut[i];a===o||a&&a._merged||(t[i]=a?Vt(o,a):o)}}(o);var h=n.options.name||c;return new ge("vue-component-"+n.cid+(h?"-"+h:""),o,void 0,void 0,void 0,s,{Ctor:n,propsData:f,listeners:m,tag:c,children:l},u)}}}function Vt(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}function qt(e,t,n,s,l,c){return(Array.isArray(n)||o(n))&&(l=s,s=n,n=void 0),a(c)&&(l=2),function(e,t,n,a,o){if(i(n)&&i(n.__ob__))return ye();i(n)&&i(n.is)&&(t=n.is);if(!t)return ye();0;Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={default:a[0]},a.length=0);2===o?a=ft(a):1===o&&(a=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(a));var s,l;if("string"==typeof t){var c;l=e.$vnode&&e.$vnode.ns||F.getTagNamespace(t),s=F.isReservedTag(t)?new ge(F.parsePlatformTagName(t),n,a,void 0,void 0,e):n&&n.pre||!i(c=Ue(e.$options,"components",t))?new ge(t,n,a,void 0,void 0,e):Ht(c,n,e,a,t)}else s=Ht(t,n,e,a);return Array.isArray(s)?s:i(s)?(i(l)&&zt(s,l),i(n)&&function(e){r(e.style)&&rt(e.style);r(e.class)&&rt(e.class)}(n),s):ye()}(e,t,n,s,l)}function zt(e,n,o){if(e.ns=n,"foreignObject"===e.tag&&(n=void 0,o=!0),i(e.children))for(var r=0,s=e.children.length;r<s;r++){var l=e.children[r];i(l.tag)&&(t(l.ns)||a(o)&&"svg"!==l.tag)&&zt(l,n,o)}}var Wt,Jt=null;function Xt(e,t){return(e.__esModule||de&&"Module"===e[Symbol.toStringTag])&&(e=e.default),r(e)?t.extend(e):e}function Yt(e){return e.isComment&&e.asyncFactory}function Gt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||Yt(n)))return n}}function Kt(e,t){Wt.$on(e,t)}function Qt(e,t){Wt.$off(e,t)}function Zt(e,t){var n=Wt;return function i(){var a=t.apply(null,arguments);null!==a&&n.$off(e,i)}}function en(e,t,n){Wt=e,dt(t,n||{},Kt,Qt,Zt,e),Wt=void 0}var tn=null;function nn(e){var t=tn;return tn=e,function(){tn=t}}function an(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function on(e,t){if(t){if(e._directInactive=!1,an(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)on(e.$children[n]);sn(e,"activated")}}function rn(e,t){if(!(t&&(e._directInactive=!0,an(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)rn(e.$children[n]);sn(e,"deactivated")}}function sn(e,t){ve();var n=e.$options[t],i=t+" hook";if(n)for(var a=0,o=n.length;a<o;a++)We(n[a],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),he()}var ln=[],cn=[],dn={},un=!1,pn=!1,fn=0;var mn=0,vn=Date.now;if(X&&!Q){var hn=window.performance;hn&&"function"==typeof hn.now&&vn()>document.createEvent("Event").timeStamp&&(vn=function(){return hn.now()})}function gn(){var e,t;for(mn=vn(),pn=!0,ln.sort((function(e,t){return e.id-t.id})),fn=0;fn<ln.length;fn++)(e=ln[fn]).before&&e.before(),t=e.id,dn[t]=null,e.run();var n=cn.slice(),i=ln.slice();fn=ln.length=cn.length=0,dn={},un=pn=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,on(e[t],!0)}(n),function(e){var t=e.length;for(;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&sn(i,"updated")}}(i),se&&F.devtools&&se.emit("flush")}var bn=0,yn=function(e,t,n,i,a){this.vm=e,a&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++bn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ce,this.newDepIds=new ce,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!z.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()};yn.prototype.get=function(){var e;ve(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;ze(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&rt(e),he(),this.cleanupDeps()}return e},yn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},yn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},yn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==dn[t]){if(dn[t]=!0,pn){for(var n=ln.length-1;n>fn&&ln[n].id>e.id;)n--;ln.splice(n+1,0,e)}else ln.push(e);un||(un=!0,at(gn))}}(this)},yn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||r(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){ze(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},yn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},yn.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},yn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var wn={enumerable:!0,configurable:!0,get:L,set:L};function _n(e,t,n){wn.get=function(){return this[t][n]},wn.set=function(e){this[t][n]=e},Object.defineProperty(e,n,wn)}function Sn(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},i=e._props={},a=e.$options._propKeys=[];e.$parent&&$e(!1);var o=function(o){a.push(o);var r=Fe(o,t,n,e);Ie(i,o,r),o in e||_n(e,"_props",o)};for(var r in t)o(r);$e(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t)e[n]="function"!=typeof t[n]?L:N(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;c(t=e._data="function"==typeof t?function(e,t){ve();try{return e.call(t,t)}catch(e){return ze(e,t,"data()"),{}}finally{he()}}(t,e):t||{})||(t={});var n=Object.keys(t),i=e.$options.props,a=(e.$options.methods,n.length);for(;a--;){var o=n[a];0,i&&w(i,o)||V(o)||_n(e,"_data",o)}Ne(t,!0)}(e):Ne(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=re();for(var a in t){var o=t[a],r="function"==typeof o?o:o.get;0,i||(n[a]=new yn(e,r||L,L,Cn)),a in e||xn(e,a,o)}}(e,t.computed),t.watch&&t.watch!==ie&&function(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var a=0;a<i.length;a++)An(e,n,i[a]);else An(e,n,i)}}(e,t.watch)}var Cn={lazy:!0};function xn(e,t,n){var i=!re();"function"==typeof n?(wn.get=i?kn(t):$n(n),wn.set=L):(wn.get=n.get?i&&!1!==n.cache?kn(t):$n(n.get):L,wn.set=n.set||L),Object.defineProperty(e,t,wn)}function kn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),fe.target&&t.depend(),t.value}}function $n(e){return function(){return e.call(this,this)}}function An(e,t,n,i){return c(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}var Nn=0;function In(e){var t=e.options;if(e.super){var n=In(e.super);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.sealedOptions;for(var a in n)n[a]!==i[a]&&(t||(t={}),t[a]=n[a]);return t}(e);i&&D(e.extendOptions,i),(t=e.options=je(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Dn(e){this._init(e)}function Tn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,a=e._Ctor||(e._Ctor={});if(a[i])return a[i];var o=e.name||n.options.name;var r=function(e){this._init(e)};return(r.prototype=Object.create(n.prototype)).constructor=r,r.cid=t++,r.options=je(n.options,e),r.super=n,r.options.props&&function(e){var t=e.options.props;for(var n in t)_n(e.prototype,"_props",n)}(r),r.options.computed&&function(e){var t=e.options.computed;for(var n in t)xn(e.prototype,n,t[n])}(r),r.extend=n.extend,r.mixin=n.mixin,r.use=n.use,j.forEach((function(e){r[e]=n[e]})),o&&(r.options.components[o]=r),r.superOptions=n.options,r.extendOptions=e,r.sealedOptions=D({},r.options),a[i]=r,r}}function Ln(e){return e&&(e.Ctor.options.name||e.tag)}function On(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function Rn(e,t){var n=e.cache,i=e.keys,a=e._vnode;for(var o in n){var r=n[o];if(r){var s=Ln(r.componentOptions);s&&!t(s)&&Mn(n,o,i,a)}}}function Mn(e,t,n,i){var a=e[t];!a||i&&a.tag===i.tag||a.componentInstance.$destroy(),e[t]=null,b(n,t)}!function(t){t.prototype._init=function(t){var n=this;n._uid=Nn++,n._isVue=!0,t&&t._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var a=i.componentOptions;n.propsData=a.propsData,n._parentListeners=a.listeners,n._renderChildren=a.children,n._componentTag=a.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(n,t):n.$options=je(In(n.constructor),t||{},n),n._renderProxy=n,n._self=n,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&en(e,t)}(n),function(t){t._vnode=null,t._staticTrees=null;var n=t.$options,i=t.$vnode=n._parentVnode,a=i&&i.context;t.$slots=gt(n._renderChildren,a),t.$scopedSlots=e,t._c=function(e,n,i,a){return qt(t,e,n,i,a,!1)},t.$createElement=function(e,n,i,a){return qt(t,e,n,i,a,!0)};var o=i&&i.data;Ie(t,"$attrs",o&&o.attrs||e,null,!0),Ie(t,"$listeners",n._parentListeners||e,null,!0)}(n),sn(n,"beforeCreate"),function(e){var t=ht(e.$options.inject,e);t&&($e(!1),Object.keys(t).forEach((function(n){Ie(e,n,t[n])})),$e(!0))}(n),Sn(n),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(n),sn(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(Dn),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=De,e.prototype.$delete=Te,e.prototype.$watch=function(e,t,n){var i=this;if(c(t))return An(i,e,t,n);(n=n||{}).user=!0;var a=new yn(i,e,t,n);if(n.immediate)try{t.call(i,a.value)}catch(e){ze(e,i,'callback for immediate watcher "'+a.expression+'"')}return function(){a.teardown()}}}(Dn),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var a=0,o=e.length;a<o;a++)i.$on(e[a],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,a=e.length;i<a;i++)n.$off(e[i],t);return n}var o,r=n._events[e];if(!r)return n;if(!t)return n._events[e]=null,n;for(var s=r.length;s--;)if((o=r[s])===t||o.fn===t){r.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?I(n):n;for(var i=I(arguments,1),a='event handler for "'+e+'"',o=0,r=n.length;o<r;o++)We(n[o],t,i,t,a)}return t}}(Dn),function(e){e.prototype._update=function(e,t){var n=this,i=n.$el,a=n._vnode,o=nn(n);n._vnode=e,n.$el=a?n.__patch__(a,e):n.__patch__(n.$el,e,t,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){sn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||b(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),sn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Dn),function(e){Et(e.prototype),e.prototype.$nextTick=function(e){return at(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,a=n._parentVnode;a&&(t.$scopedSlots=yt(a.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=a;try{Jt=t,e=i.call(t._renderProxy,t.$createElement)}catch(n){ze(n,t,"render"),e=t._vnode}finally{Jt=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ge||(e=ye()),e.parent=a,e}}(Dn);var En=[String,RegExp,Array],Pn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:En,exclude:En,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Mn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Rn(e,(function(e){return On(t,e)}))})),this.$watch("exclude",(function(t){Rn(e,(function(e){return!On(t,e)}))}))},render:function(){var e=this.$slots.default,t=Gt(e),n=t&&t.componentOptions;if(n){var i=Ln(n),a=this.include,o=this.exclude;if(a&&(!i||!On(a,i))||o&&i&&On(o,i))return t;var r=this.cache,s=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;r[l]?(t.componentInstance=r[l].componentInstance,b(s,l),s.push(l)):(r[l]=t,s.push(l),this.max&&s.length>parseInt(this.max)&&Mn(r,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return F}};Object.defineProperty(e,"config",t),e.util={warn:ue,extend:D,mergeOptions:je,defineReactive:Ie},e.set=De,e.delete=Te,e.nextTick=at,e.observable=function(e){return Ne(e),e},e.options=Object.create(null),j.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,D(e.options.components,Pn),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=I(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=je(this.options,e),this}}(e),Tn(e),function(e){j.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&c(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(Dn),Object.defineProperty(Dn.prototype,"$isServer",{get:re}),Object.defineProperty(Dn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Dn,"FunctionalRenderContext",{value:Pt}),Dn.version="2.6.12";var Bn=v("style,class"),jn=v("input,textarea,option,select,progress"),Un=function(e,t,n){return"value"===n&&jn(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Fn=v("contenteditable,draggable,spellcheck"),Hn=v("events,caret,typing,plaintext-only"),Vn=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),qn="http://www.w3.org/1999/xlink",zn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Wn=function(e){return zn(e)?e.slice(6,e.length):""},Jn=function(e){return null==e||!1===e};function Xn(e){for(var t=e.data,n=e,a=e;i(a.componentInstance);)(a=a.componentInstance._vnode)&&a.data&&(t=Yn(a.data,t));for(;i(n=n.parent);)n&&n.data&&(t=Yn(t,n.data));return function(e,t){if(i(e)||i(t))return Gn(e,Kn(t));return""}(t.staticClass,t.class)}function Yn(e,t){return{staticClass:Gn(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Gn(e,t){return e?t?e+" "+t:e:t||""}function Kn(e){return Array.isArray(e)?function(e){for(var t,n="",a=0,o=e.length;a<o;a++)i(t=Kn(e[a]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):r(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var Qn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Zn=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ei=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ti=function(e){return Zn(e)||ei(e)};function ni(e){return ei(e)?"svg":"math"===e?"math":void 0}var ii=Object.create(null);var ai=v("text,number,password,search,email,tel,url");function oi(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}var ri=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Qn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),si={create:function(e,t){li(t)},update:function(e,t){e.data.ref!==t.data.ref&&(li(e,!0),li(t))},destroy:function(e){li(e,!0)}};function li(e,t){var n=e.data.ref;if(i(n)){var a=e.context,o=e.componentInstance||e.elm,r=a.$refs;t?Array.isArray(r[n])?b(r[n],o):r[n]===o&&(r[n]=void 0):e.data.refInFor?Array.isArray(r[n])?r[n].indexOf(o)<0&&r[n].push(o):r[n]=[o]:r[n]=o}}var ci=new ge("",{},[]),di=["create","activate","update","remove","destroy"];function ui(e,n){return e.key===n.key&&(e.tag===n.tag&&e.isComment===n.isComment&&i(e.data)===i(n.data)&&function(e,t){if("input"!==e.tag)return!0;var n,a=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return a===o||ai(a)&&ai(o)}(e,n)||a(e.isAsyncPlaceholder)&&e.asyncFactory===n.asyncFactory&&t(n.asyncFactory.error))}function pi(e,t,n){var a,o,r={};for(a=t;a<=n;++a)i(o=e[a].key)&&(r[o]=a);return r}var fi={create:mi,update:mi,destroy:function(e){mi(e,ci)}};function mi(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,a,o=e===ci,r=t===ci,s=hi(e.data.directives,e.context),l=hi(t.data.directives,t.context),c=[],d=[];for(n in l)i=s[n],a=l[n],i?(a.oldValue=i.value,a.oldArg=i.arg,bi(a,"update",t,e),a.def&&a.def.componentUpdated&&d.push(a)):(bi(a,"bind",t,e),a.def&&a.def.inserted&&c.push(a));if(c.length){var u=function(){for(var n=0;n<c.length;n++)bi(c[n],"inserted",t,e)};o?ut(t,"insert",u):u()}d.length&&ut(t,"postpatch",(function(){for(var n=0;n<d.length;n++)bi(d[n],"componentUpdated",t,e)}));if(!o)for(n in s)l[n]||bi(s[n],"unbind",e,e,r)}(e,t)}var vi=Object.create(null);function hi(e,t){var n,i,a=Object.create(null);if(!e)return a;for(n=0;n<e.length;n++)(i=e[n]).modifiers||(i.modifiers=vi),a[gi(i)]=i,i.def=Ue(t.$options,"directives",i.name);return a}function gi(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function bi(e,t,n,i,a){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,a)}catch(i){ze(i,n.context,"directive "+e.name+" "+t+" hook")}}var yi=[si,fi];function wi(e,n){var a=n.componentOptions;if(!(i(a)&&!1===a.Ctor.options.inheritAttrs||t(e.data.attrs)&&t(n.data.attrs))){var o,r,s=n.elm,l=e.data.attrs||{},c=n.data.attrs||{};for(o in i(c.__ob__)&&(c=n.data.attrs=D({},c)),c)r=c[o],l[o]!==r&&_i(s,o,r);for(o in(Q||ee)&&c.value!==l.value&&_i(s,"value",c.value),l)t(c[o])&&(zn(o)?s.removeAttributeNS(qn,Wn(o)):Fn(o)||s.removeAttribute(o))}}function _i(e,t,n){e.tagName.indexOf("-")>-1?Si(e,t,n):Vn(t)?Jn(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Fn(t)?e.setAttribute(t,function(e,t){return Jn(t)||"false"===t?"false":"contenteditable"===e&&Hn(t)?t:"true"}(t,n)):zn(t)?Jn(n)?e.removeAttributeNS(qn,Wn(t)):e.setAttributeNS(qn,t,n):Si(e,t,n)}function Si(e,t,n){if(Jn(n))e.removeAttribute(t);else{if(Q&&!Z&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var Ci={create:wi,update:wi};function xi(e,n){var a=n.elm,o=n.data,r=e.data;if(!(t(o.staticClass)&&t(o.class)&&(t(r)||t(r.staticClass)&&t(r.class)))){var s=Xn(n),l=a._transitionClasses;i(l)&&(s=Gn(s,Kn(l))),s!==a._prevClass&&(a.setAttribute("class",s),a._prevClass=s)}}var ki,$i,Ai,Ni,Ii,Di,Ti={create:xi,update:xi},Li=/[\w).+\-_$\]]/;function Oi(e){var t,n,i,a,o,r=!1,s=!1,l=!1,c=!1,d=0,u=0,p=0,f=0;for(i=0;i<e.length;i++)if(n=t,t=e.charCodeAt(i),r)39===t&&92!==n&&(r=!1);else if(s)34===t&&92!==n&&(s=!1);else if(l)96===t&&92!==n&&(l=!1);else if(c)47===t&&92!==n&&(c=!1);else if(124!==t||124===e.charCodeAt(i+1)||124===e.charCodeAt(i-1)||d||u||p){switch(t){case 34:s=!0;break;case 39:r=!0;break;case 96:l=!0;break;case 40:p++;break;case 41:p--;break;case 91:u++;break;case 93:u--;break;case 123:d++;break;case 125:d--}if(47===t){for(var m=i-1,v=void 0;m>=0&&" "===(v=e.charAt(m));m--);v&&Li.test(v)||(c=!0)}}else void 0===a?(f=i+1,a=e.slice(0,i).trim()):h();function h(){(o||(o=[])).push(e.slice(f,i).trim()),f=i+1}if(void 0===a?a=e.slice(0,i).trim():0!==f&&h(),o)for(i=0;i<o.length;i++)a=Ri(a,o[i]);return a}function Ri(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var i=t.slice(0,n),a=t.slice(n+1);return'_f("'+i+'")('+e+(")"!==a?","+a:a)}function Mi(e,t){console.error("[Vue compiler]: "+e)}function Ei(e,t){return e?e.map((function(e){return e[t]})).filter((function(e){return e})):[]}function Pi(e,t,n,i,a){(e.props||(e.props=[])).push(Wi({name:t,value:n,dynamic:a},i)),e.plain=!1}function Bi(e,t,n,i,a){(a?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(Wi({name:t,value:n,dynamic:a},i)),e.plain=!1}function ji(e,t,n,i){e.attrsMap[t]=n,e.attrsList.push(Wi({name:t,value:n},i))}function Ui(e,t,n,i,a,o,r,s){(e.directives||(e.directives=[])).push(Wi({name:t,rawName:n,value:i,arg:a,isDynamicArg:o,modifiers:r},s)),e.plain=!1}function Fi(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function Hi(t,n,i,a,o,r,s,l){var c;(a=a||e).right?l?n="("+n+")==='click'?'contextmenu':("+n+")":"click"===n&&(n="contextmenu",delete a.right):a.middle&&(l?n="("+n+")==='click'?'mouseup':("+n+")":"click"===n&&(n="mouseup")),a.capture&&(delete a.capture,n=Fi("!",n,l)),a.once&&(delete a.once,n=Fi("~",n,l)),a.passive&&(delete a.passive,n=Fi("&",n,l)),a.native?(delete a.native,c=t.nativeEvents||(t.nativeEvents={})):c=t.events||(t.events={});var d=Wi({value:i.trim(),dynamic:l},s);a!==e&&(d.modifiers=a);var u=c[n];Array.isArray(u)?o?u.unshift(d):u.push(d):c[n]=u?o?[d,u]:[u,d]:d,t.plain=!1}function Vi(e,t,n){var i=qi(e,":"+t)||qi(e,"v-bind:"+t);if(null!=i)return Oi(i);if(!1!==n){var a=qi(e,t);if(null!=a)return JSON.stringify(a)}}function qi(e,t,n){var i;if(null!=(i=e.attrsMap[t]))for(var a=e.attrsList,o=0,r=a.length;o<r;o++)if(a[o].name===t){a.splice(o,1);break}return n&&delete e.attrsMap[t],i}function zi(e,t){for(var n=e.attrsList,i=0,a=n.length;i<a;i++){var o=n[i];if(t.test(o.name))return n.splice(i,1),o}}function Wi(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Ji(e,t,n){var i=n||{},a=i.number,o="$$v",r=o;i.trim&&(r="(typeof $$v === 'string'? $$v.trim(): $$v)"),a&&(r="_n("+r+")");var s=Xi(t,r);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+s+"}"}}function Xi(e,t){var n=function(e){if(e=e.trim(),ki=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<ki-1)return(Ni=e.lastIndexOf("."))>-1?{exp:e.slice(0,Ni),key:'"'+e.slice(Ni+1)+'"'}:{exp:e,key:null};$i=e,Ni=Ii=Di=0;for(;!Gi();)Ki(Ai=Yi())?Zi(Ai):91===Ai&&Qi(Ai);return{exp:e.slice(0,Ii),key:e.slice(Ii+1,Di)}}(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function Yi(){return $i.charCodeAt(++Ni)}function Gi(){return Ni>=ki}function Ki(e){return 34===e||39===e}function Qi(e){var t=1;for(Ii=Ni;!Gi();)if(Ki(e=Yi()))Zi(e);else if(91===e&&t++,93===e&&t--,0===t){Di=Ni;break}}function Zi(e){for(var t=e;!Gi()&&(e=Yi())!==t;);}var ea,ta="__r";function na(e,t,n){var i=ea;return function a(){var o=t.apply(null,arguments);null!==o&&oa(e,a,n,i)}}var ia=Ge&&!(ne&&Number(ne[1])<=53);function aa(e,t,n,i){if(ia){var a=mn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=a||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}ea.addEventListener(e,t,ae?{capture:n,passive:i}:n)}function oa(e,t,n,i){(i||ea).removeEventListener(e,t._wrapper||t,n)}function ra(e,n){if(!t(e.data.on)||!t(n.data.on)){var a=n.data.on||{},o=e.data.on||{};ea=n.elm,function(e){if(i(e.__r)){var t=Q?"change":"input";e[t]=[].concat(e.__r,e[t]||[]),delete e.__r}i(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(a),dt(a,o,aa,oa,na,n.context),ea=void 0}}var sa,la={create:ra,update:ra};function ca(e,n){if(!t(e.data.domProps)||!t(n.data.domProps)){var a,o,r=n.elm,s=e.data.domProps||{},l=n.data.domProps||{};for(a in i(l.__ob__)&&(l=n.data.domProps=D({},l)),s)a in l||(r[a]="");for(a in l){if(o=l[a],"textContent"===a||"innerHTML"===a){if(n.children&&(n.children.length=0),o===s[a])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===a&&"PROGRESS"!==r.tagName){r._value=o;var c=t(o)?"":String(o);da(r,c)&&(r.value=c)}else if("innerHTML"===a&&ei(r.tagName)&&t(r.innerHTML)){(sa=sa||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var d=sa.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;d.firstChild;)r.appendChild(d.firstChild)}else if(o!==s[a])try{r[a]=o}catch(e){}}}}function da(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,a=e._vModifiers;if(i(a)){if(a.number)return m(n)!==m(t);if(a.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var ua={create:ca,update:ca},pa=_((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function fa(e){var t=ma(e.style);return e.staticStyle?D(e.staticStyle,t):t}function ma(e){return Array.isArray(e)?T(e):"string"==typeof e?pa(e):e}var va,ha=/^--/,ga=/\s*!important$/,ba=function(e,t,n){if(ha.test(t))e.style.setProperty(t,n);else if(ga.test(n))e.style.setProperty(A(t),n.replace(ga,""),"important");else{var i=wa(t);if(Array.isArray(n))for(var a=0,o=n.length;a<o;a++)e.style[i]=n[a];else e.style[i]=n}},ya=["Webkit","Moz","ms"],wa=_((function(e){if(va=va||document.createElement("div").style,"filter"!==(e=C(e))&&e in va)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<ya.length;n++){var i=ya[n]+t;if(i in va)return i}}));function _a(e,n){var a=n.data,o=e.data;if(!(t(a.staticStyle)&&t(a.style)&&t(o.staticStyle)&&t(o.style))){var r,s,l=n.elm,c=o.staticStyle,d=o.normalizedStyle||o.style||{},u=c||d,p=ma(n.data.style)||{};n.data.normalizedStyle=i(p.__ob__)?D({},p):p;var f=function(e,t){var n,i={};if(t)for(var a=e;a.componentInstance;)(a=a.componentInstance._vnode)&&a.data&&(n=fa(a.data))&&D(i,n);(n=fa(e.data))&&D(i,n);for(var o=e;o=o.parent;)o.data&&(n=fa(o.data))&&D(i,n);return i}(n,!0);for(s in u)t(f[s])&&ba(l,s,"");for(s in f)(r=f[s])!==u[s]&&ba(l,s,null==r?"":r)}}var Sa={create:_a,update:_a},Ca=/\s+/;function xa(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ca).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function ka(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ca).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function $a(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&D(t,Aa(e.name||"v")),D(t,e),t}return"string"==typeof e?Aa(e):void 0}}var Aa=_((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Na=X&&!Z,Ia="transition",Da="animation",Ta="transition",La="transitionend",Oa="animation",Ra="animationend";Na&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ta="WebkitTransition",La="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Oa="WebkitAnimation",Ra="webkitAnimationEnd"));var Ma=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Ea(e){Ma((function(){Ma(e)}))}function Pa(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),xa(e,t))}function Ba(e,t){e._transitionClasses&&b(e._transitionClasses,t),ka(e,t)}function ja(e,t,n){var i=Fa(e,t),a=i.type,o=i.timeout,r=i.propCount;if(!a)return n();var s=a===Ia?La:Ra,l=0,c=function(){e.removeEventListener(s,d),n()},d=function(t){t.target===e&&++l>=r&&c()};setTimeout((function(){l<r&&c()}),o+1),e.addEventListener(s,d)}var Ua=/\b(transform|all)(,|$)/;function Fa(e,t){var n,i=window.getComputedStyle(e),a=(i[Ta+"Delay"]||"").split(", "),o=(i[Ta+"Duration"]||"").split(", "),r=Ha(a,o),s=(i[Oa+"Delay"]||"").split(", "),l=(i[Oa+"Duration"]||"").split(", "),c=Ha(s,l),d=0,u=0;return t===Ia?r>0&&(n=Ia,d=r,u=o.length):t===Da?c>0&&(n=Da,d=c,u=l.length):u=(n=(d=Math.max(r,c))>0?r>c?Ia:Da:null)?n===Ia?o.length:l.length:0,{type:n,timeout:d,propCount:u,hasTransform:n===Ia&&Ua.test(i[Ta+"Property"])}}function Ha(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Va(t)+Va(e[n])})))}function Va(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function qa(e,n){var a=e.elm;i(a._leaveCb)&&(a._leaveCb.cancelled=!0,a._leaveCb());var o=$a(e.data.transition);if(!t(o)&&!i(a._enterCb)&&1===a.nodeType){for(var s=o.css,l=o.type,c=o.enterClass,d=o.enterToClass,u=o.enterActiveClass,p=o.appearClass,f=o.appearToClass,v=o.appearActiveClass,h=o.beforeEnter,g=o.enter,b=o.afterEnter,y=o.enterCancelled,w=o.beforeAppear,_=o.appear,S=o.afterAppear,C=o.appearCancelled,x=o.duration,k=tn,$=tn.$vnode;$&&$.parent;)k=$.context,$=$.parent;var A=!k._isMounted||!e.isRootInsert;if(!A||_||""===_){var N=A&&p?p:c,I=A&&v?v:u,D=A&&f?f:d,T=A&&w||h,L=A&&"function"==typeof _?_:g,O=A&&S||b,R=A&&C||y,M=m(r(x)?x.enter:x);0;var E=!1!==s&&!Z,B=Ja(L),j=a._enterCb=P((function(){E&&(Ba(a,D),Ba(a,I)),j.cancelled?(E&&Ba(a,N),R&&R(a)):O&&O(a),a._enterCb=null}));e.data.show||ut(e,"insert",(function(){var t=a.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),L&&L(a,j)})),T&&T(a),E&&(Pa(a,N),Pa(a,I),Ea((function(){Ba(a,N),j.cancelled||(Pa(a,D),B||(Wa(M)?setTimeout(j,M):ja(a,l,j)))}))),e.data.show&&(n&&n(),L&&L(a,j)),E||B||j()}}}function za(e,n){var a=e.elm;i(a._enterCb)&&(a._enterCb.cancelled=!0,a._enterCb());var o=$a(e.data.transition);if(t(o)||1!==a.nodeType)return n();if(!i(a._leaveCb)){var s=o.css,l=o.type,c=o.leaveClass,d=o.leaveToClass,u=o.leaveActiveClass,p=o.beforeLeave,f=o.leave,v=o.afterLeave,h=o.leaveCancelled,g=o.delayLeave,b=o.duration,y=!1!==s&&!Z,w=Ja(f),_=m(r(b)?b.leave:b);0;var S=a._leaveCb=P((function(){a.parentNode&&a.parentNode._pending&&(a.parentNode._pending[e.key]=null),y&&(Ba(a,d),Ba(a,u)),S.cancelled?(y&&Ba(a,c),h&&h(a)):(n(),v&&v(a)),a._leaveCb=null}));g?g(C):C()}function C(){S.cancelled||(!e.data.show&&a.parentNode&&((a.parentNode._pending||(a.parentNode._pending={}))[e.key]=e),p&&p(a),y&&(Pa(a,c),Pa(a,u),Ea((function(){Ba(a,c),S.cancelled||(Pa(a,d),w||(Wa(_)?setTimeout(S,_):ja(a,l,S)))}))),f&&f(a,S),y||w||S())}}function Wa(e){return"number"==typeof e&&!isNaN(e)}function Ja(e){if(t(e))return!1;var n=e.fns;return i(n)?Ja(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function Xa(e,t){!0!==t.data.show&&qa(t)}var Ya=function(e){var n,r,s={},l=e.modules,c=e.nodeOps;for(n=0;n<di.length;++n)for(s[di[n]]=[],r=0;r<l.length;++r)i(l[r][di[n]])&&s[di[n]].push(l[r][di[n]]);function d(e){var t=c.parentNode(e);i(t)&&c.removeChild(t,e)}function u(e,t,n,o,r,l,d){if(i(e.elm)&&i(l)&&(e=l[d]=_e(e)),e.isRootInsert=!r,!function(e,t,n,o){var r=e.data;if(i(r)){var l=i(e.componentInstance)&&r.keepAlive;if(i(r=r.hook)&&i(r=r.init)&&r(e,!1),i(e.componentInstance))return p(e,t),f(n,e.elm,o),a(l)&&function(e,t,n,a){var o,r=e;for(;r.componentInstance;)if(i(o=(r=r.componentInstance._vnode).data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](ci,r);t.push(r);break}f(n,e.elm,a)}(e,t,n,o),!0}}(e,t,n,o)){var u=e.data,v=e.children,h=e.tag;i(h)?(e.elm=e.ns?c.createElementNS(e.ns,h):c.createElement(h,e),b(e),m(e,v,t),i(u)&&g(e,t),f(n,e.elm,o)):a(e.isComment)?(e.elm=c.createComment(e.text),f(n,e.elm,o)):(e.elm=c.createTextNode(e.text),f(n,e.elm,o))}}function p(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,h(e)?(g(e,t),b(e)):(li(e),t.push(e))}function f(e,t,n){i(e)&&(i(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function m(e,t,n){if(Array.isArray(t)){0;for(var i=0;i<t.length;++i)u(t[i],n,e.elm,null,!0,t,i)}else o(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function h(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return i(e.tag)}function g(e,t){for(var a=0;a<s.create.length;++a)s.create[a](ci,e);i(n=e.data.hook)&&(i(n.create)&&n.create(ci,e),i(n.insert)&&t.push(e))}function b(e){var t;if(i(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var n=e;n;)i(t=n.context)&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent;i(t=tn)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function y(e,t,n,i,a,o){for(;i<=a;++i)u(n[i],o,e,t,!1,n,i)}function w(e){var t,n,a=e.data;if(i(a))for(i(t=a.hook)&&i(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)w(e.children[n])}function _(e,t,n){for(;t<=n;++t){var a=e[t];i(a)&&(i(a.tag)?(S(a),w(a)):d(a.elm))}}function S(e,t){if(i(t)||i(e.data)){var n,a=s.remove.length+1;for(i(t)?t.listeners+=a:t=function(e,t){function n(){0==--n.listeners&&d(e)}return n.listeners=t,n}(e.elm,a),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&S(n,t),n=0;n<s.remove.length;++n)s.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else d(e.elm)}function C(e,t,n,a){for(var o=n;o<a;o++){var r=t[o];if(i(r)&&ui(e,r))return o}}function x(e,n,o,r,l,d){if(e!==n){i(n.elm)&&i(r)&&(n=r[l]=_e(n));var p=n.elm=e.elm;if(a(e.isAsyncPlaceholder))i(n.asyncFactory.resolved)?A(e.elm,n,o):n.isAsyncPlaceholder=!0;else if(a(n.isStatic)&&a(e.isStatic)&&n.key===e.key&&(a(n.isCloned)||a(n.isOnce)))n.componentInstance=e.componentInstance;else{var f,m=n.data;i(m)&&i(f=m.hook)&&i(f=f.prepatch)&&f(e,n);var v=e.children,g=n.children;if(i(m)&&h(n)){for(f=0;f<s.update.length;++f)s.update[f](e,n);i(f=m.hook)&&i(f=f.update)&&f(e,n)}t(n.text)?i(v)&&i(g)?v!==g&&function(e,n,a,o,r){var s,l,d,p=0,f=0,m=n.length-1,v=n[0],h=n[m],g=a.length-1,b=a[0],w=a[g],S=!r;for(;p<=m&&f<=g;)t(v)?v=n[++p]:t(h)?h=n[--m]:ui(v,b)?(x(v,b,o,a,f),v=n[++p],b=a[++f]):ui(h,w)?(x(h,w,o,a,g),h=n[--m],w=a[--g]):ui(v,w)?(x(v,w,o,a,g),S&&c.insertBefore(e,v.elm,c.nextSibling(h.elm)),v=n[++p],w=a[--g]):ui(h,b)?(x(h,b,o,a,f),S&&c.insertBefore(e,h.elm,v.elm),h=n[--m],b=a[++f]):(t(s)&&(s=pi(n,p,m)),t(l=i(b.key)?s[b.key]:C(b,n,p,m))?u(b,o,e,v.elm,!1,a,f):ui(d=n[l],b)?(x(d,b,o,a,f),n[l]=void 0,S&&c.insertBefore(e,d.elm,v.elm)):u(b,o,e,v.elm,!1,a,f),b=a[++f]);p>m?y(e,t(a[g+1])?null:a[g+1].elm,a,f,g,o):f>g&&_(n,p,m)}(p,v,g,o,d):i(g)?(i(e.text)&&c.setTextContent(p,""),y(p,null,g,0,g.length-1,o)):i(v)?_(v,0,v.length-1):i(e.text)&&c.setTextContent(p,""):e.text!==n.text&&c.setTextContent(p,n.text),i(m)&&i(f=m.hook)&&i(f=f.postpatch)&&f(e,n)}}}function k(e,t,n){if(a(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var o=0;o<t.length;++o)t[o].data.hook.insert(t[o])}var $=v("attrs,class,staticClass,staticStyle,key");function A(e,t,n,o){var r,s=t.tag,l=t.data,c=t.children;if(o=o||l&&l.pre,t.elm=e,a(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(l)&&(i(r=l.hook)&&i(r=r.init)&&r(t,!0),i(r=t.componentInstance)))return p(t,n),!0;if(i(s)){if(i(c))if(e.hasChildNodes())if(i(r=l)&&i(r=r.domProps)&&i(r=r.innerHTML)){if(r!==e.innerHTML)return!1}else{for(var d=!0,u=e.firstChild,f=0;f<c.length;f++){if(!u||!A(u,c[f],n,o)){d=!1;break}u=u.nextSibling}if(!d||u)return!1}else m(t,c,n);if(i(l)){var v=!1;for(var h in l)if(!$(h)){v=!0,g(t,n);break}!v&&l.class&&rt(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,n,o,r){if(!t(n)){var l,d=!1,p=[];if(t(e))d=!0,u(n,p);else{var f=i(e.nodeType);if(!f&&ui(e,n))x(e,n,p,null,null,r);else{if(f){if(1===e.nodeType&&e.hasAttribute(B)&&(e.removeAttribute(B),o=!0),a(o)&&A(e,n,p))return k(n,p,!0),e;l=e,e=new ge(c.tagName(l).toLowerCase(),{},[],void 0,l)}var m=e.elm,v=c.parentNode(m);if(u(n,p,m._leaveCb?null:v,c.nextSibling(m)),i(n.parent))for(var g=n.parent,b=h(n);g;){for(var y=0;y<s.destroy.length;++y)s.destroy[y](g);if(g.elm=n.elm,b){for(var S=0;S<s.create.length;++S)s.create[S](ci,g);var C=g.data.hook.insert;if(C.merged)for(var $=1;$<C.fns.length;$++)C.fns[$]()}else li(g);g=g.parent}i(v)?_([e],0,0):i(e.tag)&&w(e)}}return k(n,p,d),n.elm}i(e)&&w(e)}}({nodeOps:ri,modules:[Ci,Ti,la,ua,Sa,X?{create:Xa,activate:Xa,remove:function(e,t){!0!==e.data.show?za(e,t):t()}}:{}].concat(yi)});Z&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&io(e,"input")}));var Ga={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ut(n,"postpatch",(function(){Ga.componentUpdated(e,t,n)})):Ka(e,t,n.context),e._vOptions=[].map.call(e.options,eo)):("textarea"===n.tag||ai(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",to),e.addEventListener("compositionend",no),e.addEventListener("change",no),Z&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ka(e,t,n.context);var i=e._vOptions,a=e._vOptions=[].map.call(e.options,eo);if(a.some((function(e,t){return!M(e,i[t])})))(e.multiple?t.value.some((function(e){return Za(e,a)})):t.value!==t.oldValue&&Za(t.value,a))&&io(e,"change")}}};function Ka(e,t,n){Qa(e,t,n),(Q||ee)&&setTimeout((function(){Qa(e,t,n)}),0)}function Qa(e,t,n){var i=t.value,a=e.multiple;if(!a||Array.isArray(i)){for(var o,r,s=0,l=e.options.length;s<l;s++)if(r=e.options[s],a)o=E(i,eo(r))>-1,r.selected!==o&&(r.selected=o);else if(M(eo(r),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));a||(e.selectedIndex=-1)}}function Za(e,t){return t.every((function(t){return!M(t,e)}))}function eo(e){return"_value"in e?e._value:e.value}function to(e){e.target.composing=!0}function no(e){e.target.composing&&(e.target.composing=!1,io(e.target,"input"))}function io(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function ao(e){return!e.componentInstance||e.data&&e.data.transition?e:ao(e.componentInstance._vnode)}var oo={model:Ga,show:{bind:function(e,t,n){var i=t.value,a=(n=ao(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&a?(n.data.show=!0,qa(n,(function(){e.style.display=o}))):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=ao(n)).data&&n.data.transition?(n.data.show=!0,i?qa(n,(function(){e.style.display=e.__vOriginalDisplay})):za(n,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,a){a||(e.style.display=e.__vOriginalDisplay)}}},ro={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function so(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?so(Gt(t.children)):e}function lo(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var a=n._parentListeners;for(var o in a)t[C(o)]=a[o];return t}function co(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var uo=function(e){return e.tag||Yt(e)},po=function(e){return"show"===e.name},fo={name:"transition",props:ro,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(uo)).length){0;var i=this.mode;0;var a=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return a;var r=so(a);if(!r)return a;if(this._leaving)return co(e,a);var s="__transition-"+this._uid+"-";r.key=null==r.key?r.isComment?s+"comment":s+r.tag:o(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var l=(r.data||(r.data={})).transition=lo(this),c=this._vnode,d=so(c);if(r.data.directives&&r.data.directives.some(po)&&(r.data.show=!0),d&&d.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(r,d)&&!Yt(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var u=d.data.transition=D({},l);if("out-in"===i)return this._leaving=!0,ut(u,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),co(e,a);if("in-out"===i){if(Yt(r))return c;var p,f=function(){p()};ut(l,"afterEnter",f),ut(l,"enterCancelled",f),ut(u,"delayLeave",(function(e){p=e}))}}return a}}},mo=D({tag:String,moveClass:String},ro);function vo(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function ho(e){e.data.newPos=e.elm.getBoundingClientRect()}function go(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,a=t.top-n.top;if(i||a){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+a+"px)",o.transitionDuration="0s"}}delete mo.mode;var bo={Transition:fo,TransitionGroup:{props:mo,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var a=nn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,a(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,a=this.$slots.default||[],o=this.children=[],r=lo(this),s=0;s<a.length;s++){var l=a[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=r;else;}if(i){for(var c=[],d=[],u=0;u<i.length;u++){var p=i[u];p.data.transition=r,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?c.push(p):d.push(p)}this.kept=e(t,null,c),this.removed=d}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(vo),e.forEach(ho),e.forEach(go),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,i=n.style;Pa(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(La,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(La,e),n._moveCb=null,Ba(n,t))})}})))},methods:{hasMove:function(e,t){if(!Na)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){ka(n,e)})),xa(n,t),n.style.display="none",this.$el.appendChild(n);var i=Fa(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};Dn.config.mustUseProp=Un,Dn.config.isReservedTag=ti,Dn.config.isReservedAttr=Bn,Dn.config.getTagNamespace=ni,Dn.config.isUnknownElement=function(e){if(!X)return!0;if(ti(e))return!1;if(e=e.toLowerCase(),null!=ii[e])return ii[e];var t=document.createElement(e);return e.indexOf("-")>-1?ii[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ii[e]=/HTMLUnknownElement/.test(t.toString())},D(Dn.options.directives,oo),D(Dn.options.components,bo),Dn.prototype.__patch__=X?Ya:L,Dn.prototype.$mount=function(e,t){return function(e,t,n){var i;return e.$el=t,e.$options.render||(e.$options.render=ye),sn(e,"beforeMount"),i=function(){e._update(e._render(),n)},new yn(e,i,L,{before:function(){e._isMounted&&!e._isDestroyed&&sn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,sn(e,"mounted")),e}(this,e=e&&X?oi(e):void 0,t)},X&&setTimeout((function(){F.devtools&&se&&se.emit("init",Dn)}),0);var yo=/\{\{((?:.|\r?\n)+?)\}\}/g,wo=/[-.*+?^${}()|[\]\/\\]/g,_o=_((function(e){var t=e[0].replace(wo,"\\$&"),n=e[1].replace(wo,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}));var So={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var n=qi(e,"class");n&&(e.staticClass=JSON.stringify(n));var i=Vi(e,"class",!1);i&&(e.classBinding=i)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}};var Co,xo={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var n=qi(e,"style");n&&(e.staticStyle=JSON.stringify(pa(n)));var i=Vi(e,"style",!1);i&&(e.styleBinding=i)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},ko=function(e){return(Co=Co||document.createElement("div")).innerHTML=e,Co.textContent},$o=v("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Ao=v("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),No=v("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Io=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Do=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,To="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+H.source+"]*",Lo="((?:"+To+"\\:)?"+To+")",Oo=new RegExp("^<"+Lo),Ro=/^\s*(\/?)>/,Mo=new RegExp("^<\\/"+Lo+"[^>]*>"),Eo=/^<!DOCTYPE [^>]+>/i,Po=/^<!\--/,Bo=/^<!\[/,jo=v("script,style,textarea",!0),Uo={},Fo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Ho=/&(?:lt|gt|quot|amp|#39);/g,Vo=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,qo=v("pre,textarea",!0),zo=function(e,t){return e&&qo(e)&&"\n"===t[0]};function Wo(e,t){var n=t?Vo:Ho;return e.replace(n,(function(e){return Fo[e]}))}var Jo,Xo,Yo,Go,Ko,Qo,Zo,er,tr=/^@|^v-on:/,nr=/^v-|^@|^:|^#/,ir=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ar=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,or=/^\(|\)$/g,rr=/^\[.*\]$/,sr=/:(.*)$/,lr=/^:|^\.|^v-bind:/,cr=/\.[^.\]]+(?=[^\]]*$)/g,dr=/^v-slot(:|$)|^#/,ur=/[\r\n]/,pr=/\s+/g,fr=_(ko),mr="_empty_";function vr(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:Sr(t),rawAttrsMap:{},parent:n,children:[]}}function hr(e,t){Jo=t.warn||Mi,Qo=t.isPreTag||O,Zo=t.mustUseProp||O,er=t.getTagNamespace||O;var n=t.isReservedTag||O;(function(e){return!!e.component||!n(e.tag)}),Yo=Ei(t.modules,"transformNode"),Go=Ei(t.modules,"preTransformNode"),Ko=Ei(t.modules,"postTransformNode"),Xo=t.delimiters;var i,a,o=[],r=!1!==t.preserveWhitespace,s=t.whitespace,l=!1,c=!1;function d(e){if(u(e),l||e.processed||(e=gr(e,t)),o.length||e===i||i.if&&(e.elseif||e.else)&&yr(i,{exp:e.elseif,block:e}),a&&!e.forbidden)if(e.elseif||e.else)r=e,(s=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}(a.children))&&s.if&&yr(s,{exp:r.elseif,block:r});else{if(e.slotScope){var n=e.slotTarget||'"default"';(a.scopedSlots||(a.scopedSlots={}))[n]=e}a.children.push(e),e.parent=a}var r,s;e.children=e.children.filter((function(e){return!e.slotScope})),u(e),e.pre&&(l=!1),Qo(e.tag)&&(c=!1);for(var d=0;d<Ko.length;d++)Ko[d](e,t)}function u(e){if(!c)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(e,t){for(var n,i,a=[],o=t.expectHTML,r=t.isUnaryTag||O,s=t.canBeLeftOpenTag||O,l=0;e;){if(n=e,i&&jo(i)){var c=0,d=i.toLowerCase(),u=Uo[d]||(Uo[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),p=e.replace(u,(function(e,n,i){return c=i.length,jo(d)||"noscript"===d||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),zo(d,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""}));l+=e.length-p.length,e=p,$(d,l-c,l)}else{var f=e.indexOf("<");if(0===f){if(Po.test(e)){var m=e.indexOf("--\x3e");if(m>=0){t.shouldKeepComment&&t.comment(e.substring(4,m),l,l+m+3),C(m+3);continue}}if(Bo.test(e)){var v=e.indexOf("]>");if(v>=0){C(v+2);continue}}var h=e.match(Eo);if(h){C(h[0].length);continue}var g=e.match(Mo);if(g){var b=l;C(g[0].length),$(g[1],b,l);continue}var y=x();if(y){k(y),zo(y.tagName,e)&&C(1);continue}}var w=void 0,_=void 0,S=void 0;if(f>=0){for(_=e.slice(f);!(Mo.test(_)||Oo.test(_)||Po.test(_)||Bo.test(_)||(S=_.indexOf("<",1))<0);)f+=S,_=e.slice(f);w=e.substring(0,f)}f<0&&(w=e),w&&C(w.length),t.chars&&w&&t.chars(w,l-w.length,l)}if(e===n){t.chars&&t.chars(e);break}}function C(t){l+=t,e=e.substring(t)}function x(){var t=e.match(Oo);if(t){var n,i,a={tagName:t[1],attrs:[],start:l};for(C(t[0].length);!(n=e.match(Ro))&&(i=e.match(Do)||e.match(Io));)i.start=l,C(i[0].length),i.end=l,a.attrs.push(i);if(n)return a.unarySlash=n[1],C(n[0].length),a.end=l,a}}function k(e){var n=e.tagName,l=e.unarySlash;o&&("p"===i&&No(n)&&$(i),s(n)&&i===n&&$(n));for(var c=r(n)||!!l,d=e.attrs.length,u=new Array(d),p=0;p<d;p++){var f=e.attrs[p],m=f[3]||f[4]||f[5]||"",v="a"===n&&"href"===f[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;u[p]={name:f[1],value:Wo(m,v)}}c||(a.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:u,start:e.start,end:e.end}),i=n),t.start&&t.start(n,u,c,e.start,e.end)}function $(e,n,o){var r,s;if(null==n&&(n=l),null==o&&(o=l),e)for(s=e.toLowerCase(),r=a.length-1;r>=0&&a[r].lowerCasedTag!==s;r--);else r=0;if(r>=0){for(var c=a.length-1;c>=r;c--)t.end&&t.end(a[c].tag,n,o);a.length=r,i=r&&a[r-1].tag}else"br"===s?t.start&&t.start(e,[],!0,n,o):"p"===s&&(t.start&&t.start(e,[],!1,n,o),t.end&&t.end(e,n,o))}$()}(e,{warn:Jo,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,n,r,s,u){var p=a&&a.ns||er(e);Q&&"svg"===p&&(n=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];Cr.test(i.name)||(i.name=i.name.replace(xr,""),t.push(i))}return t}(n));var f,m=vr(e,n,a);p&&(m.ns=p),"style"!==(f=m).tag&&("script"!==f.tag||f.attrsMap.type&&"text/javascript"!==f.attrsMap.type)||re()||(m.forbidden=!0);for(var v=0;v<Go.length;v++)m=Go[v](m,t)||m;l||(!function(e){null!=qi(e,"v-pre")&&(e.pre=!0)}(m),m.pre&&(l=!0)),Qo(m.tag)&&(c=!0),l?function(e){var t=e.attrsList,n=t.length;if(n)for(var i=e.attrs=new Array(n),a=0;a<n;a++)i[a]={name:t[a].name,value:JSON.stringify(t[a].value)},null!=t[a].start&&(i[a].start=t[a].start,i[a].end=t[a].end);else e.pre||(e.plain=!0)}(m):m.processed||(br(m),function(e){var t=qi(e,"v-if");if(t)e.if=t,yr(e,{exp:t,block:e});else{null!=qi(e,"v-else")&&(e.else=!0);var n=qi(e,"v-else-if");n&&(e.elseif=n)}}(m),function(e){null!=qi(e,"v-once")&&(e.once=!0)}(m)),i||(i=m),r?d(m):(a=m,o.push(m))},end:function(e,t,n){var i=o[o.length-1];o.length-=1,a=o[o.length-1],d(i)},chars:function(e,t,n){if(a&&(!Q||"textarea"!==a.tag||a.attrsMap.placeholder!==e)){var i,o,d,u=a.children;if(e=c||e.trim()?"script"===(i=a).tag||"style"===i.tag?e:fr(e):u.length?s?"condense"===s&&ur.test(e)?"":" ":r?" ":"":"")c||"condense"!==s||(e=e.replace(pr," ")),!l&&" "!==e&&(o=function(e,t){var n=t?_o(t):yo;if(n.test(e)){for(var i,a,o,r=[],s=[],l=n.lastIndex=0;i=n.exec(e);){(a=i.index)>l&&(s.push(o=e.slice(l,a)),r.push(JSON.stringify(o)));var c=Oi(i[1].trim());r.push("_s("+c+")"),s.push({"@binding":c}),l=a+i[0].length}return l<e.length&&(s.push(o=e.slice(l)),r.push(JSON.stringify(o))),{expression:r.join("+"),tokens:s}}}(e,Xo))?d={type:2,expression:o.expression,tokens:o.tokens,text:e}:" "===e&&u.length&&" "===u[u.length-1].text||(d={type:3,text:e}),d&&u.push(d)}},comment:function(e,t,n){if(a){var i={type:3,text:e,isComment:!0};0,a.children.push(i)}}}),i}function gr(e,t){var n;!function(e){var t=Vi(e,"key");if(t){e.key=t}}(e),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,function(e){var t=Vi(e,"ref");t&&(e.ref=t,e.refInFor=function(e){var t=e;for(;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(e))}(e),function(e){var t;"template"===e.tag?(t=qi(e,"scope"),e.slotScope=t||qi(e,"slot-scope")):(t=qi(e,"slot-scope"))&&(e.slotScope=t);var n=Vi(e,"slot");n&&(e.slotTarget='""'===n?'"default"':n,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||Bi(e,"slot",n,function(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}(e,"slot")));if("template"===e.tag){var i=zi(e,dr);if(i){0;var a=wr(i),o=a.name,r=a.dynamic;e.slotTarget=o,e.slotTargetDynamic=r,e.slotScope=i.value||mr}}else{var s=zi(e,dr);if(s){0;var l=e.scopedSlots||(e.scopedSlots={}),c=wr(s),d=c.name,u=c.dynamic,p=l[d]=vr("template",[],e);p.slotTarget=d,p.slotTargetDynamic=u,p.children=e.children.filter((function(e){if(!e.slotScope)return e.parent=p,!0})),p.slotScope=s.value||mr,e.children=[],e.plain=!1}}}(e),"slot"===(n=e).tag&&(n.slotName=Vi(n,"name")),function(e){var t;(t=Vi(e,"is"))&&(e.component=t);null!=qi(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var i=0;i<Yo.length;i++)e=Yo[i](e,t)||e;return function(e){var t,n,i,a,o,r,s,l,c=e.attrsList;for(t=0,n=c.length;t<n;t++){if(i=a=c[t].name,o=c[t].value,nr.test(i))if(e.hasBindings=!0,(r=_r(i.replace(nr,"")))&&(i=i.replace(cr,"")),lr.test(i))i=i.replace(lr,""),o=Oi(o),(l=rr.test(i))&&(i=i.slice(1,-1)),r&&(r.prop&&!l&&"innerHtml"===(i=C(i))&&(i="innerHTML"),r.camel&&!l&&(i=C(i)),r.sync&&(s=Xi(o,"$event"),l?Hi(e,'"update:"+('+i+")",s,null,!1,0,c[t],!0):(Hi(e,"update:"+C(i),s,null,!1,0,c[t]),A(i)!==C(i)&&Hi(e,"update:"+A(i),s,null,!1,0,c[t])))),r&&r.prop||!e.component&&Zo(e.tag,e.attrsMap.type,i)?Pi(e,i,o,c[t],l):Bi(e,i,o,c[t],l);else if(tr.test(i))i=i.replace(tr,""),(l=rr.test(i))&&(i=i.slice(1,-1)),Hi(e,i,o,r,!1,0,c[t],l);else{var d=(i=i.replace(nr,"")).match(sr),u=d&&d[1];l=!1,u&&(i=i.slice(0,-(u.length+1)),rr.test(u)&&(u=u.slice(1,-1),l=!0)),Ui(e,i,a,o,u,l,r,c[t])}else Bi(e,i,JSON.stringify(o),c[t]),!e.component&&"muted"===i&&Zo(e.tag,e.attrsMap.type,i)&&Pi(e,i,"true",c[t])}}(e),e}function br(e){var t;if(t=qi(e,"v-for")){var n=function(e){var t=e.match(ir);if(!t)return;var n={};n.for=t[2].trim();var i=t[1].trim().replace(or,""),a=i.match(ar);a?(n.alias=i.replace(ar,"").trim(),n.iterator1=a[1].trim(),a[2]&&(n.iterator2=a[2].trim())):n.alias=i;return n}(t);n&&D(e,n)}}function yr(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function wr(e){var t=e.name.replace(dr,"");return t||"#"!==e.name[0]&&(t="default"),rr.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function _r(e){var t=e.match(cr);if(t){var n={};return t.forEach((function(e){n[e.slice(1)]=!0})),n}}function Sr(e){for(var t={},n=0,i=e.length;n<i;n++)t[e[n].name]=e[n].value;return t}var Cr=/^xmlns:NS\d+/,xr=/^NS\d+:/;function kr(e){return vr(e.tag,e.attrsList.slice(),e.parent)}var $r=[So,xo,{preTransformNode:function(e,t){if("input"===e.tag){var n,i=e.attrsMap;if(!i["v-model"])return;if((i[":type"]||i["v-bind:type"])&&(n=Vi(e,"type")),i.type||n||!i["v-bind"]||(n="("+i["v-bind"]+").type"),n){var a=qi(e,"v-if",!0),o=a?"&&("+a+")":"",r=null!=qi(e,"v-else",!0),s=qi(e,"v-else-if",!0),l=kr(e);br(l),ji(l,"type","checkbox"),gr(l,t),l.processed=!0,l.if="("+n+")==='checkbox'"+o,yr(l,{exp:l.if,block:l});var c=kr(e);qi(c,"v-for",!0),ji(c,"type","radio"),gr(c,t),yr(l,{exp:"("+n+")==='radio'"+o,block:c});var d=kr(e);return qi(d,"v-for",!0),ji(d,":type",n),gr(d,t),yr(l,{exp:a,block:d}),r?l.else=!0:s&&(l.elseif=s),l}}}}];var Ar,Nr,Ir={expectHTML:!0,modules:$r,directives:{model:function(e,t,n){n;var i=t.value,a=t.modifiers,o=e.tag,r=e.attrsMap.type;if(e.component)return Ji(e,i,a),!1;if("select"===o)!function(e,t,n){var i='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";i=i+" "+Xi(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Hi(e,"change",i,null,!0)}(e,i,a);else if("input"===o&&"checkbox"===r)!function(e,t,n){var i=n&&n.number,a=Vi(e,"value")||"null",o=Vi(e,"true-value")||"true",r=Vi(e,"false-value")||"false";Pi(e,"checked","Array.isArray("+t+")?_i("+t+","+a+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),Hi(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+r+");if(Array.isArray($$a)){var $$v="+(i?"_n("+a+")":a)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Xi(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Xi(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Xi(t,"$$c")+"}",null,!0)}(e,i,a);else if("input"===o&&"radio"===r)!function(e,t,n){var i=n&&n.number,a=Vi(e,"value")||"null";Pi(e,"checked","_q("+t+","+(a=i?"_n("+a+")":a)+")"),Hi(e,"change",Xi(t,a),null,!0)}(e,i,a);else if("input"===o||"textarea"===o)!function(e,t,n){var i=e.attrsMap.type;0;var a=n||{},o=a.lazy,r=a.number,s=a.trim,l=!o&&"range"!==i,c=o?"change":"range"===i?ta:"input",d="$event.target.value";s&&(d="$event.target.value.trim()");r&&(d="_n("+d+")");var u=Xi(t,d);l&&(u="if($event.target.composing)return;"+u);Pi(e,"value","("+t+")"),Hi(e,c,u,null,!0),(s||r)&&Hi(e,"blur","$forceUpdate()")}(e,i,a);else{if(!F.isReservedTag(o))return Ji(e,i,a),!1}return!0},text:function(e,t){t.value&&Pi(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&Pi(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:$o,mustUseProp:Un,canBeLeftOpenTag:Ao,isReservedTag:ti,getTagNamespace:ni,staticKeys:function(e){return e.reduce((function(e,t){return e.concat(t.staticKeys||[])}),[]).join(",")}($r)},Dr=_((function(e){return v("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))}));function Tr(e,t){e&&(Ar=Dr(t.staticKeys||""),Nr=t.isReservedTag||O,Lr(e),Or(e,!1))}function Lr(e){if(e.static=function(e){if(2===e.type)return!1;if(3===e.type)return!0;return!(!e.pre&&(e.hasBindings||e.if||e.for||h(e.tag)||!Nr(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(Ar)))}(e),1===e.type){if(!Nr(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,n=e.children.length;t<n;t++){var i=e.children[t];Lr(i),i.static||(e.static=!1)}if(e.ifConditions)for(var a=1,o=e.ifConditions.length;a<o;a++){var r=e.ifConditions[a].block;Lr(r),r.static||(e.static=!1)}}}function Or(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,i=e.children.length;n<i;n++)Or(e.children[n],t||!!e.for);if(e.ifConditions)for(var a=1,o=e.ifConditions.length;a<o;a++)Or(e.ifConditions[a].block,t)}}var Rr=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Mr=/\([^)]*?\);*$/,Er=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Pr={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Br={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},jr=function(e){return"if("+e+")return null;"},Ur={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:jr("$event.target !== $event.currentTarget"),ctrl:jr("!$event.ctrlKey"),shift:jr("!$event.shiftKey"),alt:jr("!$event.altKey"),meta:jr("!$event.metaKey"),left:jr("'button' in $event && $event.button !== 0"),middle:jr("'button' in $event && $event.button !== 1"),right:jr("'button' in $event && $event.button !== 2")};function Fr(e,t){var n=t?"nativeOn:":"on:",i="",a="";for(var o in e){var r=Hr(e[o]);e[o]&&e[o].dynamic?a+=o+","+r+",":i+='"'+o+'":'+r+","}return i="{"+i.slice(0,-1)+"}",a?n+"_d("+i+",["+a.slice(0,-1)+"])":n+i}function Hr(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map((function(e){return Hr(e)})).join(",")+"]";var t=Er.test(e.value),n=Rr.test(e.value),i=Er.test(e.value.replace(Mr,""));if(e.modifiers){var a="",o="",r=[];for(var s in e.modifiers)if(Ur[s])o+=Ur[s],Pr[s]&&r.push(s);else if("exact"===s){var l=e.modifiers;o+=jr(["ctrl","shift","alt","meta"].filter((function(e){return!l[e]})).map((function(e){return"$event."+e+"Key"})).join("||"))}else r.push(s);return r.length&&(a+=function(e){return"if(!$event.type.indexOf('key')&&"+e.map(Vr).join("&&")+")return null;"}(r)),o&&(a+=o),"function($event){"+a+(t?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":i?"return "+e.value:e.value)+"}"}return t||n?e.value:"function($event){"+(i?"return "+e.value:e.value)+"}"}function Vr(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Pr[e],i=Br[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(i)+")"}var qr={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:L},zr=function(e){this.options=e,this.warn=e.warn||Mi,this.transforms=Ei(e.modules,"transformCode"),this.dataGenFns=Ei(e.modules,"genData"),this.directives=D(D({},qr),e.directives);var t=e.isReservedTag||O;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Wr(e,t){var n=new zr(t);return{render:"with(this){return "+(e?Jr(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Jr(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Xr(e,t);if(e.once&&!e.onceProcessed)return Yr(e,t);if(e.for&&!e.forProcessed)return Qr(e,t);if(e.if&&!e.ifProcessed)return Gr(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var n=e.slotName||'"default"',i=ns(e,t),a="_t("+n+(i?","+i:""),o=e.attrs||e.dynamicAttrs?os((e.attrs||[]).concat(e.dynamicAttrs||[]).map((function(e){return{name:C(e.name),value:e.value,dynamic:e.dynamic}}))):null,r=e.attrsMap["v-bind"];!o&&!r||i||(a+=",null");o&&(a+=","+o);r&&(a+=(o?"":",null")+","+r);return a+")"}(e,t);var n;if(e.component)n=function(e,t,n){var i=t.inlineTemplate?null:ns(t,n,!0);return"_c("+e+","+Zr(t,n)+(i?","+i:"")+")"}(e.component,e,t);else{var i;(!e.plain||e.pre&&t.maybeComponent(e))&&(i=Zr(e,t));var a=e.inlineTemplate?null:ns(e,t,!0);n="_c('"+e.tag+"'"+(i?","+i:"")+(a?","+a:"")+")"}for(var o=0;o<t.transforms.length;o++)n=t.transforms[o](e,n);return n}return ns(e,t)||"void 0"}function Xr(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Jr(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function Yr(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return Gr(e,t);if(e.staticInFor){for(var n="",i=e.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o("+Jr(e,t)+","+t.onceId+++","+n+")":Jr(e,t)}return Xr(e,t)}function Gr(e,t,n,i){return e.ifProcessed=!0,Kr(e.ifConditions.slice(),t,n,i)}function Kr(e,t,n,i){if(!e.length)return i||"_e()";var a=e.shift();return a.exp?"("+a.exp+")?"+o(a.block)+":"+Kr(e,t,n,i):""+o(a.block);function o(e){return n?n(e,t):e.once?Yr(e,t):Jr(e,t)}}function Qr(e,t,n,i){var a=e.for,o=e.alias,r=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(i||"_l")+"(("+a+"),function("+o+r+s+"){return "+(n||Jr)(e,t)+"})"}function Zr(e,t){var n="{",i=function(e,t){var n=e.directives;if(!n)return;var i,a,o,r,s="directives:[",l=!1;for(i=0,a=n.length;i<a;i++){o=n[i],r=!0;var c=t.directives[o.name];c&&(r=!!c(e,o,t.warn)),r&&(l=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(l)return s.slice(0,-1)+"]"}(e,t);i&&(n+=i+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var a=0;a<t.dataGenFns.length;a++)n+=t.dataGenFns[a](e);if(e.attrs&&(n+="attrs:"+os(e.attrs)+","),e.props&&(n+="domProps:"+os(e.props)+","),e.events&&(n+=Fr(e.events,!1)+","),e.nativeEvents&&(n+=Fr(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=function(e,t,n){var i=e.for||Object.keys(t).some((function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||es(n)})),a=!!e.if;if(!i)for(var o=e.parent;o;){if(o.slotScope&&o.slotScope!==mr||o.for){i=!0;break}o.if&&(a=!0),o=o.parent}var r=Object.keys(t).map((function(e){return ts(t[e],n)})).join(",");return"scopedSlots:_u(["+r+"]"+(i?",null,true":"")+(!i&&a?",null,false,"+function(e){var t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(r):"")+")"}(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var o=function(e,t){var n=e.children[0];0;if(n&&1===n.type){var i=Wr(n,t.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map((function(e){return"function(){"+e+"}"})).join(",")+"]}"}}(e,t);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+os(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function es(e){return 1===e.type&&("slot"===e.tag||e.children.some(es))}function ts(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return Gr(e,t,ts,"null");if(e.for&&!e.forProcessed)return Qr(e,t,ts);var i=e.slotScope===mr?"":String(e.slotScope),a="function("+i+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+(ns(e,t)||"undefined")+":undefined":ns(e,t)||"undefined":Jr(e,t))+"}",o=i?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+a+o+"}"}function ns(e,t,n,i,a){var o=e.children;if(o.length){var r=o[0];if(1===o.length&&r.for&&"template"!==r.tag&&"slot"!==r.tag){var s=n?t.maybeComponent(r)?",1":",0":"";return""+(i||Jr)(r,t)+s}var l=n?function(e,t){for(var n=0,i=0;i<e.length;i++){var a=e[i];if(1===a.type){if(is(a)||a.ifConditions&&a.ifConditions.some((function(e){return is(e.block)}))){n=2;break}(t(a)||a.ifConditions&&a.ifConditions.some((function(e){return t(e.block)})))&&(n=1)}}return n}(o,t.maybeComponent):0,c=a||as;return"["+o.map((function(e){return c(e,t)})).join(",")+"]"+(l?","+l:"")}}function is(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function as(e,t){return 1===e.type?Jr(e,t):3===e.type&&e.isComment?function(e){return"_e("+JSON.stringify(e.text)+")"}(e):"_v("+(2===(n=e).type?n.expression:rs(JSON.stringify(n.text)))+")";var n}function os(e){for(var t="",n="",i=0;i<e.length;i++){var a=e[i],o=rs(a.value);a.dynamic?n+=a.name+","+o+",":t+='"'+a.name+'":'+o+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function rs(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function ss(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),L}}function ls(e){var t=Object.create(null);return function(n,i,a){(i=D({},i)).warn;delete i.warn;var o=i.delimiters?String(i.delimiters)+n:n;if(t[o])return t[o];var r=e(n,i);var s={},l=[];return s.render=ss(r.render,l),s.staticRenderFns=r.staticRenderFns.map((function(e){return ss(e,l)})),t[o]=s}}var cs,ds,us=(cs=function(e,t){var n=hr(e.trim(),t);!1!==t.optimize&&Tr(n,t);var i=Wr(n,t);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}},function(e){function t(t,n){var i=Object.create(e),a=[],o=[];if(n)for(var r in n.modules&&(i.modules=(e.modules||[]).concat(n.modules)),n.directives&&(i.directives=D(Object.create(e.directives||null),n.directives)),n)"modules"!==r&&"directives"!==r&&(i[r]=n[r]);i.warn=function(e,t,n){(n?o:a).push(e)};var s=cs(t.trim(),i);return s.errors=a,s.tips=o,s}return{compile:t,compileToFunctions:ls(t)}})(Ir),ps=(us.compile,us.compileToFunctions);function fs(e){return(ds=ds||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',ds.innerHTML.indexOf("&#10;")>0}var ms=!!X&&fs(!1),vs=!!X&&fs(!0),hs=_((function(e){var t=oi(e);return t&&t.innerHTML})),gs=Dn.prototype.$mount;Dn.prototype.$mount=function(e,t){if((e=e&&oi(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=hs(i));else{if(!i.nodeType)return this;i=i.innerHTML}else e&&(i=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(i){0;var a=ps(i,{outputSourceRange:!1,shouldDecodeNewlines:ms,shouldDecodeNewlinesForHref:vs,delimiters:n.delimiters,comments:n.comments},this),o=a.render,r=a.staticRenderFns;n.render=o,n.staticRenderFns=r}}return gs.call(this,e,t)},Dn.compile=ps;const bs=Dn;n(6455);const ys={name:"BeatLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data(){return{spinnerStyle:{backgroundColor:this.color,height:this.size,width:this.size,margin:this.margin,borderRadius:this.radius}}}};var ws=n(3379),_s=n.n(ws),Ss=n(7233),Cs={insert:"head",singleton:!1};_s()(Ss.Z,Cs);Ss.Z.locals;function xs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ks,$s,As=new bs({el:"#index",data:{status:{show:!1,showAnimate:!1,spinnerColor:"white",spinnerSize:"7px",description:null,spinnerLoading:!0,spekingTime:null},name:null,isReRegister:"loading",dialNumber:null},methods:{dial:function(e,t){this.spinnerLoading=!0,this.status.description="Making Call "+t,this.status.show=!0,this.status.showAnimate=!this.status.showAnimate,this.name=t,this.dialNumber=e,Zc("audio")},endCall:function(){if(this.status.description="Ready to call",As.$data.status.showAnimate=!1,ks){switch(ks.status){case 0:case 2:!function(e){var t=td(e);if(null==t||null==t.SipSession)return;t.SipSession.data.terminateby="us",console.log("Cancelling session : "+e),t.SipSession.cancel(),$("#line-"+e+"-msg").html(oc.call_cancelled)}($s.LineNumber);break;case 12:!function(e){var t=td(e);if(null==t||null==t.SipSession)return;console.log("Ending call with: "+e),t.SipSession.data.terminateby="us",t.SipSession.bye(),$("#line-"+e+"-msg").html(oc.call_ended),$("#line-"+e+"-ActiveCall").hide(),Hc(e)}($s.LineNumber)}this.status.showAnimate=!1}}},components:{BeatLoader:function(e,t,n,i,a,o,r,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}(ys,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"v-spinner"},[n("div",{staticClass:"v-beat v-beat-odd",style:e.spinnerStyle}),n("div",{staticClass:"v-beat v-beat-even",style:e.spinnerStyle}),n("div",{staticClass:"v-beat v-beat-odd",style:e.spinnerStyle})])}),[],!1,null,null,null).exports}});var Ns=["ja","zh-hans","zh","ru","tr","nl","es","de"],Is=dc("wssServer",wssServerConf),Ds=dc("profileUserID","Mehdi"),Ts=dc("profileUser","Mehdi"),Ls=dc("profileName","Mehdi"),Os=dc("WebSocketPort",WebSocketPortConf),Rs=dc("ServerPath","/ws"),Ms=dc("SipUsername",SipUsernameConf),Es=dc("SipPassword",SipPasswordConf),Ps=parseInt(dc("TransportConnectionTimeout",15)),Bs=parseInt(dc("TransportReconnectionAttempts",99)),js=parseInt(dc("TransportReconnectionTimeout",15)),Us=dc("UserAgentStr","Raspberry Phone (SipJS - 0.11.6)"),Fs=dc("HostingPrefex",""),Hs=parseInt(dc("RegisterExpires",300)),Vs="1"==dc("WssInTransport","1"),qs="1"==dc("IpInContact","1"),zs=dc("IceStunServerJson",""),Ws=parseInt(dc("IceStunCheckTimeout",500)),Js="1"==dc("AutoAnswerEnabled","0"),Xs="1"==dc("DoNotDisturbEnabled","0"),Ys="1"==dc("CallWaitingEnabled","1"),Gs="1"==dc("RecordAllCalls","0"),Ks="1"==dc("StartVideoFullScreen","1"),Qs="1"==dc("ShowCallAnswerWindow","0"),Zs=(dc("SelectRingingLine","1"),"1"==dc("AutoGainControl","1")),el="1"==dc("EchoCancellation","1"),tl="1"==dc("NoiseSuppression","1"),nl=dc("VideoOrientation","rotateY(180deg)"),il=dc("FrameRate",""),al=dc("VideoHeight",""),ol=parseInt(dc("MaxVideoBandwidth","128")),rl=dc("AspectRatio",""),sl="1"==dc("Notifications","0"),ll=parseInt(dc("StreamBuffer",50)),cl=(parseFloat(dc("PosterJpegQuality",.6)),dc("VideoResampleSize","HD"),dc("RecordingVideoSize","HD")),dl=parseInt(dc("RecordingVideoFps",12)),ul=dc("RecordingLayout","them-pnp"),pl=parseInt(dc("DidLength",6)),fl=parseInt(dc("MaxDidLength",16)),ml=dc("DateFormat","YYYY-MM-DD"),vl=dc("TimeFormat","h:mm:ss A"),hl=dc("Language","auto"),gl="1"==dc("EnableTextMessaging","1"),bl="1"==dc("DisableFreeDial","0"),yl="1"==dc("DisableBuddies","0"),wl="1"==dc("EnableTransfer","1"),_l="1"==dc("EnableConference","1"),Sl=dc("AutoAnswerPolicy","allow"),Cl=dc("DoNotDisturbPolicy","allow"),xl=dc("CallWaitingPolicy","allow"),kl=dc("CallRecordingPolicy","allow"),$l=dc("IntercomPolicy","enabled"),Al="1"==dc("EnableAccountSettings","1"),Nl="1"==dc("EnableAudioVideoSettings","1"),Il="1"==dc("EnableAppearanceSettings","1"),Dl="1"==dc("EnableNotificationSettings","1"),Tl="1"==dc("EnableAlphanumericDial","0"),Ll="1"==dc("EnableVideoCalling","1"),Ol=dc("ChatEngine","SIMPLE"),Rl=dc("XmppDomain",""),Ml=dc("XmppServer",""),El=dc("XmppWebsocketPort",""),Pl=dc("XmppWebsocketPath",""),Bl=dc("XmppRealm",""),jl=dc("XmppRealmSeperator","-"),Ul=dc("XmppChatGroupService","conference"),Fl=window.localStorage,Hl=null,Vl=[],ql=[],zl=!1,Wl=null,Jl=null,Xl=null,Yl=null,Gl=null,Kl=null,Ql=null,Zl=!1,ec=!1,tc=[],nc=[],ic=[],ac=[],oc={},rc={},sc=0;function lc(){return Date.now()+Math.floor(1e4*Math.random()).toString(16).toUpperCase()}function cc(){return moment().utc().format("YYYY-MM-DD HH:mm:ss UTC")}function dc(e,t){var n=window.localStorage;return null!=n.getItem(e)?n.getItem(e):t}function uc(){var e=Fl.getItem("AudioSrcId");return null!=e?e:"default"}function pc(){var e=Fl.getItem("AudioOutputId");return null!=e?e:"default"}function fc(){var e=Fl.getItem("VideoSrcId");return null!=e?e:"default"}function mc(){var e=Fl.getItem("RingOutputId");return null!=e?e:"default"}function vc(e){var t,n=Math.floor(parseFloat(e));return n<0?n:n>=0&&n<60?n+" "+(n>1?oc.seconds_plural:oc.second_single):n>=60&&n<3600?(t=moment.duration(n,"seconds")).minutes()+" "+(t.minutes()>1?oc.minutes_plural:oc.minute_single)+" "+t.seconds()+" "+(t.seconds()>1?oc.seconds_plural:oc.second_single):n>=3600&&n<86400?(t=moment.duration(n,"seconds")).hours()+" "+(t.hours()>1?oc.hours_plural:oc.hour_single)+" "+t.minutes()+" "+(t.minutes()>1?oc.minutes_plural:oc.minute_single)+" "+t.seconds()+" "+(t.seconds()>1?oc.seconds_plural:oc.second_single):void 0}function hc(e){var t,n=Math.floor(parseFloat(e));return n<0?n:n>=0&&n<60?"00:"+(n>9?n:"0"+n):n>=60&&n<3600?((t=moment.duration(n,"seconds")).minutes()>9?t.minutes():"0"+t.minutes())+":"+(t.seconds()>9?t.seconds():"0"+t.seconds()):n>=3600&&n<86400?((t=moment.duration(n,"seconds")).hours()>9?t.hours():"0"+t.hours())+":"+(t.minutes()>9?t.minutes():"0"+t.minutes())+":"+(t.seconds()>9?t.seconds():"0"+t.seconds()):void 0}function gc(){var e;return 1==(e=(window.navigator.userLanguage||window.navigator.language).split("-")).length?"":2==e.length||e.length>=3?e[1].toLowerCase():void 0}function bc(e,t){return-1!=e.indexOf(",",e.indexOf(t+": ")+t.length+2)?e.substring(e.indexOf(t+": ")+t.length+2,e.indexOf(",",e.indexOf(t+": ")+t.length+2)):e.substring(e.indexOf(t+": ")+t.length+2)}function yc(e,t){for(var n=new Array(t),i=0;i<n.length;i++)n[i]=e;return n}function wc(){$(window).outerWidth()<920?null==Wl&null==Jl?($("#rightContent").hide(),$("#leftContent").css("width","100%"),$("#leftContent").show()):($("#rightContent").css("margin-left","0px"),$("#rightContent").show(),$("#leftContent").hide(),null!=Wl&&Vc(Wl.identity)):null==Wl&null==Jl?($("#leftContent").css("width","100%"),$("#rightContent").css("margin-left","0px"),$("#leftContent").show(),$("#rightContent").hide()):($("#leftContent").css("width","320px"),$("#rightContent").css("margin-left","320px"),$("#leftContent").show(),$("#rightContent").show(),null!=Wl&&Vc(Wl.identity));for(var e=0;e<ac.length;e++)Hc(ac[e].LineNumber);$d()}function _c(e){Qc(),$("#myContacts").hide(),$("#actionArea").empty();var t='<div style="text-align:right"><button onclick="ShowContacts()"><i class="fa fa-close"></i></button></div>';t+="<div border=0 class=UiSideField>",t+="<div class=UiText>"+oc.full_name+":</div>",t+="<div><input id=AddSomeone_Name class=UiInputText type=text placeholder='"+oc.eg_full_name+"'></div>",t+="<div><input type=checkbox id=AddSomeone_Dnd><label for=AddSomeone_Dnd>"+oc.allow_calls_on_dnd+"</label></div>",t+='<ul style="list-style-type:none">',t+="<li><input type=radio name=buddyType id=type_exten checked><label for=type_exten>"+oc.basic_extension+"</label>","XMPP"==Ol&&(t+="<li><input type=radio name=buddyType id=type_xmpp><label for=type_xmpp>"+oc.extension_including_xmpp+"</label>"),t+="<li><input type=radio name=buddyType id=type_contact><label for=type_contact>"+oc.addressbook_contact+"</label>",t+="</ul>",t+="<div id=RowDescription>",t+="<div class=UiText>"+oc.title_description+":</div>",t+="<div><input id=AddSomeone_Desc class=UiInputText type=text placeholder='"+oc.eg_general_manager+"'></div>",t+="</div>",t+="<div id=RowExtension>",t+="<div class=UiText>"+oc.internal_subscribe_extension+":</div>",t+="<div><input id=AddSomeone_Exten class=UiInputText type=text placeholder='"+oc.eg_internal_subscribe_extension+"'></div>",t+="<div><input type=checkbox id=AddSomeone_Subscribe checked><label for=AddSomeone_Subscribe>"+oc.subscribe_to_dev_state+"</label></div>",t+="</div>",t+="<div id=RowMobileNumber>",t+="<div class=UiText>"+oc.mobile_number+":</div>",t+="<div><input id=AddSomeone_Mobile class=UiInputText type=text placeholder='"+oc.eg_mobile_number+"'></div>",t+="</div>",t+="<div id=RowEmail>",t+="<div class=UiText>"+oc.email+":</div>",t+="<div><input id=AddSomeone_Email class=UiInputText type=text placeholder='"+oc.eg_email+"'></div>",t+="</div>",t+="<div id=RowContact1>",t+="<div class=UiText>"+oc.contact_number_1+":</div>",t+="<div><input id=AddSomeone_Num1 class=UiInputText type=text placeholder='"+oc.eg_contact_number_1+"'></div>",t+="</div>",t+="<div id=RowContact2>",t+="<div class=UiText>"+oc.contact_number_2+":</div>",t+="<div><input id=AddSomeone_Num2 class=UiInputText type=text placeholder='"+oc.eg_contact_number_2+"'></div>",t+="</div>",t+="</div>",t+="<div class=UiWindowButtonBar id=ButtonBar></div>",$("#actionArea").html(t);var n=[];n.push({text:oc.add,action:function(){var e="extension";if($("#type_exten").is(":checked")?e="extension":$("#type_xmpp").is(":checked")?e="xmpp":$("#type_contact").is(":checked")&&(e="contact"),""!=$("#AddSomeone_Name").val()&&("extension"!=e&&"xmpp"!=e||""!=$("#AddSomeone_Exten").val())){var t=JSON.parse(Fl.getItem(Ds+"-Buddies"));null==t&&(t=od());var n=null;if("extension"==e){var i=lc(),a=cc();t.DataCollection.push({Type:"extension",LastActivity:a,ExtensionNumber:$("#AddSomeone_Exten").val(),MobileNumber:$("#AddSomeone_Mobile").val(),ContactNumber1:$("#AddSomeone_Num1").val(),ContactNumber2:$("#AddSomeone_Num2").val(),uID:i,cID:null,gID:null,jid:null,DisplayName:$("#AddSomeone_Name").val(),Description:$("#AddSomeone_Desc").val(),Email:$("#AddSomeone_Email").val(),MemberCount:0,EnableDuringDnd:$("#AddSomeone_Dnd").is(":checked"),Subscribe:$("#AddSomeone_Subscribe").is(":checked")}),ld(n=new ad("extension",i,$("#AddSomeone_Name").val(),$("#AddSomeone_Exten").val(),$("#AddSomeone_Mobile").val(),$("#AddSomeone_Num1").val(),$("#AddSomeone_Num2").val(),a,$("#AddSomeone_Desc").val(),$("#AddSomeone_Email").val(),o,$("#AddSomeone_Dnd").is(":checked"),$("#AddSomeone_Subscribe").is(":checked")),!1,!1,$("#AddSomeone_Subscribe").is(":checked"))}if("xmpp"==e){i=lc(),a=cc();var o=$("#AddSomeone_Exten").val()+"@"+Rl;""!=Bl&&""!=jl&&(o=Bl+""+jl+o),t.DataCollection.push({Type:"xmpp",LastActivity:a,ExtensionNumber:$("#AddSomeone_Exten").val(),MobileNumber:null,ContactNumber1:null,ContactNumber2:null,uID:i,cID:null,gID:null,jid:o,DisplayName:$("#AddSomeone_Name").val(),Description:null,Email:null,MemberCount:0,EnableDuringDnd:$("#AddSomeone_Dnd").is(":checked"),Subscribe:$("#AddSomeone_Subscribe").is(":checked")}),function(e){if(!Bd||0==Bd.connected)return void console.warn("XMPP not connected");var t=$iq({type:"set",id:Bd.getUniqueId(),from:Bd.jid});if(t.c("query",{xmlns:"jabber:iq:roster"}),t.c("item",{jid:e.jid,name:e.CallerIDName}),null==e.jid)return void console.warn("Missing JID",e);console.log("Adding "+e.CallerIDName+"  to roster..."),Bd.sendIQ(t,(function(t){Od(e),Ld(e)}))}(n=new ad("xmpp",i,$("#AddSomeone_Name").val(),$("#AddSomeone_Exten").val(),"","","",a,"","",o,$("#AddSomeone_Dnd").is(":checked"),$("#AddSomeone_Subscribe").is(":checked"))),ld(n,!1,!1,$("#AddSomeone_Subscribe").is(":checked"))}if("contact"==e){i=lc(),a=cc();t.DataCollection.push({Type:"contact",LastActivity:a,ExtensionNumber:"",MobileNumber:$("#AddSomeone_Mobile").val(),ContactNumber1:$("#AddSomeone_Num1").val(),ContactNumber2:$("#AddSomeone_Num2").val(),uID:null,cID:i,gID:null,jid:null,DisplayName:$("#AddSomeone_Name").val(),Description:$("#AddSomeone_Desc").val(),Email:$("#AddSomeone_Email").val(),MemberCount:0,EnableDuringDnd:$("#AddSomeone_Dnd").is(":checked"),Subscribe:!1}),ld(n=new ad("contact",i,$("#AddSomeone_Name").val(),"",$("#AddSomeone_Mobile").val(),$("#AddSomeone_Num1").val(),$("#AddSomeone_Num2").val(),a,$("#AddSomeone_Desc").val(),$("#AddSomeone_Email").val(),o,$("#AddSomeone_Dnd").is(":checked"),!1),!1,!1,!1)}t.TotalRows=t.DataCollection.length,Fl.setItem(Ds+"-Buddies",JSON.stringify(t)),cd(),Qc()}}}),n.push({text:oc.cancel,action:function(){Qc()}}),$.each(n,(function(e,t){var n=$("<button>"+t.text+"</button>").click(t.action);$("#ButtonBar").append(n)})),$("#actionArea").show(),$("#AddSomeone_Name").focus(),window.setTimeout((function(){$("#type_exten").change((function(){$("#type_exten").is(":checked")&&($("#RowDescription").show(),$("#RowExtension").show(),$("#RowMobileNumber").show(),$("#RowEmail").show(),$("#RowContact1").show(),$("#RowContact2").show())})),$("#type_xmpp").change((function(){$("#type_xmpp").is(":checked")&&($("#RowDescription").hide(),$("#RowExtension").show(),$("#RowMobileNumber").hide(),$("#RowEmail").hide(),$("#RowContact1").hide(),$("#RowContact2").hide())})),$("#type_contact").change((function(){$("#type_contact").is(":checked")&&($("#RowDescription").show(),$("#RowExtension").hide(),$("#RowMobileNumber").show(),$("#RowEmail").show(),$("#RowContact1").show(),$("#RowContact2").show())}))}),0)}function Sc(e){"granted"==e||Cd(oc.alert_notification_permission,oc.permission,(function(){console.log("Attempting to uncheck the checkbox..."),$("#Settings_Notifications").prop("checked",!1)}))}function Cc(){var e=$("#Phone");e.empty(),e.attr("class","pageContainer");var t=$("<div/>");t.attr("id","leftContent"),t.attr("style","float:left; height: 100%; width:320px");t.html('<table style="height:100%; width:100%" cellspacing=5 cellpadding=0><tr><td class=streamSection style="height: 77px"><div class=profileContainer><div class=contact id=UserProfile style="cursor: default; margin-bottom:5px;"><div id=UserProfilePic class=buddyIcon></div><span class=settingsMenu><button id=SettingsMenu><i class="fa fa-cogs"></i></button></span><div class=contactNameText style="margin-right: 0px;"><span id=dereglink class=dotOnline style="display:none"></span><span id=WebRtcFailed class=dotFailed style="display:none"></span><span id=reglink class=dotOffline></span> <span id=UserDID></span> - <span id=UserCallID></span></div><div id=regStatus class=presenceText>&nbsp;</div></div><div style="margin-left:5px; margin-right:5px; margin-bottom: 5px; border-top:1px solid #383838"></div><div style="padding-left:5px; padding-right:5px"><button id=BtnFindBuddy><i class="fa fa-search"></i></button><span id=divFindBuddy class=searchClean style="display:none"><INPUT id=txtFindBuddy type=text autocomplete=none style="width:120px;"></span><button id=BtnFreeDial><i class="fa fa-phone"></i></button><button id=BtnAddSomeone><i class="fa fa-user-plus"></i></button></div></div></td></tr><tr><td class=streamSection><div id=myContacts class="contactArea cleanScroller"></div><div id=actionArea style="display:none" class="contactArea cleanScroller"></div></td></tr></table>');var n=$("<div/>");n.attr("id","rightContent"),n.attr("style","margin-left: 320px; height: 100%"),e.append(t),e.append(n),1==bl&&$("#BtnFreeDial").hide(),1==yl&&$("#BtnAddSomeone").hide(),"XMPP"!=Ol&&$("#BtnCreateGroup").hide(),$("#UserDID").html(Ts),$("#UserCallID").html(Ls),$("#UserProfilePic").css("background-image","url('"+wd("profilePicture")+"')"),$("#BtnFindBuddy").attr("title",oc.find_someone),$("#BtnFindBuddy").on("click",(function(e){$("#divFindBuddy").toggle()})),$("#txtFindBuddy").attr("placeholder",oc.find_someone),$("#txtFindBuddy").on("keyup",(function(e){cd()})),$("#BtnFreeDial").attr("title",oc.call),$("#BtnFreeDial").on("click",(function(e){!function(e){Qc(),$("#myContacts").hide(),$("#actionArea").empty();var t='<div style="text-align:right"><button onclick="ShowContacts()"><i class="fa fa-close"></i></button></div>';t+='<div style="text-align:center"><input id=dialText class=dialTextInput oninput="handleDialInput(this, event)" onkeydown="dialOnkeydown(event, this)" style="width:160px; margin-top:15px"></div>',t+='<table cellspacing=10 cellpadding=0 style="margin-left:auto; margin-right: auto">',t+="<tr><td><button class=dialButtons onclick=\"KeyPress('1')\"><div>1</div><span>&nbsp;</span></button></td>",t+="<td><button class=dialButtons onclick=\"KeyPress('2')\"><div>2</div><span>ABC</span></button></td>",t+="<td><button class=dialButtons onclick=\"KeyPress('3')\"><div>3</div><span>DEF</span></button></td></tr>",t+="<tr><td><button class=dialButtons onclick=\"KeyPress('4')\"><div>4</div><span>GHI</span></button></td>",t+="<td><button class=dialButtons onclick=\"KeyPress('5')\"><div>5</div><span>JKL</span></button></td>",t+="<td><button class=dialButtons onclick=\"KeyPress('6')\"><div>6</div><span>MNO</span></button></td></tr>",t+="<tr><td><button class=dialButtons onclick=\"KeyPress('7')\"><div>7</div><span>PQRS</span></button></td>",t+="<td><button class=dialButtons onclick=\"KeyPress('8')\"><div>8</div><span>TUV</span></button></td>",t+="<td><button class=dialButtons onclick=\"KeyPress('9')\"><div>9</div><span>WXYZ</span></button></td></tr>",t+="<tr><td><button class=dialButtons onclick=\"KeyPress('*')\">*</button></td>",t+="<td><button class=dialButtons onclick=\"KeyPress('0')\">0</button></td>",t+="<td><button class=dialButtons onclick=\"KeyPress('#')\">#</button></td></tr>",t+="</table>",t+='<div style="text-align: center; margin-bottom:15px">',t+='<button class="dialButtons" id=dialAudio style="background-color: #067d0f;" title="'+oc.audio_call+'" onclick="DialByLine(\'audio\')"><i class="fa fa-phone"></i></button>',Ll&&(t+='<button class="dialButtons" id=dialVideo style="background-color: #067d0f; margin-left:20px" title="'+oc.video_call+'" onclick="DialByLine(\'video\')"><i class="fa fa-video-camera"></i></button>');t+="</div>",$("#actionArea").html(t),$("#actionArea").show(),$("#dialText").focus()}()})),$("#BtnAddSomeone").attr("title",oc.add_someone),$("#BtnAddSomeone").on("click",(function(e){_c()})),$("#BtnCreateGroup").attr("title",oc.create_group),$("#BtnCreateGroup").on("click",(function(e){})),$("#SettingsMenu").attr("title",oc.configure_extension),$("#SettingsMenu").on("click",(function(e){!function(e){var t=' <i class="fa fa-check" style="float: right; line-height: 18px;"></i>',n=[];n.push({icon:"fa fa-refresh",text:oc.refresh_registration,value:1}),n.push({icon:"fa fa-wrench",text:oc.configure_extension,value:2}),n.push({icon:null,text:"-"}),n.push({icon:"fa fa-user-plus",text:oc.add_someone,value:3}),n.push({icon:null,text:"-"}),1==Js?n.push({icon:"fa fa-phone",text:oc.auto_answer+t,value:5}):n.push({icon:"fa fa-phone",text:oc.auto_answer,value:5});1==Xs?n.push({icon:"fa fa-ban",text:oc.do_no_disturb+t,value:6}):n.push({icon:"fa fa-ban",text:oc.do_no_disturb,value:6});1==Ys?n.push({icon:"fa fa-volume-control-phone",text:oc.call_waiting+t,value:7}):n.push({icon:"fa fa-volume-control-phone",text:oc.call_waiting,value:7});1==Gs?n.push({icon:"fa fa-dot-circle-o",text:oc.record_all_calls+t,value:8}):n.push({icon:"fa fa-dot-circle-o",text:oc.record_all_calls,value:8});"XMPP"==Ol&&(n.push({icon:null,text:"-"}),n.push({icon:"fa fa-comments",text:oc.set_status,value:9}));kd(e,{selectEvent:function(e,t){var n=t.item.attr("value");$d(),"1"==n&&(kc(),console.log("Unregister complete..."),window.setTimeout((function(){console.log("Starting registration..."),xc()}),1e3)),"2"==n&&bd(),"3"==n&&_c(),"5"==n&&function(){if("disabled"==Sl)return Js=!1,void console.warn("Policy AutoAnswer: Disabled");Js=1!=Js,"enabled"==Sl&&(Js=!0);Fl.setItem("AutoAnswerEnabled",1==Js?"1":"0"),console.log("AutoAnswer:",Js)}(),"6"==n&&function(){if("disabled"==Cl)return Xs=!1,void console.warn("Policy DoNotDisturb: Disabled");Xs=1!=Xs,"enabled"==Cl&&(Xs=!0);Fl.setItem("DoNotDisturbEnabled",1==Xs?"1":"0"),$("#dereglink").attr("class",1==Xs?"dotDoNotDisturb":"dotOnline"),console.log("DoNotDisturb",Xs)}(),"7"==n&&function(){if("disabled"==xl)return Ys=!1,void console.warn("Policy CallWaiting: Disabled");Ys=1!=Ys,"enabled"==xl&&(xl=!0);Fl.setItem("CallWaitingEnabled",1==Ys?"1":"0"),console.log("CallWaiting",Ys)}(),"8"==n&&function(){if("disabled"==kl)return Gs=!1,void console.warn("Policy CallRecording: Disabled");Gs=1!=Gs,"enabled"==kl&&(Gs=!0);Fl.setItem("RecordAllCalls",1==Gs?"1":"0"),console.log("RecordAllCalls",Gs)}(),"9"==n&&($d(),_d("<div class=UiWindowField><div><input type=text id=presence_text class=UiInputText></div></div>",oc.set_status,180,350,!1,!1,"OK",(function(){var e="chat",t=$("#presence_text").val();Fl.setItem("XmppLastPresence",e),Fl.setItem("XmppLastStatus",t),Dd(e,t),Sd()}),"Cancel",(function(){Sd()}),(function(){$("#presence_text").val(dc("XmppLastStatus",""))})))},createEvent:null,autoFocus:!0,items:n})}(this)})),wc(),null!=Ds?(function(){console.log("Clearing Buddies..."),ql=new Array,console.log("Adding Buddies...");var e=JSON.parse(Fl.getItem(Ds+"-Buddies"));if(null==e)return;console.log("Total Buddies: "+e.TotalRows),$.each(e.DataCollection,(function(e,t){if("extension"==t.Type)ld(new ad("extension",t.uID,t.DisplayName,t.ExtensionNumber,t.MobileNumber,t.ContactNumber1,t.ContactNumber2,t.LastActivity,t.Description,t.Email,null,t.EnableDuringDnd,t.Subscribe),!1,!1,!1);else if("xmpp"==t.Type){ld(new ad("xmpp",t.uID,t.DisplayName,t.ExtensionNumber,"","","",t.LastActivity,"","",t.jid,t.EnableDuringDnd,t.Subscribe),!1,!1,!1)}else if("contact"==t.Type){ld(new ad("contact",t.cID,t.DisplayName,"",t.MobileNumber,t.ContactNumber1,t.ContactNumber2,t.LastActivity,t.Description,t.Email,null,t.EnableDuringDnd,t.Subscribe),!1,!1,!1)}else if("group"==t.Type){ld(new ad("group",t.gID,t.DisplayName,t.ExtensionNumber,"","","",t.LastActivity,t.MemberCount+" member(s)",t.Email,null,t.EnableDuringDnd,t.Subscribe),!1,!1,!1)}})),console.log("Updating Buddy List..."),cd()}(),null!=Fl.getItem("SelectedBuddy")&&(console.log("Selecting previously selected buddy...",Fl.getItem("SelectedBuddy")),dd(Fl.getItem("SelectedBuddy")),wc()),rc.Alert={file:"Alert.mp3",url:Fs+"media/Alert.mp3"},rc.Ringtone={file:"Ringtone_1.mp3",url:Fs+"media/Ringtone_1.mp3"},rc.speech_orig={file:"speech_orig.mp3",url:Fs+"media/speech_orig.mp3"},rc.Busy_UK={file:"Tone_Busy-UK.mp3",url:Fs+"media/Tone_Busy-UK.mp3"},rc.Busy_US={file:"Tone_Busy-US.mp3",url:Fs+"media/Tone_Busy-US.mp3"},rc.CallWaiting={file:"Tone_CallWaiting.mp3",url:Fs+"media/Tone_CallWaiting.mp3"},rc.Congestion_UK={file:"Tone_Congestion-UK.mp3",url:Fs+"media/Tone_Congestion-UK.mp3"},rc.Congestion_US={file:"Tone_Congestion-US.mp3",url:Fs+"media/Tone_Congestion-US.mp3"},rc.EarlyMedia_Australia={file:"Tone_EarlyMedia-Australia.mp3",url:Fs+"media/Tone_EarlyMedia-Australia.mp3"},rc.EarlyMedia_European={file:"Tone_EarlyMedia-European.mp3",url:Fs+"media/Tone_EarlyMedia-European.mp3"},rc.EarlyMedia_Japan={file:"Tone_EarlyMedia-Japan.mp3",url:Fs+"media/Tone_EarlyMedia-Japan.mp3"},rc.EarlyMedia_UK={file:"Tone_EarlyMedia-UK.mp3",url:Fs+"media/Tone_EarlyMedia-UK.mp3"},rc.EarlyMedia_US={file:"Tone_EarlyMedia-US.mp3",url:Fs+"media/Tone_EarlyMedia-US.mp3"},$.each(rc,(function(e,t){var n=new XMLHttpRequest;n.open("GET",t.url,!0),n.responseType="blob",n.onload=function(e){var i=new FileReader;i.readAsDataURL(n.response),i.onload=function(){t.blob=i.result}},n.send()})),function(){console.log("Creating User Agent...");var e={displayName:Ls,uri:Ms+"@"+Is,transportOptions:{wsServers:"wss://"+Is+":"+Os+Rs,traceSip:!1,connectionTimeout:Ps,maxReconnectionAttempts:Bs,reconnectionTimeout:js},sessionDescriptionHandlerFactoryOptions:{peerConnectionOptions:{alwaysAcquireMediaFirst:!0,iceCheckingTimeout:Ws,rtcConfiguration:{}}},authorizationUser:Ms,password:Es,registerExpires:Hs,hackWssInTransport:Vs,hackIpInContact:qs,userAgentString:Us,autostart:!1,register:!1,rel100:SIP.C.supported.UNSUPPORTED};""!=zs&&(e.sessionDescriptionHandlerFactoryOptions.peerConnectionOptions.rtcConfiguration.iceServers=JSON.parse(zs));try{Hl=new SIP.UA(e),console.log("Creating User Agent... Done")}catch(e){return console.error("Error creating User Agent: "+e),$("#regStatus").html(oc.error_user_agant),void alert(e.message)}Hl.on("registered",(function(){zl||(console.log("Registered!"),$("#reglink").hide(),$("#dereglink").show(),(Xs||"enabled"==Cl)&&$("#dereglink").attr("class","dotDoNotDisturb"),function(){console.log("Subscribe to voicemail Messages...");var e={expires:300};Hl.subscribe(Ms+"@"+Is,"message-summary",e).on("notify",(function(e){var t=!1;$.each(e.request.body.split("\n"),(function(e,n){-1!=n.indexOf("Messages-Waiting:")&&(t="yes"==$.trim(n.replace("Messages-Waiting:","")))})),t&&console.log("You have voicemail!")}));var t={expires:300,extraHeaders:["Accept: application/pidf+xml"]};console.log("Starting Subscribe of all ("+ql.length+") Extension Buddies...");for(var n=0;n<ql.length;n++){var i=ql[n];if(("extension"==i.type||"xmpp"==i.type)&&1==i.EnableSubscribe){console.log("SUBSCRIBE: "+i.ExtNo+"@"+Is);var a=Hl.subscribe(i.ExtNo+"@"+Is,"presence",t);a.data.buddyId=i.identity,a.on("notify",(function(e){Pc(e)})),Vl.push(a)}}}(),$("#regStatus").html(oc.registered),"XMPP"==Ol&&jd(),"undefined"!=typeof web_hook_on_register&&web_hook_on_register(Hl)),zl=!0,As.isReRegister=!0})),Hl.on("registrationFailed",(function(e,t){console.log("Registration Failed: "+t),$("#regStatus").html(oc.registration_failed),$("#reglink").show(),$("#dereglink").hide(),"undefined"!=typeof web_hook_on_registrationFailed&&web_hook_on_registrationFailed(t)})),Hl.on("unregistered",(function(){console.log("Unregistered, bye!"),$("#regStatus").html(oc.unregistered),$("#reglink").show(),$("#dereglink").hide(),zl=!1,As.isReRegister=!1,"undefined"!=typeof web_hook_on_unregistered&&web_hook_on_unregistered()})),Hl.on("transportCreated",(function(e){console.log("Transport Object Created"),e.on("connected",(function(){console.log("Connected to Web Socket!"),$("#regStatus").html(oc.connected_to_web_socket),$("#WebRtcFailed").hide(),window.setTimeout((function(){xc()}),500)})),e.on("disconnected",(function(){console.log("Disconnected from Web Socket!"),$("#regStatus").html(oc.disconnected_from_web_socket),zl=!1,As.isReRegister=!1})),e.on("transportError",(function(){console.log("Web Socket error!"),$("#regStatus").html(oc.web_socket_error),$("#WebRtcFailed").show(),"undefined"!=typeof web_hook_on_transportError&&web_hook_on_transportError(e,Hl)}))})),Hl.on("invite",(function(e){!function(e){var t=e.remoteIdentity.displayName,n=e.remoteIdentity.uri.user;console.log("New Incoming Call!",t+" <"+n+">");var i=Jc(e.id);console.log("Current Call Count:",i);var a=ud(n);if(null==a){var o=n.length>pl?"contact":"extension";a=rd(o,!0,0==i,!1,t,n,null,!1)}else("extension"==a.type&&a.CallerIDName!=t||"contact"==a.type&&t!=n&&a.CallerIDName!=t)&&sd(a,t);var r=ac.length+1;($s=new Kc(r,t,n,a)).SipSession=e,$s.SipSession.data.line=$s.LineNumber,$s.SipSession.data.buddyId=$s.BuddyObj.identity,$s.SipSession.data.earlyReject=!1,ac.push($s),$s.SipSession.on("rejected",(function(e,t){console.log("Call rejected: "+t);var n=td(this.data.line);n.SipSession.data.reasonCode=e.status_code,n.SipSession.data.reasonText=t,Tc(n,e.status_code,t)})),$s.SipSession.on("terminated",(function(e,t){console.warn("terminated called from ReceiveCall(), probably they cancelled",t),Tc(td(this.data.line),0,"Call Cancelled")})),window.clearInterval($s.SipSession.data.callTimer);var s=moment.utc();$s.SipSession.data.callstart=s.format("YYYY-MM-DD HH:mm:ss UTC"),$s.SipSession.data.callTimer=window.setInterval((function(){var e=moment.utc(),t=moment.duration(e.diff(s));$("#line-"+$s.LineNumber+"-timer").html(hc(t.asSeconds()))}),1e3),$s.SipSession.data.calldirection="inbound",$s.SipSession.data.terminateby="them",$s.SipSession.data.withvideo=!1;var l=!1;$s.SipSession.request.body&&$s.SipSession.request.body.indexOf("m=video")>-1&&(l=!0,"contact"==a.type&&(l=!1));if(1==Xs||"enabled"==Cl){if(1!=Xs||1!=a.EnableDuringDnd)return console.log("Do Not Disturb Enabled, rejecting call."),$s.SipSession.data.earlyReject=!0,void Nc($s.LineNumber);console.log("Buddy is allowed to call while you are on DND")}if(i>=1&&(0==Ys||"disabled"==Ys))return console.log("Call Waiting Disabled, rejecting call."),$s.SipSession.data.earlyReject=!0,void Nc($s.LineNumber);nd($s),$("#line-"+$s.LineNumber+"-msg").html(oc.incoming_call_from+" "+t+" &lt;"+n+"&gt;"),$("#line-"+$s.LineNumber+"-msg").show(),$("#line-"+$s.LineNumber+"-timer").show(),l?$("#line-"+$s.LineNumber+"-answer-video").show():$("#line-"+$s.LineNumber+"-answer-video").hide();$("#line-"+$s.LineNumber+"-AnswerCall").show(),cd();var c=!1,d=1e3;if(!Js&&"enabled"==$l){var u=e.request.headers["Call-Info"];if(void 0!==u&&u.length>0)for(var p=0;p<u.length;p++){var f=u[p].raw.toLowerCase();if(f.indexOf("answer-after=")>0){var m=parseInt(f.substring(f.indexOf("answer-after=")+"answer-after=".length).split(";")[0]);if(Number.isInteger(m)&&m>=0){c=!0,m>1&&(d=1e3*m);break}}}var v=e.request.headers["Alert-Info"];if(!1===c&&void 0!==v&&v.length>0)for(p=0;p<v.length;p++){var h=v[p].raw.toLowerCase();if(h.indexOf("auto answer")>0||h.indexOf("alert-autoanswer")>0){c=!0;break}if(h.indexOf("answer-after=")>0){m=parseInt(h.substring(h.indexOf("answer-after=")+"answer-after=".length).split(";")[0]);if(Number.isInteger(m)&&m>=0){c=!0,m>1&&(d=1e3*m);break}}}}if(Js||"enabled"==Sl||c){if(0==i)return console.log("Going to Auto Answer this call..."),window.setTimeout((function(){l?Ac($s.LineNumber):$c($s.LineNumber)}),d),void ed($s.LineNumber);console.warn("Could not auto answer call, already on a call.")}if("Notification"in window&&"granted"===Notification.permission){var g={body:oc.incoming_call_from+" "+t+" <"+n+">",icon:wd(a.identity)};new Notification(oc.incoming_call,g).onclick=function(e){var t=$s.LineNumber;window.setTimeout((function(){l?Ac(t):$c(t)}),1e3),ed(t)}}if(i>=1){console.log("Audio:",rc.CallWaiting.url),(b=new Audio(rc.CallWaiting.blob)).preload="auto",b.loop=!1,b.oncanplaythrough=function(e){void 0!==b.sinkId&&"default"!=mc()&&b.setSinkId(mc()).then((function(){console.log("Set sinkId to:",mc())})).catch((function(e){console.warn("Failed not apply setSinkId.",e)})),b.play().then((function(){})).catch((function(e){console.warn("Unable to play audio file.",e)}))},$s.SipSession.data.rinngerObj=b}else{var b;console.log("Audio:",rc.Ringtone.url),(b=new Audio(rc.Ringtone.blob)).preload="auto",b.loop=!0,b.oncanplaythrough=function(e){void 0!==b.sinkId&&"default"!=mc()&&b.setSinkId(mc()).then((function(){console.log("Set sinkId to:",mc())})).catch((function(e){console.warn("Failed not apply setSinkId.",e)})),b.play().then((function(){})).catch((function(e){console.warn("Unable to play audio file.",e)}))},$s.SipSession.data.rinngerObj=b}if($("#stream-"+a.identity).is(":visible")||0==i)0==i&&ed(r);else if(Qs){Sd();var y='<div class="UiWindowField" style="text-align:center">';y+='<div style="font-size: 18px; margin-top:05px">'+t+"<div>",t!=n&&(y+='<div style="font-size: 18px; margin-top:05px">&lt;'+n+"&gt;<div>"),y+='<div class=callAnswerBuddyIcon style="background-image: url('+wd(a.identity)+'); margin-top:15px"></div>',y+='<div style="margin-top:5px"><button onclick="AnswerAudioCall(\''+a.identity+'\')" class=answerButton><i class="fa fa-phone"></i> '+oc.answer_call+"</button></div>",l&&(y+='<div style="margin-top:15px"><button onclick="AnswerVideoCall(\''+a.identity+'\')" class=answerButton><i class="fa fa-video-camera"></i> '+oc.answer_call_with_video+"</button></div>"),_d(y+="</div>",oc.incoming_call_from,400,300,!0,!1,oc.reject_call,(function(){Nc(a.identity),Sd()}),"Close",(function(){Sd()}),null,null)}}(e),"undefined"!=typeof web_hook_on_invite&&web_hook_on_invite(e)})),Hl.on("message",(function(e){!function(e){var t=e.remoteIdentity.displayName,n=e.remoteIdentity.uri.user;if(console.log("New Incoming Message!",'"'+t+'" <'+n+">"),e.data.direction="inbound",n.length>pl)return void console.warn("DID length greater then extensions length");var i=Jc("0"),a=ud(n);if(null==a){var o=JSON.parse(Fl.getItem(Ds+"-Buddies"));null==o&&(o=od());var r=lc(),s=cc();o.DataCollection.push({Type:"extension",LastActivity:s,ExtensionNumber:n,MobileNumber:"",ContactNumber1:"",ContactNumber2:"",uID:r,cID:null,gID:null,jid:null,DisplayName:t,Description:"",Email:"",MemberCount:0,EnableDuringDnd:!1,Subscribe:!1}),ld(a=new ad("extension",r,t,n,"","","",s,"","",jid,!1,!1),!0,0==i,!1),o.TotalRows=o.DataCollection.length,Fl.setItem(Ds+"-Buddies",JSON.stringify(o))}var l=e.body,c=lc(),d=cc();Uc(a,c,"MSG",l,d),zc(a.identity),vd(a),Fc(a,l)}(e),"undefined"!=typeof web_hook_on_message&&web_hook_on_message(e)})),console.log("Connecting to Web Socket..."),$("#regStatus").html(oc.connecting_to_web_socket),Hl.start(),$("#reglink").on("click",xc),$("#dereglink").on("click",kc),$("#WebRtcFailed").on("click",(function(){xd(oc.error_connecting_web_socket,oc.web_socket_error,(function(){window.open("https://"+Is+":"+Os+"/httpstatus")}),null)}))}()):bd()}function xc(){null==Hl||Hl.isRegistered()||(console.log("Sending Registration..."),$("#regStatus").html(oc.sending_registration),Hl.register())}function kc(){if(null!=Hl&&Hl.isRegistered()){console.log("Unsubscribing..."),$("#regStatus").html(oc.unsubscribing);try{!function(){console.log("Unsubscribing "+Vl.length+" subscriptions...");for(var e=0;e<Vl.length;e++)Vl[e].unsubscribe(),Vl[e].close();Vl=new Array;for(var t=0;t<ql.length;t++){var n=ql[t];"extension"!=n.type&&"xmpp"!=n.type||($("#contact-"+n.identity+"-devstate").prop("class","dotOffline"),$("#contact-"+n.identity+"-devstate-main").prop("class","dotOffline"),$("#contact-"+n.identity+"-presence").html(oc.state_unknown),$("#contact-"+n.identity+"-presence-main").html(oc.state_unknown))}}()}catch(e){}console.log("Disconnecting..."),$("#regStatus").html(oc.disconnecting),Hl.unregister(),zl=!1,As.isReRegister=!1}}function $c(e){var t=td(e);if(null!=t){var n=t.SipSession;if(n.data.rinngerObj&&(n.data.rinngerObj.pause(),n.data.rinngerObj.removeAttribute("src"),n.data.rinngerObj.load(),n.data.rinngerObj=null),0==ec)return Cd(oc.alert_no_microphone),$("#line-"+t.LineNumber+"-msg").html(oc.call_failed),void $("#line-"+t.LineNumber+"-AnswerCall").hide();$("#line-"+t.LineNumber+"-AnswerCall").hide();var i=navigator.mediaDevices.getSupportedConstraints(),a={sessionDescriptionHandlerOptions:{constraints:{audio:{deviceId:"default"},video:!1}}},o=uc();if("default"!=o){for(var r=!1,s=0;s<tc.length;++s)if(o==tc[s].deviceId){r=!0;break}r?a.sessionDescriptionHandlerOptions.constraints.audio.deviceId={exact:o}:(console.warn("The audio device you used before is no longer available, default settings applied."),Fl.setItem("AudioSrcId","default"))}i.autoGainControl&&(a.sessionDescriptionHandlerOptions.constraints.audio.autoGainControl=Zs),i.echoCancellation&&(a.sessionDescriptionHandlerOptions.constraints.audio.echoCancellation=el),i.noiseSuppression&&(a.sessionDescriptionHandlerOptions.constraints.audio.noiseSuppression=tl),t.SipSession.data.withvideo=!1,t.SipSession.data.VideoSourceDevice=null,t.SipSession.data.AudioSourceDevice=uc(),t.SipSession.data.AudioOutputDevice=pc();try{t.SipSession.accept(a),$("#line-"+t.LineNumber+"-msg").html(oc.call_in_progress),Ic(t)}catch(e){console.warn("Failed to answer call",e,t.SipSession),Tc(t,500,"Client Error")}}else console.warn("Failed to get line ("+e+")")}function Ac(e){var t=td(e);if(null!=t){var n=t.SipSession;if(n.data.rinngerObj&&(n.data.rinngerObj.pause(),n.data.rinngerObj.removeAttribute("src"),n.data.rinngerObj.load(),n.data.rinngerObj=null),0==ec)return Cd(oc.alert_no_microphone),$("#line-"+t.LineNumber+"-msg").html(oc.call_failed),void $("#line-"+t.LineNumber+"-AnswerCall").hide();$("#line-"+t.LineNumber+"-AnswerCall").hide();var i=navigator.mediaDevices.getSupportedConstraints(),a={sessionDescriptionHandlerOptions:{constraints:{audio:{deviceId:"default"},video:{deviceId:"default"}}}},o=uc();if("default"!=o){for(var r=!1,s=0;s<tc.length;++s)if(o==tc[s].deviceId){r=!0;break}r?a.sessionDescriptionHandlerOptions.constraints.audio.deviceId={exact:o}:(console.warn("The audio device you used before is no longer available, default settings applied."),Fl.setItem("AudioSrcId","default"))}i.autoGainControl&&(a.sessionDescriptionHandlerOptions.constraints.audio.autoGainControl=Zs),i.echoCancellation&&(a.sessionDescriptionHandlerOptions.constraints.audio.echoCancellation=el),i.noiseSuppression&&(a.sessionDescriptionHandlerOptions.constraints.audio.noiseSuppression=tl);var l=fc();if("default"!=l){var c=!1;for(s=0;s<nc.length;++s)if(l==nc[s].deviceId){c=!0;break}c?a.sessionDescriptionHandlerOptions.constraints.video.deviceId={exact:l}:(console.warn("The video device you used before is no longer available, default settings applied."),Fl.setItem("VideoSrcId","default"))}i.frameRate&&""!=il&&(a.sessionDescriptionHandlerOptions.constraints.video.frameRate=il),i.height&&""!=al&&(a.sessionDescriptionHandlerOptions.constraints.video.height=al),i.aspectRatio&&""!=rl&&(a.sessionDescriptionHandlerOptions.constraints.video.aspectRatio=rl),t.SipSession.data.withvideo=!0,t.SipSession.data.VideoSourceDevice=fc(),t.SipSession.data.AudioSourceDevice=uc(),t.SipSession.data.AudioOutputDevice=pc(),$("#line-"+t.LineNumber+"-msg").html(oc.call_in_progress),Dc(t);try{t.SipSession.accept(a),Ks&&hd(t.LineNumber)}catch(e){console.warn("Failed to answer call",e,t.SipSession),Tc(t,500,"Client Error")}}else console.warn("Failed to get line ("+e+")")}function Nc(e){var t=td(e);if(null!=t){var n=t.SipSession;if(null==n&&(console.warn("Reject failed, null session"),$("#line-"+t.LineNumber+"-msg").html(oc.call_failed),$("#line-"+t.LineNumber+"-AnswerCall").hide()),n.data.terminateby="us",n.status==SIP.Session.C.STATUS_WAITING_FOR_ANSWER)try{n.reject({statusCode:486,reasonPhrase:"Busy Here"})}catch(e){console.warn("Problem in RejectCall(), could not reject() call",e,n)}else try{n.bye()}catch(e){console.warn("Problem in RejectCall(), could not bye() call",e,n)}$("#line-"+t.LineNumber+"-msg").html(oc.call_rejected),Tc(t,486,"Busy Here")}else console.warn("Unable to find line ("+e+")")}function Ic(e){if(null!=e){var t="#line-"+e.LineNumber+"-msg",n=e.SipSession;ks=n,n.on("progress",(function(e){if(100==e.status_code)$(t).html(oc.trying);else if(180==e.status_code){$(t).html(oc.ringing);var n=rc.EarlyMedia_European;gc().indexOf("us")>-1&&(n=rc.EarlyMedia_US),gc().indexOf("gb")>-1&&(n=rc.EarlyMedia_UK),gc().indexOf("au")>-1&&(n=rc.EarlyMedia_Australia),gc().indexOf("jp")>-1&&(n=rc.EarlyMedia_Japan),console.log("Audio:",n.url);var i=new Audio(n.blob);i.preload="auto",i.loop=!0,i.oncanplaythrough=function(e){void 0!==i.sinkId&&"default"!=pc()&&i.setSinkId(pc()).then((function(){console.log("Set sinkId to:",pc())})).catch((function(e){console.warn("Failed not apply setSinkId.",e)})),i.play().then((function(){})).catch((function(e){console.warn("Unable to play audio file.",e)}))},this.data.earlyMedia=i}else if(183===e.status_code){if($(t).html(e.reason_phrase+"..."),""!=e.body&&this.hasOffer&&!this.dialog){if(!this.createDialog(e,"UAC"))return void console.warn("Could not create Dialog ");this.hasAnswer=!0,this.status=SIP.Session.C.STATUS_EARLY_MEDIA,this.sessionDescriptionHandler.setDescription(e.body).catch((function(e){console.warn("Failed to set SDP in 183 response: ",e)}))}}else $(t).html(e.reason_phrase+"...");"undefined"!=typeof web_hook_on_modify&&web_hook_on_modify("progress",e)})),n.on("trackAdded",(function(){var t=this.sessionDescriptionHandler.peerConnection,n=new MediaStream;t.getReceivers().forEach((function(e){e.track&&"audio"==e.track.kind&&n.addTrack(e.track)}));var i=$("#line-"+e.LineNumber+"-remoteAudio").get(0);i.srcObject=n,i.onloadedmetadata=function(e){void 0!==i.sinkId&&i.setSinkId(pc()).then((function(){console.log("sinkId applied: "+pc())})).catch((function(e){console.warn("Error using setSinkId: ",e)})),i.play()},"undefined"!=typeof web_hook_on_modify&&web_hook_on_modify("trackAdded",this)})),n.on("accepted",(function(n){this.data.earlyMedia&&(this.data.earlyMedia.pause(),this.data.earlyMedia.removeAttribute("src"),this.data.earlyMedia.load(),this.data.earlyMedia=null),window.clearInterval(this.data.callTimer);var i=moment.utc();this.data.callTimer=window.setInterval((function(){var t=moment.utc(),n=moment.duration(t.diff(i));$("#line-"+e.LineNumber+"-timer").html(hc(n.asSeconds())),As.status.description="incall "+As.name+" "+hc(n.asSeconds())}),1e3),(Gs||"enabled"==kl)&&Xc(e.LineNumber),$("#line-"+e.LineNumber+"-progress").hide(),$("#line-"+e.LineNumber+"-VideoCall").hide(),$("#line-"+e.LineNumber+"-ActiveCall").show(),e.LocalSoundMeter=Oc(e.LineNumber,this),e.RemoteSoundMeter=Lc(e.LineNumber,this),$(t).html(oc.call_in_progress),Hc(e.LineNumber),"undefined"!=typeof web_hook_on_modify&&web_hook_on_modify("accepted",this)})),n.on("rejected",(function(n,i){As.status.showAnimate=!1,$(t).html(oc.call_rejected+": "+i),console.log("Call rejected: "+i),Tc(e,n.status_code,n.reason_phrase)})),n.on("failed",(function(n,i){As.status.showAnimate=!1,$(t).html(oc.call_failed+": "+i),console.log("Call failed: "+i),Tc(e,0,"Call failed")})),n.on("cancel",(function(){As.status.showAnimate=!1,$(t).html(oc.call_cancelled),console.log("Call Cancelled"),Tc(e,0,"Cancelled by caller")})),n.on("bye",(function(){As.status.showAnimate=!1,$(t).html(oc.call_ended),console.log("Call ended, bye!"),Tc(e,16,"Normal Call clearing")})),n.on("terminated",(function(e,t){console.log("Session terminated")})),n.on("reinvite",(function(e){console.log("Session re-invited!",e)})),n.on("directionChanged",(function(){var e=this.sessionDescriptionHandler.getDirection();console.log("Direction Change: ",e),"undefined"!=typeof web_hook_on_modify&&web_hook_on_modify("directionChanged",this)})),$("#line-"+e.LineNumber+"-btn-settings").removeAttr("disabled"),$("#line-"+e.LineNumber+"-btn-audioCall").prop("disabled","disabled"),$("#line-"+e.LineNumber+"-btn-videoCall").prop("disabled","disabled"),$("#line-"+e.LineNumber+"-btn-search").removeAttr("disabled"),$("#line-"+e.LineNumber+"-btn-remove").prop("disabled","disabled"),$("#line-"+e.LineNumber+"-progress").show(),$("#line-"+e.LineNumber+"-msg").show(),"group"==e.BuddyObj.type?($("#line-"+e.LineNumber+"-conference").show(),function(e){var t=fd(e);if("group"==t.type){var n="wss://"+Is+":65501";console.log("Connecting to WebSocket Server: "+n);var i=new WebSocket(n);i.onopen=function(e){console.warn("WebSocket Connection Open, sending subscribe..."),i.send("<xml><subscribe>Confbridge</subscribe></xml>")},i.onclose=function(e){console.warn("WebSocket Closed")},i.onmessage=function(n){var a=JSON.parse("{}");try{a=JSON.parse(n.data)}catch(e){}if(a.Conference==t.identity){console.log(a);var o='Muted: <span style="color:red"><i class="fa fa-microphone-slash"></i> '+oc.yes+"</span>",r='Muted: <span style="color:green"><i class="fa fa-microphone-slash"></i>  '+oc.no+"</span>",s=a.Channel?a.Channel:"";if(s.indexOf("@")>-1&&(s=s.split("@")[0]),s.indexOf("/")>-1&&(s=s.split("/")[1]),s.indexOf("-")>-1&&(s=s.split("-")[0]),s.indexOf("+")>-1&&(s=s.split("+")[1]),"ConfbridgeStart"==a.Event)$("#contact-"+e+"-conference").empty();else if("ConfbridgeJoin"==a.Event){a.Muted;console.log("Buddy: "+a.CallerIDNum+" Joined Conference "+a.Conference);var l=pd(a.CallerIDNum),c='<div id="cp-'+a.Conference+"-"+s+'" class=ConferenceParticipant>';c+=" <IMG id=picture class=NotTalking src='"+wd(null!=l?l.identity:"-")+"'>",c+=" <div>"+a.CallerIDNum+" - "+a.CallerIDName+"</div>",c+="No"==a.Muted?"<div class=presenceText id=Muted>"+r+"</div>":"<div class= id=Muted>"+o+"</div>",c+="</div>",$("#contact-"+e+"-conference").append(c)}else"ConfbridgeTalking"==a.Event?"on"==a.TalkingStatus?(console.log("Buddy: "+a.CallerIDNum+" is Talking in Conference "+a.Conference),$("#contact-"+e+"-conference #cp-"+a.Conference+"-"+s+" #picture").prop("class","Talking")):(console.log("Buddy: "+a.CallerIDNum+" is Not Talking in Conference "+a.Conference),$("#contact-"+e+"-conference #cp-"+a.Conference+"-"+s+" #picture").prop("class","NotTalking")):"ConfbridgeLeave"==a.Event?(console.log("Buddy: "+a.CallerIDNum+" Left Conference "+a.Conference),$("#contact-"+e+"-conference #cp-"+a.Conference+"-"+s).remove()):"ConfbridgeMute"==a.Event?$("#contact-"+e+"-conference #cp-"+a.Conference+"-"+s+" #Muted").html(o):"ConfbridgeUnmute"==a.Event?$("#contact-"+e+"-conference #cp-"+a.Conference+"-"+s+" #Muted").html(r):"ConfbridgeEnd"==a.Event&&(console.log("Conference "+t.identity+" ended, closing WebSocket"),i.close(1e3))}},i.onerror=function(e){console.error("WebSocket Error: "+e.data)},$("#contact-"+e+"-conference").empty()}else console.log("Somehow this is not a Group, so cant monitor the conference")}(e)):$("#line-"+e.LineNumber+"-conference").hide(),Hc(e.LineNumber),wc()}}function Dc(e){if(null!=e){var t="#line-"+e.LineNumber+"-msg",n=e.SipSession;n.on("progress",(function(e){if(100==e.status_code)$(t).html(oc.trying);else if(180==e.status_code){$(t).html(oc.ringing);var n=rc.EarlyMedia_European;gc().indexOf("us")>-1&&(n=rc.EarlyMedia_US),gc().indexOf("gb")>-1&&(n=rc.EarlyMedia_UK),gc().indexOf("au")>-1&&(n=rc.EarlyMedia_Australia),gc().indexOf("jp")>-1&&(n=rc.EarlyMedia_Japan),console.log("Audio:",n.url);var i=new Audio(n.blob);i.preload="auto",i.loop=!0,i.oncanplaythrough=function(e){void 0!==i.sinkId&&"default"!=pc()&&i.setSinkId(pc()).then((function(){console.log("Set sinkId to:",pc())})).catch((function(e){console.warn("Failed not apply setSinkId.",e)})),i.play().then((function(){})).catch((function(e){console.warn("Unable to play audio file.",e)}))},this.data.earlyMedia=i}else if(183===e.status_code){if($(t).html(e.reason_phrase+"..."),""!=e.body&&this.hasOffer&&!this.dialog){if(!this.createDialog(e,"UAC"))return void console.warn("Could not create Dialog ");this.hasAnswer=!0,this.status=SIP.Session.C.STATUS_EARLY_MEDIA,this.sessionDescriptionHandler.setDescription(e.body).catch((function(e){console.warn("Failed to set SDP in 183 response: ",e)}))}}else $(t).html(e.reason_phrase+"...");"undefined"!=typeof web_hook_on_modify&&web_hook_on_modify("progress",e)})),n.on("trackAdded",(function(){var t=this.sessionDescriptionHandler.peerConnection,n=new MediaStream,i=new MediaStream;if(t.getReceivers().forEach((function(e){e.track&&("audio"==e.track.kind&&n.addTrack(e.track),"video"==e.track.kind&&i.addTrack(e.track))})),n.getAudioTracks().length>=1){var a=$("#line-"+e.LineNumber+"-remoteAudio").get(0);a.srcObject=n,a.onloadedmetadata=function(e){void 0!==a.sinkId&&a.setSinkId(pc()).then((function(){console.log("sinkId applied: "+pc())})).catch((function(e){console.warn("Error using setSinkId: ",e)})),a.play()}}if(i.getVideoTracks().length>=1){var o=$("#line-"+e.LineNumber+"-remoteVideo").get(0);o.srcObject=i,o.onloadedmetadata=function(e){o.play()}}"undefined"!=typeof web_hook_on_modify&&web_hook_on_modify("trackAdded",this)})),n.on("accepted",(function(n){this.data.earlyMedia&&(this.data.earlyMedia.pause(),this.data.earlyMedia.removeAttribute("src"),this.data.earlyMedia.load(),this.data.earlyMedia=null),window.clearInterval(this.data.callTimer),$("#line-"+e.LineNumber+"-timer").show();var i=moment.utc();this.data.callTimer=window.setInterval((function(){var t=moment.utc(),n=moment.duration(t.diff(i));$("#line-"+e.LineNumber+"-timer").html(hc(n.asSeconds()))}),1e3);var a=new MediaStream,o=this.sessionDescriptionHandler.peerConnection;o.getSenders().forEach((function(e){e.track&&"video"==e.track.kind&&a.addTrack(e.track)}));var r=$("#line-"+e.LineNumber+"-localVideo").get(0);r.srcObject=a,r.onloadedmetadata=function(e){r.play()},ol>-1&&o.getSenders().forEach((function(e){if(e.track&&"video"==e.track.kind){var t=e.getParameters();t.encodings||(t.encodings=[{}]),t.encodings[0].maxBitrate=1e3*ol,console.log("Applying limit for Bandwidth to: ",ol+"kb per second"),e.setParameters(t).catch((function(e){console.warn("Cannot apply Bandwidth Limits",e)}))}})),(Gs||"enabled"==kl)&&Xc(e.LineNumber),$("#line-"+e.LineNumber+"-progress").hide(),$("#line-"+e.LineNumber+"-VideoCall").show(),$("#line-"+e.LineNumber+"-ActiveCall").show(),$("#line-"+e.LineNumber+"-btn-Conference").hide(),$("#line-"+e.LineNumber+"-btn-CancelConference").hide(),$("#line-"+e.LineNumber+"-Conference").hide(),$("#line-"+e.LineNumber+"-btn-Transfer").hide(),$("#line-"+e.LineNumber+"-btn-CancelTransfer").hide(),$("#line-"+e.LineNumber+"-Transfer").hide(),$("#line-"+e.LineNumber+"-src-camera").prop("disabled",!0),$("#line-"+e.LineNumber+"-src-canvas").prop("disabled",!1),$("#line-"+e.LineNumber+"-src-desktop").prop("disabled",!1),$("#line-"+e.LineNumber+"-src-video").prop("disabled",!1),Hc(e.LineNumber),e.LocalSoundMeter=Oc(e.LineNumber,this),e.RemoteSoundMeter=Lc(e.LineNumber,this),$(t).html(oc.call_in_progress),Ks&&hd(e.LineNumber),"undefined"!=typeof web_hook_on_modify&&web_hook_on_modify("accepted",this)})),n.on("rejected",(function(n,i){$(t).html(oc.call_rejected+": "+i),console.log("Call rejected: "+i),Tc(e,n.status_code,n.reason_phrase)})),n.on("failed",(function(n,i){$(t).html(oc.call_failed+": "+i),console.log("Call failed: "+i),Tc(e,0,"call failed")})),n.on("cancel",(function(){$(t).html(oc.call_cancelled),console.log("Call Cancelled"),Tc(e,0,"Cancelled by caller")})),n.on("bye",(function(){$(t).html(oc.call_ended),console.log("Call ended, bye!"),Tc(e,16,"Normal Call clearing")})),n.on("terminated",(function(e,t){console.log("Session terminated")})),n.on("reinvite",(function(e){console.log("Session re-invited!",e)})),n.on("directionChanged",(function(){var e=n.sessionDescriptionHandler.getDirection();console.log("Direction Change: ",e),"undefined"!=typeof web_hook_on_modify&&web_hook_on_modify("directionChanged",this)})),$("#line-"+e.LineNumber+"-btn-settings").removeAttr("disabled"),$("#line-"+e.LineNumber+"-btn-audioCall").prop("disabled","disabled"),$("#line-"+e.LineNumber+"-btn-videoCall").prop("disabled","disabled"),$("#line-"+e.LineNumber+"-btn-search").removeAttr("disabled"),$("#line-"+e.LineNumber+"-btn-remove").prop("disabled","disabled"),$("#line-"+e.LineNumber+"-progress").show(),$("#line-"+e.LineNumber+"-msg").show(),Hc(e.LineNumber),wc()}}function Tc(e,t,n){if(null!=e&&null!=e.SipSession){var i=e.SipSession;if(1!=i.data.teardownComplete){if(i.data.teardownComplete=!0,i.data.reasonCode=t,i.data.reasonText=n,1!=i.data.earlyReject&&$d(),i.data.childsession)try{i.data.childsession.status==SIP.Session.C.STATUS_CONFIRMED?i.data.childsession.bye():i.data.childsession.cancel()}catch(e){}i.data.childsession=null,i.data.AudioSourceTrack&&"audio"==i.data.AudioSourceTrack.kind&&(i.data.AudioSourceTrack.stop(),i.data.AudioSourceTrack=null),i.data.earlyMedia&&(i.data.earlyMedia.pause(),i.data.earlyMedia.removeAttribute("src"),i.data.earlyMedia.load(),i.data.earlyMedia=null),i.data.rinngerObj&&(i.data.rinngerObj.pause(),i.data.rinngerObj.removeAttribute("src"),i.data.rinngerObj.load(),i.data.rinngerObj=null),Yc(e.LineNumber,!0),null!=e.LocalSoundMeter&&(e.LocalSoundMeter.stop(),e.LocalSoundMeter=null),null!=e.RemoteSoundMeter&&(e.RemoteSoundMeter.stop(),e.RemoteSoundMeter=null),window.clearInterval(i.data.videoResampleInterval),window.clearInterval(i.data.callTimer),function(e,t,n,i){var a=JSON.parse(Fl.getItem(e+"-stream"));null==a&&(a=Bc(e));var o=moment.utc(),r=0,s=0,l=0,c=moment.utc(t.data.callstart.replace(" UTC","")),d=null;t.startTime?(d=moment.utc(t.startTime),r=moment.duration(o.diff(d)),l=moment.duration(d.diff(c))):l=moment.duration(o.diff(c));s=moment.duration(o.diff(c)),console.log(t.data.reasonCode+"("+t.data.reasonText+")");var u="",p="",f="",m="";"inbound"==t.data.calldirection?(u=e,f=Ds,p="<"+t.remoteIdentity.uri.user+"> "+t.remoteIdentity.displayName,m="<"+Ts+"> "+Ls):"outbound"==t.data.calldirection&&(u=Ds,f=e,p="<"+Ts+"> "+Ls,m=t.remoteIdentity.uri.user);var v=t.data.calldirection,h=t.data.withvideo,g=t.id,b=t.data.terminateby,y={CdrId:lc(),ItemType:"CDR",ItemDate:c.format("YYYY-MM-DD HH:mm:ss UTC"),CallAnswer:d?d.format("YYYY-MM-DD HH:mm:ss UTC"):null,CallEnd:o.format("YYYY-MM-DD HH:mm:ss UTC"),SrcUserId:u,Src:p,DstUserId:f,Dst:m,RingTime:0!=l?l.asSeconds():0,Billsec:0!=r?r.asSeconds():0,TotalDuration:0!=s?s.asSeconds():0,ReasonCode:n,ReasonText:i,WithVideo:h,SessionId:g,CallDirection:v,Terminate:b,MessageData:null,Tags:[],Transfers:t.data.transfer?t.data.transfer:[],Mutes:t.data.mute?t.data.mute:[],Holds:t.data.hold?t.data.hold:[],Recordings:t.data.recordings?t.data.recordings:[],ConfCalls:t.data.confcalls?t.data.confcalls:[],QOS:[]};console.log("New CDR",y),a.DataCollection.push(y),a.TotalRows=a.DataCollection.length,Fl.setItem(e+"-stream",JSON.stringify(a)),zc(e)}(e.BuddyObj.identity,i,t,n),"inbound"==i.data.calldirection&&"them"==i.data.terminateby&&null==e.SipSession.startTime&&qc(i.data.buddyId),window.setTimeout((function(){!function(e){if(null==e)return;for(var t=e.SipSession.data.earlyReject,n=0;n<ac.length;n++)if(ac[n].LineNumber==e.LineNumber){ac.splice(n,1);break}1!=t&&(!function(e){$(".buddySelected").each((function(){$(this).prop("class","buddy")})),$(".streamSelected").each((function(){$(this).prop("class","stream")})),console.log("Closing Line: "+e);for(var t=0;t<ac.length;t++)ac[t].IsSelected=!1;Jl=null;for(var n=0;n<ql.length;n++)ql[n].IsSelected=!1;Wl=null,wc()}(e.LineNumber),$("#line-ui-"+e.LineNumber).remove());cd(),1!=t&&null!=Fl.getItem("SelectedBuddy")&&(console.log("Selecting previously selected buddy...",Fl.getItem("SelectedBuddy")),dd(Fl.getItem("SelectedBuddy")),wc())}(e)}),1e3),cd(),1!=i.data.earlyReject&&wc(),"undefined"!=typeof web_hook_on_terminate&&web_hook_on_terminate(i)}}}function Lc(e,t){console.log("Creating RemoteAudio AudioContext on Line:"+e);var n=new Rc(t.id,e);if(null==n)return console.warn("AudioContext() RemoteAudio not available... it fine."),null;var i=new MediaStream,a=null;t.sessionDescriptionHandler.peerConnection.getReceivers().forEach((function(e){e.track&&"audio"==e.track.kind&&(null==a?(i.addTrack(e.track),a=e):(console.log("Found another Track, but audioReceiver not null"),console.log(e),console.log(e.track)))}));var o=100;n.startTime=Date.now(),Chart.defaults.global.defaultFontSize=12;var r={responsive:!1,maintainAspectRatio:!1,devicePixelRatio:1,animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};return n.ReceiveBitRateChart=new Chart($("#line-"+e+"-AudioReceiveBitRate"),{type:"line",data:{labels:yc("",o),datasets:[{label:oc.receive_kilobits_per_second,data:yc(0,o),backgroundColor:"rgba(168, 0, 0, 0.5)",borderColor:"rgba(168, 0, 0, 1)",borderWidth:1,pointRadius:1}]},options:r}),n.ReceiveBitRateChart.lastValueBytesReceived=0,n.ReceiveBitRateChart.lastValueTimestamp=0,n.ReceivePacketRateChart=new Chart($("#line-"+e+"-AudioReceivePacketRate"),{type:"line",data:{labels:yc("",o),datasets:[{label:oc.receive_packets_per_second,data:yc(0,o),backgroundColor:"rgba(168, 0, 0, 0.5)",borderColor:"rgba(168, 0, 0, 1)",borderWidth:1,pointRadius:1}]},options:r}),n.ReceivePacketRateChart.lastValuePacketReceived=0,n.ReceivePacketRateChart.lastValueTimestamp=0,n.ReceivePacketLossChart=new Chart($("#line-"+e+"-AudioReceivePacketLoss"),{type:"line",data:{labels:yc("",o),datasets:[{label:oc.receive_packet_loss,data:yc(0,o),backgroundColor:"rgba(168, 99, 0, 0.5)",borderColor:"rgba(168, 99, 0, 1)",borderWidth:1,pointRadius:1}]},options:r}),n.ReceivePacketLossChart.lastValuePacketLoss=0,n.ReceivePacketLossChart.lastValueTimestamp=0,n.ReceiveJitterChart=new Chart($("#line-"+e+"-AudioReceiveJitter"),{type:"line",data:{labels:yc("",o),datasets:[{label:oc.receive_jitter,data:yc(0,o),backgroundColor:"rgba(0, 38, 168, 0.5)",borderColor:"rgba(0, 38, 168, 1)",borderWidth:1,pointRadius:1}]},options:r}),n.ReceiveLevelsChart=new Chart($("#line-"+e+"-AudioReceiveLevels"),{type:"line",data:{labels:yc("",o),datasets:[{label:oc.receive_audio_levels,data:yc(0,o),backgroundColor:"rgba(140, 0, 168, 0.5)",borderColor:"rgba(140, 0, 168, 1)",borderWidth:1,pointRadius:1}]},options:r}),n.connectToSource(i,(function(t){null==t&&(console.log("SoundMeter for RemoteAudio Connected, displaying levels for Line: "+e),n.levelsInterval=window.setInterval((function(){var t=n.instant/255*100;$("#line-"+e+"-Speaker").css("height",t.toFixed(2)+"%")}),50),n.networkInterval=window.setInterval((function(){null!=a&&a.getStats().then((function(e){e.forEach((function(e){var t=cc(),i=n.ReceiveBitRateChart,a=n.ReceivePacketRateChart,r=n.ReceivePacketLossChart,s=n.ReceiveJitterChart,l=n.ReceiveLevelsChart;Math.floor((Date.now()-n.startTime)/1e3);if("inbound-rtp"==e.type){if(0==i.lastValueTimestamp)return i.lastValueTimestamp=e.timestamp,i.lastValueBytesReceived=e.bytesReceived,a.lastValueTimestamp=e.timestamp,a.lastValuePacketReceived=e.packetsReceived,r.lastValueTimestamp=e.timestamp,void(r.lastValuePacketLoss=e.packetsLost);var c=8*(e.bytesReceived-i.lastValueBytesReceived)/1e3;i.lastValueTimestamp=e.timestamp,i.lastValueBytesReceived=e.bytesReceived,n.ReceiveBitRate.push({value:c,timestamp:t}),i.data.datasets[0].data.push(c),i.data.labels.push(""),i.data.datasets[0].data.length>o&&(i.data.datasets[0].data.splice(0,1),i.data.labels.splice(0,1)),i.update();var d=e.packetsReceived-a.lastValuePacketReceived;a.lastValueTimestamp=e.timestamp,a.lastValuePacketReceived=e.packetsReceived,n.ReceivePacketRate.push({value:d,timestamp:t}),a.data.datasets[0].data.push(d),a.data.labels.push(""),a.data.datasets[0].data.length>o&&(a.data.datasets[0].data.splice(0,1),a.data.labels.splice(0,1)),a.update();var u=e.packetsLost-r.lastValuePacketLoss;r.lastValueTimestamp=e.timestamp,r.lastValuePacketLoss=e.packetsLost,n.ReceivePacketLoss.push({value:u,timestamp:t}),r.data.datasets[0].data.push(u),r.data.labels.push(""),r.data.datasets[0].data.length>o&&(r.data.datasets[0].data.splice(0,1),r.data.labels.splice(0,1)),r.update(),n.ReceiveJitter.push({value:e.jitter,timestamp:t}),s.data.datasets[0].data.push(e.jitter),s.data.labels.push(""),s.data.datasets[0].data.length>o&&(s.data.datasets[0].data.splice(0,1),s.data.labels.splice(0,1)),s.update()}if("track"==e.type){var p=100*e.audioLevel;n.ReceiveLevels.push({value:p,timestamp:t}),l.data.datasets[0].data.push(p),l.data.labels.push(""),l.data.datasets[0].data.length>o&&(l.data.datasets[0].data.splice(0,1),l.data.labels.splice(0,1)),l.update()}}))}))}),1e3))})),n}function Oc(e,t){console.log("Creating LocalAudio AudioContext on line "+e);var n=new Rc(t.id,e);if(null==n)return console.warn("AudioContext() LocalAudio not available... its fine."),null;var i=new MediaStream,a=null;t.sessionDescriptionHandler.peerConnection.getSenders().forEach((function(e){e.track&&"audio"==e.track.kind&&(null==a?(console.log("Adding Track to Monitor: ",e.track.label),i.addTrack(e.track),a=e):(console.log("Found another Track, but audioSender not null"),console.log(e),console.log(e.track)))}));var o=100;n.startTime=Date.now(),Chart.defaults.global.defaultFontSize=12;var r={responsive:!1,maintainAspectRatio:!1,devicePixelRatio:1,animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};return n.SendBitRateChart=new Chart($("#line-"+e+"-AudioSendBitRate"),{type:"line",data:{labels:yc("",o),datasets:[{label:oc.send_kilobits_per_second,data:yc(0,o),backgroundColor:"rgba(0, 121, 19, 0.5)",borderColor:"rgba(0, 121, 19, 1)",borderWidth:1,pointRadius:1}]},options:r}),n.SendBitRateChart.lastValueBytesSent=0,n.SendBitRateChart.lastValueTimestamp=0,n.SendPacketRateChart=new Chart($("#line-"+e+"-AudioSendPacketRate"),{type:"line",data:{labels:yc("",o),datasets:[{label:oc.send_packets_per_second,data:yc(0,o),backgroundColor:"rgba(0, 121, 19, 0.5)",borderColor:"rgba(0, 121, 19, 1)",borderWidth:1,pointRadius:1}]},options:r}),n.SendPacketRateChart.lastValuePacketSent=0,n.SendPacketRateChart.lastValueTimestamp=0,n.connectToSource(i,(function(t){null==t&&(console.log("SoundMeter for LocalAudio Connected, displaying levels for Line: "+e),n.levelsInterval=window.setInterval((function(){var t=n.instant/255*100;$("#line-"+e+"-Mic").css("height",t.toFixed(2)+"%")}),50),n.networkInterval=window.setInterval((function(){null!=a&&a.getStats().then((function(e){e.forEach((function(e){var t=cc(),i=n.SendBitRateChart,a=n.SendPacketRateChart;Math.floor((Date.now()-n.startTime)/1e3);if("outbound-rtp"==e.type){if(0==i.lastValueTimestamp)return i.lastValueTimestamp=e.timestamp,i.lastValueBytesSent=e.bytesSent,a.lastValueTimestamp=e.timestamp,void(a.lastValuePacketSent=e.packetsSent);var r=8*(e.bytesSent-i.lastValueBytesSent)/1e3;i.lastValueTimestamp=e.timestamp,i.lastValueBytesSent=e.bytesSent,n.SendBitRate.push({value:r,timestamp:t}),i.data.datasets[0].data.push(r),i.data.labels.push(""),i.data.datasets[0].data.length>o&&(i.data.datasets[0].data.splice(0,1),i.data.labels.splice(0,1)),i.update();var s=e.packetsSent-a.lastValuePacketSent;a.lastValueTimestamp=e.timestamp,a.lastValuePacketSent=e.packetsSent,n.SendPacketRate.push({value:s,timestamp:t}),a.data.datasets[0].data.push(s),a.data.labels.push(""),a.data.datasets[0].data.length>o&&(a.data.datasets[0].data.splice(0,1),a.data.labels.splice(0,1)),a.update()}e.type}))}))}),1e3))})),n}$(window).on("beforeunload",(function(){kc()})),$(window).on("resize",(function(){wc()})),$(document).ready((function(){$.getJSON(Fs+"lang/en.json",(function(e){oc=e;var t=function(){var e=window.navigator.userLanguage||window.navigator.language;if("auto"!=hl&&(e=hl),"en"==(e=e.toLowerCase())||0==e.indexOf("en-"))return"";for(l=0;l<Ns.length;l++)if(0==e.indexOf(Ns[l].toLowerCase()))return console.log("Alternate Language detected: ",e),moment.locale(e),Ns[l].toLowerCase();return""}();""!=t?$.getJSON(Fs+"lang/"+t+".json",(function(e){oc=e})).always((function(){console.log("Alternate Lanaguage Pack loaded: ",oc),Cc()})):(console.log("Lanaguage Pack already loaded: ",oc),Cc())}))}));var Rc=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=null;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,i=new AudioContext}catch(e){console.warn("AudioContext() LocalAudio not available... its fine.")}if(null==i)return null;this.context=i,this.source=null,this.lineNum=n,this.sessionId=t,this.captureInterval=null,this.levelsInterval=null,this.networkInterval=null,this.startTime=0,this.ReceiveBitRateChart=null,this.ReceiveBitRate=[],this.ReceivePacketRateChart=null,this.ReceivePacketRate=[],this.ReceivePacketLossChart=null,this.ReceivePacketLoss=[],this.ReceiveJitterChart=null,this.ReceiveJitter=[],this.ReceiveLevelsChart=null,this.ReceiveLevels=[],this.SendBitRateChart=null,this.SendBitRate=[],this.SendPacketRateChart=null,this.SendPacketRate=[],this.instant=0,this.AnalyserNode=this.context.createAnalyser(),this.AnalyserNode.minDecibels=-90,this.AnalyserNode.maxDecibels=-10,this.AnalyserNode.smoothingTimeConstant=.85}var t,n,i;return t=e,(n=[{key:"connectToSource",value:function(e,t){console.log("SoundMeter connecting...");try{this.source=this.context.createMediaStreamSource(e),this.source.connect(this.AnalyserNode),this._start(),t(null)}catch(e){console.error(e),t(e)}}},{key:"_start",value:function(){var e=this;e.instant=0,e.AnalyserNode.fftSize=32,e.dataArray=new Uint8Array(e.AnalyserNode.frequencyBinCount),this.captureInterval=window.setInterval((function(){e.AnalyserNode.getByteFrequencyData(e.dataArray),e.instant=0;for(var t=0;t<e.dataArray.length;t++)e.dataArray[t]>e.instant&&(e.instant=e.dataArray[t])}),1)}},{key:"stop",value:function(){console.log("Disconnecting SoundMeter..."),window.clearInterval(this.captureInterval),this.captureInterval=null,window.clearInterval(this.levelsInterval),this.levelsInterval=null,window.clearInterval(this.networkInterval),this.networkInterval=null;try{this.source.disconnect()}catch(e){}this.source=null;try{this.AnalyserNode.disconnect()}catch(e){}this.AnalyserNode=null;try{this.context.close()}catch(e){}this.context=null;var e=td(this.lineNum),t={ReceiveBitRate:this.ReceiveBitRate,ReceivePacketRate:this.ReceivePacketRate,ReceivePacketLoss:this.ReceivePacketLoss,ReceiveJitter:this.ReceiveJitter,ReceiveLevels:this.ReceiveLevels,SendBitRate:this.SendBitRate,SendPacketRate:this.SendPacketRate};null!=this.sessionId&&function(e,t,n){var i=window.indexedDB.open("CallQosData");i.onerror=function(e){console.error("IndexDB Request Error:",e)},i.onupgradeneeded=function(e){console.warn("Upgrade Required for IndexDB... probably because of first time use.");var t=e.target.result;if(0==t.objectStoreNames.contains("CallQos")){var n=t.createObjectStore("CallQos",{keyPath:"uID"});n.createIndex("sessionid","sessionid",{unique:!1}),n.createIndex("buddy","buddy",{unique:!1}),n.createIndex("QosData","QosData",{unique:!1})}else console.warn("IndexDB requested upgrade, but object store was in place")},i.onsuccess=function(i){console.log("IndexDB connected to CallQosData");var a=i.target.result;if(0!=a.objectStoreNames.contains("CallQos")){a.onerror=function(e){console.error("IndexDB Error:",e)};var o={uID:lc(),sessionid:t,buddy:n,QosData:e};a.transaction(["CallQos"],"readwrite").objectStore("CallQos").add(o).onsuccess=function(e){console.log("Call CallQos Sucess: ",t)}}else console.warn("IndexDB CallQosData.CallQos does not exists")}}(t,this.sessionId,e.BuddyObj.identity)}}])&&xs(t.prototype,n),i&&xs(t,i),e}();function Mc(e,t,n,i){var a=new Rc(null,null);return a.startTime=Date.now(),a.connectToSource(e,(function(e){null==e&&(console.log("SoundMeter Connected, displaying levels to:"+t),a.levelsInterval=window.setInterval((function(){var e=a.instant/255*100;$("#"+t).css(n,e.toFixed(2)+"%")}),i))})),a}function Ec(e){if("extension"==e.type||"xmpp"==e.type){console.log("SUBSCRIBE: "+e.ExtNo+"@"+Is);var t=Hl.subscribe(e.ExtNo+"@"+Is,"presence",{expires:300,extraHeaders:["Accept: application/pidf+xml"]});t.data.buddyId=e.identity,t.on("notify",(function(e){Pc(e)})),Vl.push(t)}}function Pc(e){if(null!=Hl&&Hl.isRegistered()){var t="",n="dotOffline",i="Unknown",a=e.request.headers["Content-Type"][0].parsed;if("application/pidf+xml"==a){t=(o=$($.parseXML(e.request.body))).find("presence").find("tuple").attr("id");o.find("presence").attr("entity"),o.find("presence").find("tuple").find("contact").text(),o.find("presence").find("tuple").find("status"),o.find("presence").find("tuple").find("status").find("basic").text();i=o.find("presence").find("note").text()}else if("application/dialog-info+xml"==a){var o;t=(o=$($.parseXML(e.request.body))).find("dialog-info").attr("entity").split("@")[0].split(":")[1];o.find("dialog-info").attr("version"),o.find("dialog-info").attr("state"),o.find("dialog-info").find("dialog").attr("id");var r=o.find("dialog-info").find("dialog").find("state").text();"terminated"==r&&(i="Ready"),"trying"==r&&(i="On the phone"),"proceeding"==r&&(i="On the phone"),"early"==r&&(i="Ringing"),"confirmed"==r&&(i="On the phone")}var s=pd(t);null!=s?("Not online"==i&&(n="dotOffline"),"Ready"==i&&(n="dotOnline"),"On the phone"==i&&(n="dotInUse"),"Ringing"==i&&(n="dotRinging"),"On hold"==i&&(n="dotOnHold"),"Unavailable"==i&&(n="dotOffline"),console.log("Setting DevSate State for "+s.CallerIDName+" to "+i),s.devState=n,$("#contact-"+s.identity+"-devstate").prop("class",n),$("#contact-"+s.identity+"-devstate-main").prop("class",n),"xmpp"!=s.type&&(console.log("Setting Presence for "+s.CallerIDName+" to "+i),s.presence=i,"Not online"==i&&(i=oc.state_not_online),"Ready"==i&&(i=oc.state_ready),"On the phone"==i&&(i=oc.state_on_the_phone),"Ringing"==i&&(i=oc.state_ringing),"On hold"==i&&(i=oc.state_on_hold),"Unavailable"==i&&(i=oc.state_unavailable),$("#contact-"+s.identity+"-presence").html(i),$("#contact-"+s.identity+"-presence-main").html(i))):console.warn("Buddy not found")}}function Bc(e){return Fl.setItem(e+"-stream",JSON.stringify({TotalRows:0,DataCollection:[]})),JSON.parse(Fl.getItem(e+"-stream"))}function jc(e,t){var n=JSON.parse(Fl.getItem(e.identity+"-stream"));null==n&&null==n.DataCollection||($.each(n.DataCollection,(function(e,n){"MSG"==n.ItemType&&n.ItemId==t&&(n.Read={state:!0,eventTime:cc()})})),Fl.setItem(e.identity+"-stream",JSON.stringify(n)),console.log("Set message ("+t+") as Read"))}function Uc(e,t,n,i,a){var o=JSON.parse(Fl.getItem(e.identity+"-stream"));null==o&&(o=Bc(e.identity));var r={ItemId:t,ItemType:n,ItemDate:a,SrcUserId:e.identity,Src:'"'+e.CallerIDName+'" <'+e.ExtNo+">",DstUserId:Ds,Dst:"",MessageData:i};o.DataCollection.push(r),o.TotalRows=o.DataCollection.length,Fl.setItem(e.identity+"-stream",JSON.stringify(o))}function Fc(e,t){if(!$("#stream-"+e.identity).is(":visible")){if(qc(e.identity),"Notification"in window&&"granted"===Notification.permission){var n=wd(e.identity),i={body:t.substring(0,250),icon:n};new Notification(oc.message_from+" : "+e.CallerIDName,i).onclick=function(t){dd(e.identity)}}console.log("Audio:",rc.Alert.url);var a=new Audio(rc.Alert.blob);a.preload="auto",a.loop=!1,a.oncanplaythrough=function(e){void 0!==a.sinkId&&"default"!=mc()&&a.setSinkId(mc()).then((function(){console.log("Set sinkId to:",mc())})).catch((function(e){console.warn("Failed not apply setSinkId.",e)})),a.play().then((function(){})).catch((function(e){console.warn("Unable to play audio file.",e)}))}}}function Hc(e){id(e);var t=$("#line-"+e+"-CallDetails").get(0);t&&(t.scrollTop=t.scrollHeight)}function Vc(e){var t=$("#contact-"+e+"-ChatHistory");t.children().length>0&&t.children().last().get(0).scrollIntoView(!1),t.get(0).scrollTop=t.get(0).scrollHeight}function qc(e){var t=fd(e);if(null!=t){t.missed+=1;var n=JSON.parse(Fl.getItem(Ds+"-Buddies"));null!=n&&($.each(n.DataCollection,(function(t,n){if(n.uID==e||n.cID==e||n.gID==e)return n.missed=n.missed+1,!1})),Fl.setItem(Ds+"-Buddies",JSON.stringify(n))),$("#contact-"+e+"-missed").text(t.missed),$("#contact-"+e+"-missed").show(),console.log("Set Missed badge for "+t.CallerIDName+" to: "+t.missed)}}function zc(e,t){var n=fd(e);if(null!=n){if(t)n.lastActivity=t;else{var i=cc();n.lastActivity=i}console.log("Last Activity for "+n.CallerIDName+" is now: "+n.lastActivity);var a=JSON.parse(Fl.getItem(Ds+"-Buddies"));null!=a&&($.each(a.DataCollection,(function(t,n){if(n.uID==e||n.cID==e||n.gID==e)return n.LastActivity=i,!1})),Fl.setItem(Ds+"-Buddies",JSON.stringify(a))),cd()}}function Wc(e,t){if(null!=Hl&&0!=Hl.isRegistered()&&null!=e)if(0!=ec){var n=navigator.mediaDevices.getSupportedConstraints(),i={sessionDescriptionHandlerOptions:{constraints:{audio:{deviceId:"default"},video:!1}}},a=uc();if("default"!=a){for(var o=!1,r=0;r<tc.length;++r)if(a==tc[r].deviceId){o=!0;break}o?i.sessionDescriptionHandlerOptions.constraints.audio.deviceId={exact:a}:(console.warn("The audio device you used before is no longer available, default settings applied."),Fl.setItem("AudioSrcId","default"))}n.autoGainControl&&(i.sessionDescriptionHandlerOptions.constraints.audio.autoGainControl=Zs),n.echoCancellation&&(i.sessionDescriptionHandlerOptions.constraints.audio.echoCancellation=el),n.noiseSuppression&&(i.sessionDescriptionHandlerOptions.constraints.audio.noiseSuppression=tl),$("#line-"+e.LineNumber+"-msg").html(oc.starting_audio_call),$("#line-"+e.LineNumber+"-timer").show(),console.log("INVITE (audio): "+t+"@"+Is,i),e.SipSession=Hl.invite("sip:"+t+"@"+Is,i);var s=moment.utc();e.SipSession.data.line=e.LineNumber,e.SipSession.data.buddyId=e.BuddyObj.identity,e.SipSession.data.calldirection="outbound",e.SipSession.data.dst=t,e.SipSession.data.callstart=s.format("YYYY-MM-DD HH:mm:ss UTC"),e.SipSession.data.callTimer=window.setInterval((function(){var t=moment.utc(),n=moment.duration(t.diff(s));$("#line-"+e.LineNumber+"-timer").html(hc(n.asSeconds()))}),1e3),e.SipSession.data.VideoSourceDevice=null,e.SipSession.data.AudioSourceDevice=uc(),e.SipSession.data.AudioOutputDevice=pc(),e.SipSession.data.terminateby="them",e.SipSession.data.withvideo=!1,e.SipSession.data.earlyReject=!1,cd(),Hc(e.LineNumber),Ic(e),"undefined"!=typeof web_hook_on_invite&&web_hook_on_invite(e.SipSession)}else Cd(oc.alert_no_microphone)}function Jc(e){var t=0;return null==Hl?(console.warn("userAgent is null"),0):($.each(Hl.sessions,(function(n,i){e!=i.id&&t++})),t)}function Xc(e){if("disabled"!=kl){var t=td(e);if(null!=t){$("#line-"+t.LineNumber+"-btn-start-recording").hide(),$("#line-"+t.LineNumber+"-btn-stop-recording").show();var n=t.SipSession;if(null!=n){var i=lc();if(n.data.recordings||(n.data.recordings=[]),n.data.recordings.push({uID:i,startTime:cc(),stopTime:cc()}),n.data.mediaRecorder)"inactive"==n.data.mediaRecorder.state?(n.data.mediaRecorder.data={},n.data.mediaRecorder.data.id=""+i,n.data.mediaRecorder.data.sessionId=""+n.id,n.data.mediaRecorder.data.buddyId=""+t.BuddyObj.identity,console.log("Starting Call Recording",i),n.data.mediaRecorder.start(),n.data.recordings[n.data.recordings.length-1].startTime=cc(),$("#line-"+t.LineNumber+"-msg").html(oc.call_recording_started),Hc(e)):console.warn("Recorder is in an unknow state");else{console.log("Creating call recorder...");var a=new MediaStream,o=n.sessionDescriptionHandler.peerConnection;if(o.getSenders().forEach((function(e){e.track&&"audio"==e.track.kind&&(console.log("Adding sender audio track to record:",e.track.label),a.addTrack(e.track))})),o.getReceivers().forEach((function(e){e.track&&"audio"==e.track.kind&&(console.log("Adding receiver audio track to record:",e.track.label),a.addTrack(e.track)),n.data.withvideo&&e.track&&"video"==e.track.kind&&(console.log("Adding receiver video track to record:",e.track.label),a.addTrack(e.track))})),n.data.withvideo){var r=640,s=360,l=100;"HD"==cl&&(r=1280,s=720,l=144),"FHD"==cl&&(r=1920,s=1080,l=240);var c=$("#line-"+t.LineNumber+"-localVideo").get(0),d=$("#line-"+t.LineNumber+"-remoteVideo").get(0);"us-pnp"==ul&&(c=$("#line-"+t.LineNumber+"-remoteVideo").get(0),d=$("#line-"+t.LineNumber+"-localVideo").get(0));var u=$("<canvas/>").get(0);u.width="side-by-side"==ul?2*r+5:r,u.height=s;var p=u.getContext("2d");window.clearInterval(n.data.recordingRedrawInterval),n.data.recordingRedrawInterval=window.setInterval((function(){var e=d.videoWidth>0?d.videoWidth:r,t=d.videoHeight>0?d.videoHeight:s;if(e>=t){var n=r/e;if(e=r,(t*=n)>s){n=s/t;t=s,e*=n}}else{n=s/t;t=s,e*=n}var i=e<r?(r-e)/2:0,a=t<s?(s-t)/2:0;"side-by-side"==ul&&(i=r+5+i);var o=c.videoHeight,f=c.videoWidth;if(o>0)if(f>=o){n=l/o;o=l,f*=n}else{n=l/f;f=l,o*=n}var m=10,v=10;if("side-by-side"==ul){if((f=c.videoWidth)>=(o=c.videoHeight)){n=r/f;if(f=r,(o*=n)>s){n=s/o;o=s,f*=n}}else{n=s/o;o=s,f*=n}m=f<r?(r-f)/2:0,v=o<s?(s-o)/2:0}p.fillRect(0,0,u.width,u.height),d.videoHeight>0&&p.drawImage(d,i,a,e,t),c.videoHeight>0&&("side-by-side"==ul||"us-pnp"==ul||"them-pnp"==ul)&&p.drawImage(c,m,v,f,o)}),Math.floor(1e3/dl));var f=u.captureStream(dl)}var m=new MediaStream;m.addTrack(Gc(a).getAudioTracks()[0]),n.data.withvideo&&m.addTrack(f.getVideoTracks()[0]);var v="audio/webm";n.data.withvideo&&(v="video/webm");var h=new MediaRecorder(m,{mimeType:v});h.data={},h.data.id=""+i,h.data.sessionId=""+n.id,h.data.buddyId=""+t.BuddyObj.identity,h.ondataavailable=function(e){console.log("Got Call Recording Data: ",e.data.size+"Bytes",this.data.id,this.data.buddyId,this.data.sessionId),function(e,t,n,i){var a=window.indexedDB.open("CallRecordings");a.onerror=function(e){console.error("IndexDB Request Error:",e)},a.onupgradeneeded=function(e){console.warn("Upgrade Required for IndexDB... probably because of first time use.");var t=e.target.result;if(0==t.objectStoreNames.contains("Recordings")){var n=t.createObjectStore("Recordings",{keyPath:"uID"});n.createIndex("sessionid","sessionid",{unique:!1}),n.createIndex("bytes","bytes",{unique:!1}),n.createIndex("type","type",{unique:!1}),n.createIndex("mediaBlob","mediaBlob",{unique:!1})}else console.warn("IndexDB requested upgrade, but object store was in place.")},a.onsuccess=function(a){console.log("IndexDB connected to CallRecordings");var o=a.target.result;if(0==o.objectStoreNames.contains("Recordings"))return console.warn("IndexDB CallRecordings.Recordings does not exists, this call recoding will not be saved."),void(o.deleteDatabase("CallRecordings").onsuccess=function(e){console.warn("Database deleted successfully, subsequent calls will be saved.")});o.onerror=function(e){console.error("IndexDB Error:",e)};var r={uID:t,sessionid:i,bytes:e.size,type:e.type,mediaBlob:e};o.transaction(["Recordings"],"readwrite").objectStore("Recordings").add(r).onsuccess=function(a){console.log("Call Recording Sucess: ",t,e.size,e.type,n,i)}}}(e.data,this.data.id,this.data.buddyId,this.data.sessionId)},console.log("Starting Call Recording",i),n.data.mediaRecorder=h,n.data.mediaRecorder.start(),n.data.recordings[n.data.recordings.length-1].startTime=cc(),$("#line-"+t.LineNumber+"-msg").html(oc.call_recording_started),Hc(e)}}else console.warn("Could not find session")}}else console.warn("Policy Disabled: Call Recording")}function Yc(e,t){var n=td(e);if(null!=n&&null!=n.SipSession){var i=n.SipSession;if(1==t)return $("#line-"+n.LineNumber+"-btn-start-recording").show(),$("#line-"+n.LineNumber+"-btn-stop-recording").hide(),void(i.data.mediaRecorder&&("recording"==i.data.mediaRecorder.state?(console.log("Stopping Call Recording"),i.data.mediaRecorder.stop(),i.data.recordings[i.data.recordings.length-1].stopTime=cc(),window.clearInterval(i.data.recordingRedrawInterval),$("#line-"+n.LineNumber+"-msg").html(oc.call_recording_stopped),Hc(e)):console.warn("Recorder is in an unknow state")));"enabled"==kl&&console.log("Policy Enabled: Call Recording"),gd(e),xd(oc.confirm_stop_recording,oc.stop_recording,(function(){$("#line-"+n.LineNumber+"-btn-start-recording").show(),$("#line-"+n.LineNumber+"-btn-stop-recording").hide(),i.data.mediaRecorder&&("recording"==i.data.mediaRecorder.state?(console.log("Stopping Call Recording"),i.data.mediaRecorder.stop(),i.data.recordings[i.data.recordings.length-1].stopTime=cc(),window.clearInterval(i.data.recordingRedrawInterval),$("#line-"+n.LineNumber+"-msg").html(oc.call_recording_stopped),Hc(e)):console.warn("Recorder is in an unknow state"))}))}}function Gc(e){var t=null;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,t=new AudioContext}catch(t){return console.warn("AudioContext() not available, cannot record"),e}var n=t.createMediaStreamDestination();return e.getAudioTracks().forEach((function(e){var i=new MediaStream;i.addTrack(e),t.createMediaStreamSource(i).connect(n)})),n.stream}var Kc=function(e,t,n,i){this.LineNumber=e,this.DisplayName=t,this.DisplayNumber=n,this.IsSelected=!1,this.BuddyObj=i,this.SipSession=null,this.LocalSoundMeter=null,this.RemoteSoundMeter=null};function Qc(){var e=$("#local-video-preview").get(0);try{e.srcObject.getTracks().forEach((function(e){e.stop()})),e.srcObject=null}catch(e){}try{window.SettingsMicrophoneStream.getTracks().forEach((function(e){e.stop()}))}catch(e){}window.SettingsMicrophoneStream=null;try{window.SettingsMicrophoneSoundMeter.stop()}catch(e){}window.SettingsMicrophoneSoundMeter=null;try{window.SettingsOutputAudio.pause()}catch(e){}window.SettingsOutputAudio=null;try{window.SettingsOutputStream.getTracks().forEach((function(e){e.stop()}))}catch(e){}window.SettingsOutputStream=null;try{window.SettingsOutputStreamMeter.stop()}catch(e){}window.SettingsOutputStreamMeter=null;try{window.SettingsRingerAudio.pause()}catch(e){}window.SettingsRingerAudio=null;try{window.SettingsRingerStream.getTracks().forEach((function(e){e.stop()}))}catch(e){}window.SettingsRingerStream=null;try{window.SettingsRingerStreamMeter.stop()}catch(e){}window.SettingsRingerStreamMeter=null,$("#actionArea").hide(),$("#actionArea").empty(),$("#myContacts").show()}function Zc(e,t,n,i){if(null!=Hl&&0!=Hl.isRegistered()){var a=As.dialNumber;if(0!=(a=Tl?a.replace(/[^\da-zA-Z\*\#\+]/g,"").substring(0,fl):a.replace(/[^\d\*\#\+]/g,"").substring(0,fl)).length){Qc();var o=t?fd(t):ud(a);if(null==o){var r=a.length>pl?"contact":"extension";"*"!=r.substring(0,1)&&"#"!=r.substring(0,1)||(r="contact"),o=rd(r,!0,!1,!1,i||a,a)}$s=new Kc(sc+=1,o.CallerIDName,a,o),ac.push($s),nd($s),ed(sc),cd(),"audio"==e?Wc($s,a):function(e,t){if(null!=Hl&&Hl.isRegistered()&&null!=e)if(0!=ec){if(0==Zl)return console.warn("No video devices (webcam) found, switching to audio call."),void Wc(e,t);var n=navigator.mediaDevices.getSupportedConstraints(),i={sessionDescriptionHandlerOptions:{constraints:{audio:{deviceId:"default"},video:{deviceId:"default"}}}},a=uc();if("default"!=a){for(var o=!1,r=0;r<tc.length;++r)if(a==tc[r].deviceId){o=!0;break}o?i.sessionDescriptionHandlerOptions.constraints.audio.deviceId={exact:a}:(console.warn("The audio device you used before is no longer available, default settings applied."),Fl.setItem("AudioSrcId","default"))}n.autoGainControl&&(i.sessionDescriptionHandlerOptions.constraints.audio.autoGainControl=Zs),n.echoCancellation&&(i.sessionDescriptionHandlerOptions.constraints.audio.echoCancellation=el),n.noiseSuppression&&(i.sessionDescriptionHandlerOptions.constraints.audio.noiseSuppression=tl);var s=fc();if("default"!=s){var l=!1;for(r=0;r<nc.length;++r)if(s==nc[r].deviceId){l=!0;break}l?i.sessionDescriptionHandlerOptions.constraints.video.deviceId={exact:s}:(console.warn("The video device you used before is no longer available, default settings applied."),Fl.setItem("VideoSrcId","default"))}n.frameRate&&""!=il&&(i.sessionDescriptionHandlerOptions.constraints.video.frameRate=il),n.height&&""!=al&&(i.sessionDescriptionHandlerOptions.constraints.video.height=al),n.aspectRatio&&""!=rl&&(i.sessionDescriptionHandlerOptions.constraints.video.aspectRatio=rl),$("#line-"+e.LineNumber+"-msg").html(oc.starting_video_call),$("#line-"+e.LineNumber+"-timer").show(),console.log("INVITE (video): "+t+"@"+Is,i),e.SipSession=Hl.invite("sip:"+t+"@"+Is,i);var c=moment.utc();e.SipSession.data.line=e.LineNumber,e.SipSession.data.buddyId=e.BuddyObj.identity,e.SipSession.data.calldirection="outbound",e.SipSession.data.dst=t,e.SipSession.data.callstart=c.format("YYYY-MM-DD HH:mm:ss UTC"),e.SipSession.data.callTimer=window.setInterval((function(){var t=moment.utc(),n=moment.duration(t.diff(c));$("#line-"+e.LineNumber+"-timer").html(hc(n.asSeconds()))}),1e3),e.SipSession.data.VideoSourceDevice=fc(),e.SipSession.data.AudioSourceDevice=uc(),e.SipSession.data.AudioOutputDevice=pc(),e.SipSession.data.terminateby="them",e.SipSession.data.withvideo=!0,e.SipSession.data.earlyReject=!1,cd(),Hc(e.LineNumber),Dc(e),"undefined"!=typeof web_hook_on_invite&&web_hook_on_invite(e.SipSession)}else Cd(oc.alert_no_microphone)}($s,a);try{$("#line-"+sc).get(0).scrollIntoViewIfNeeded()}catch(e){}}else console.warn("Enter number to dial")}else bd()}function ed(e){var t=td(e);if(null!=t){for(var n=0,i=0;i<ac.length;i++)if(ac[i].LineNumber==t.LineNumber&&(n=i+1),1==ac[i].IsSelected&&ac[i].LineNumber==t.LineNumber)return;console.log("Selecting Line : "+t.LineNumber),$(".streamSelected").each((function(){$(this).prop("class","stream")})),$("#line-ui-"+t.LineNumber).prop("class","streamSelected"),$("#line-ui-"+t.LineNumber+"-DisplayLineNo").html('<i class="fa fa-phone"></i> '+oc.line+" "+n),$("#line-ui-"+t.LineNumber+"-LineIcon").html(n),function(e){$.each(Hl.sessions,(function(t,n){n.status==SIP.Session.C.STATUS_CONFIRMED&&0==n.local_hold&&n.data.line!=e&&(console.log("Putting an active call on hold: Line: "+n.data.line+" buddy: "+n.data.buddyId),n.hold(),n.data.hold||(n.data.hold=[]),n.data.hold.push({event:"hold",eventTime:cc()})),$("#line-"+n.data.line+"-btn-Hold").hide(),$("#line-"+n.data.line+"-btn-Unhold").show(),n.data.IsCurrentCall=!1}));var t=td(e);if(null!=t&&null!=t.SipSession){var n=t.SipSession;n.status==SIP.Session.C.STATUS_CONFIRMED&&1==n.local_hold&&(console.log("Taking call off hold:  Line: "+e+" buddy: "+n.data.buddyId),n.unhold(),n.data.hold||(n.data.hold=[]),n.data.hold.push({event:"unhold",eventTime:cc()})),$("#line-"+e+"-btn-Hold").show(),$("#line-"+e+"-btn-Unhold").hide(),n.data.IsCurrentCall=!0}Jl=e,id(e)}(t.LineNumber);for(i=0;i<ac.length;i++){var a=ac[i].LineNumber==t.LineNumber?"buddySelected":"buddy";null!=ac[i].SipSession&&(a=ac[i].SipSession.local_hold?"buddyActiveCallHollding":"buddyActiveCall"),$("#line-"+ac[i].LineNumber).prop("class",a),ac[i].IsSelected=ac[i].LineNumber==t.LineNumber}for(var o=0;o<ql.length;o++)$("#contact-"+ql[o].identity).prop("class","buddy"),ql[o].IsSelected=!1;wc()}}function td(e){for(var t=0;t<ac.length;t++)if(ac[t].LineNumber==e)return ac[t];return null}function nd(e){var t='<table id="line-ui-'+e.LineNumber+'" class=stream cellspacing=5 cellpadding=0>';t+='<tr><td class=streamSection style="height: 48px;">',t+='<div style="float:left; margin:0px; padding:5px; height:38px; line-height:38px">',t+='<button id="line-'+e.LineNumber+'-btn-back" onclick="CloseLine(\''+e.LineNumber+'\')" class=roundButtons title="'+oc.back+'"><i class="fa fa-chevron-left"></i></button> ',t+="</div>",t+='<div class=contact style="cursor: unset; float: left;">',t+='<div id="line-ui-'+e.LineNumber+'-LineIcon" class=lineIcon>'+e.LineNumber+"</div>",t+='<div id="line-ui-'+e.LineNumber+'-DisplayLineNo" class=contactNameText><i class="fa fa-phone"></i> '+oc.line+" "+e.LineNumber+"</div>",t+="<div class=presenceText>"+e.DisplayName+" <"+e.DisplayNumber+"></div>",t+="</div>",t+='<div style="float:right; line-height: 46px;">',t+="</div>",t+='<div style="clear:both; height:0px"></div>',t+='<div id="line-'+e.LineNumber+'-calling">',t+='<div id="line-'+e.LineNumber+'-timer" style="float: right; margin-top: 5px; margin-right: 10px; display:none;"></div>',t+='<div id="line-'+e.LineNumber+'-msg" class=callStatus style="display:none">...</div>',t+='<div id="line-'+e.LineNumber+'-AnswerCall" class=answerCall style="display:none">',t+="<div>",t+="<button onclick=\"AnswerAudioCall('"+e.LineNumber+'\')" class=answerButton><i class="fa fa-phone"></i> '+oc.answer_call+"</button> ",Ll&&(t+='<button id="line-'+e.LineNumber+'-answer-video" onclick="AnswerVideoCall(\''+e.LineNumber+'\')" class=answerButton><i class="fa fa-video-camera"></i> '+oc.answer_call_with_video+"</button> "),t+="<button onclick=\"RejectCall('"+e.LineNumber+'\')" class=hangupButton><i class="fa fa-phone" style="transform: rotate(135deg);"></i> '+oc.reject_call+"</button> ",t+="</div>",t+="</div>",t+='<div id="line-'+e.LineNumber+'-progress" style="display:none; margin-top: 10px">',t+="<div class=progressCall>",t+="<button onclick=\"cancelSession('"+e.LineNumber+'\')" class=hangupButton><i class="fa fa-phone" style="transform: rotate(135deg);"></i> '+oc.cancel+"</button>",t+="</div>",t+="</div>",t+='<div id="line-'+e.LineNumber+'-ActiveCall" style="display:none; margin-top: 10px;">',t+='<div id="line-'+e.LineNumber+'-conference" style="display:none"></div>',"extension"!=e.BuddyObj.type&&"xmpp"!=e.BuddyObj.type||(t+='<div id="line-'+e.LineNumber+'-VideoCall" class=videoCall style="display:none">',t+='<div style="height:35px; line-height:35px; text-align: right">'+oc.present+": ",t+='<div class=pill-nav style="border-color:#333333">',t+='<button id="line-'+e.LineNumber+'-src-camera" onclick="PresentCamera(\''+e.LineNumber+'\')" title="'+oc.camera+'" disabled><i class="fa fa-video-camera"></i></button>',t+='<button id="line-'+e.LineNumber+'-src-canvas" onclick="PresentScratchpad(\''+e.LineNumber+'\')" title="'+oc.scratchpad+'"><i class="fa fa-pencil-square"></i></button>',t+='<button id="line-'+e.LineNumber+'-src-desktop" onclick="PresentScreen(\''+e.LineNumber+'\')" title="'+oc.screen+'"><i class="fa fa-desktop"></i></button>',t+='<button id="line-'+e.LineNumber+'-src-video" onclick="PresentVideo(\''+e.LineNumber+'\')" title="'+oc.video+'"><i class="fa fa-file-video-o"></i></button>',t+='<button id="line-'+e.LineNumber+'-src-blank" onclick="PresentBlank(\''+e.LineNumber+'\')" title="'+oc.blank+'"><i class="fa fa-ban"></i></button>',t+="</div>",t+='&nbsp;<button id="line-'+e.LineNumber+'-expand" onclick="ExpandVideoArea(\''+e.LineNumber+'\')"><i class="fa fa-expand"></i></button>',t+='<button id="line-'+e.LineNumber+'-restore" onclick="RestoreVideoArea(\''+e.LineNumber+'\')" style="display:none"><i class="fa fa-compress"></i></button>',t+="</div>",t+='<div id="line-'+e.LineNumber+'-preview-container" class=PreviewContainer>',t+='<video id="line-'+e.LineNumber+'-localVideo" muted></video>',t+="</div>",t+='<div id="line-'+e.LineNumber+'-stage-container" class=StageContainer>',t+='<video id="line-'+e.LineNumber+'-remoteVideo" muted></video>',t+='<div id="line-'+e.LineNumber+'-scratchpad-container" style="display:none"></div>',t+='<video id="line-'+e.LineNumber+'-sharevideo" controls muted style="display:none; object-fit: contain;"></video>',t+="</div>",t+="</div>"),t+='<div id="line-'+e.LineNumber+'-AudioCall" style="display:none;">',t+='<audio id="line-'+e.LineNumber+'-remoteAudio"></audio>',t+="</div>",t+='<div style="text-align:center">',t+='<div style="margin-top:10px">',t+='<button id="line-'+e.LineNumber+'-btn-ShowDtmf" onclick="ShowDtmfMenu(this, \''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.show_key_pad+'"><i class="fa fa-keyboard-o"></i></button>',t+='<button id="line-'+e.LineNumber+'-btn-Mute" onclick="MuteSession(\''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.mute+'"><i class="fa fa-microphone-slash"></i></button>',t+='<button id="line-'+e.LineNumber+'-btn-Unmute" onclick="UnmuteSession(\''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.unmute+'" style="color: red; display:none"><i class="fa fa-microphone"></i></button>',"undefined"==typeof MediaRecorder||"allow"!=kl&&"enabled"!=kl||(t+='<button id="line-'+e.LineNumber+'-btn-start-recording" onclick="StartRecording(\''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.start_call_recording+'"><i class="fa fa-dot-circle-o"></i></button>',t+='<button id="line-'+e.LineNumber+'-btn-stop-recording" onclick="StopRecording(\''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.stop_call_recording+'" style="color: red; display:none"><i class="fa fa-circle"></i></button>'),wl&&(t+='<button id="line-'+e.LineNumber+'-btn-Transfer" onclick="StartTransferSession(\''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.transfer_call+'"><i class="fa fa-reply" style="transform: rotateY(180deg)"></i></button>',t+='<button id="line-'+e.LineNumber+'-btn-CancelTransfer" onclick="CancelTransferSession(\''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.cancel_transfer+'" style="color: red; display:none"><i class="fa fa-reply" style="transform: rotateY(180deg)"></i></button>'),_l&&(t+='<button id="line-'+e.LineNumber+'-btn-Conference" onclick="StartConferenceCall(\''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.conference_call+'"><i class="fa fa-users"></i></button>',t+='<button id="line-'+e.LineNumber+'-btn-CancelConference" onclick="CancelConference(\''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.cancel_conference+'" style="color: red; display:none"><i class="fa fa-users"></i></button>'),t+='<button id="line-'+e.LineNumber+'-btn-Hold" onclick="holdSession(\''+e.LineNumber+'\')" class="roundButtons inCallButtons"  title="'+oc.hold_call+'"><i class="fa fa-pause-circle"></i></button>',t+='<button id="line-'+e.LineNumber+'-btn-Unhold" onclick="unholdSession(\''+e.LineNumber+'\')" class="roundButtons inCallButtons" title="'+oc.resume_call+'" style="color: red; display:none"><i class="fa fa-play-circle"></i></button>',t+='<button id="line-'+e.LineNumber+'-btn-End" onclick="endSession(\''+e.LineNumber+'\')" class="roundButtons inCallButtons hangupButton" title="'+oc.end_call+'"><i class="fa fa-phone" style="transform: rotate(135deg);"></i></button>',t+="</div>",t+='<div id="line-'+e.LineNumber+'-Dialpad" style="display:none; margin-top:15px; margin-bottom:15px">',t+='<table cellspacing=10 cellpadding=0 style="margin-left:auto; margin-right: auto">',t+="<tr><td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '1')\"><div>1</div><span>&nbsp;</span></button></td>",t+="<td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '2')\"><div>2</div><span>ABC</span></button></td>",t+="<td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '3')\"><div>3</div><span>DEF</span></button></td></tr>",t+="<tr><td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '4')\"><div>4</div><span>GHI</span></button></td>",t+="<td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '5')\"><div>5</div><span>JKL</span></button></td>",t+="<td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '6')\"><div>6</div><span>MNO</span></button></td></tr>",t+="<tr><td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '7')\"><div>7</div><span>PQRS</span></button></td>",t+="<td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '8')\"><div>8</div><span>TUV</span></button></td>",t+="<td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '9')\"><div>9</div><span>WXYZ</span></button></td></tr>",t+="<tr><td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '*')\">*</button></td>",t+="<td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '0')\">0</button></td>",t+="<td><button class=dtmfButtons onclick=\"sendDTMF('"+e.LineNumber+"', '#')\">#</button></td></tr>",t+="</table>",t+="</div>",t+='<div id="line-'+e.LineNumber+'-Transfer" style="display:none">',t+='<div style="margin-top:10px">',t+='<span class=searchClean><input id="line-'+e.LineNumber+'-txt-FindTransferBuddy" oninput="QuickFindBuddy(this,\''+e.LineNumber+'\')" type=text autocomplete=none style="width:150px;" autocomplete=none placeholder="'+oc.search_or_enter_number+'"></span>',t+=' <button id="line-'+e.LineNumber+'-btn-blind-transfer" onclick="BlindTransfer(\''+e.LineNumber+'\')"><i class="fa fa-reply" style="transform: rotateY(180deg)"></i> '+oc.blind_transfer+"</button>",t+=' <button id="line-'+e.LineNumber+'-btn-attended-transfer" onclick="AttendedTransfer(\''+e.LineNumber+'\')"><i class="fa fa-reply-all" style="transform: rotateY(180deg)"></i> '+oc.attended_transfer+"</button>",t+=' <button id="line-'+e.LineNumber+'-btn-complete-attended-transfer" style="display:none"><i class="fa fa-reply-all" style="transform: rotateY(180deg)"></i> '+oc.complete_transfer+"</buuton>",t+=' <button id="line-'+e.LineNumber+'-btn-cancel-attended-transfer" style="display:none"><i class="fa fa-phone" style="transform: rotate(135deg);"></i> '+oc.cancel_transfer+"</buuton>",t+=' <button id="line-'+e.LineNumber+'-btn-terminate-attended-transfer" style="display:none"><i class="fa fa-phone" style="transform: rotate(135deg);"></i> '+oc.end_transfer_call+"</buuton>",t+="</div>",t+='<div id="line-'+e.LineNumber+'-transfer-status" class=callStatus style="margin-top:10px; display:none">...</div>',t+='<audio id="line-'+e.LineNumber+'-transfer-remoteAudio" style="display:none"></audio>',t+="</div>",t+='<div id="line-'+e.LineNumber+'-Conference" style="display:none">',t+='<div style="margin-top:10px">',t+='<span class=searchClean><input id="line-'+e.LineNumber+'-txt-FindConferenceBuddy" oninput="QuickFindBuddy(this,\''+e.LineNumber+'\')" type=text autocomplete=none style="width:150px;" autocomplete=none placeholder="'+oc.search_or_enter_number+'"></span>',t+=' <button id="line-'+e.LineNumber+'-btn-conference-dial" onclick="ConferenceDail(\''+e.LineNumber+'\')"><i class="fa fa-phone"></i> '+oc.call+"</button>",t+=' <button id="line-'+e.LineNumber+'-btn-cancel-conference-dial" style="display:none"><i class="fa fa-phone" style="transform: rotate(135deg);"></i> '+oc.cancel_call+"</buuton>",t+=' <button id="line-'+e.LineNumber+'-btn-join-conference-call" style="display:none"><i class="fa fa-users"></i> '+oc.join_conference_call+"</buuton>",t+=' <button id="line-'+e.LineNumber+'-btn-terminate-conference-call" style="display:none"><i class="fa fa-phone" style="transform: rotate(135deg);"></i> '+oc.end_conference_call+"</buuton>",t+="</div>",t+='<div id="line-'+e.LineNumber+'-conference-status" class=callStatus style="margin-top:10px; display:none">...</div>',t+='<audio id="line-'+e.LineNumber+'-conference-remoteAudio" style="display:none"></audio>',t+="</div>",t+='<div  id="line-'+e.LineNumber+'-monitoring" style="margin-top:10px">',t+='<span style="vertical-align: middle"><i class="fa fa-microphone"></i></span> ',t+='<span class=meterContainer title="'+oc.microphone_levels+'">',t+='<span id="line-'+e.LineNumber+'-Mic" class=meterLevel style="height:0%"></span>',t+="</span> ",t+='<span style="vertical-align: middle"><i class="fa fa-volume-up"></i></span> ',t+='<span class=meterContainer title="'+oc.speaker_levels+'">',t+='<span id="line-'+e.LineNumber+'-Speaker" class=meterLevel style="height:0%"></span>',t+="</span> ",t+='<button id="line-'+e.LineNumber+'-btn-settings" onclick="ChangeSettings(\''+e.LineNumber+'\', this)"><i class="fa fa-cogs"></i> '+oc.device_settings+"</button>",t+='<button id="line-'+e.LineNumber+'-call-stats" onclick="ShowCallStats(\''+e.LineNumber+'\', this)"><i class="fa fa-area-chart"></i> '+oc.call_stats+"</button>",t+="</div>",t+='<div id="line-'+e.LineNumber+'-AdioStats" class="audioStats cleanScroller" style="display:none">',t+='<div style="text-align:right"><button onclick="HideCallStats(\''+e.LineNumber+'\', this)"><i class="fa fa-times"></i></button></div>',t+="<fieldset class=audioStatsSet>",t+="<legend>"+oc.send_statistics+"</legend>",t+='<canvas id="line-'+e.LineNumber+'-AudioSendBitRate" class=audioGraph width=600 height=160 style="width:600px; height:160px"></canvas>',t+='<canvas id="line-'+e.LineNumber+'-AudioSendPacketRate" class=audioGraph width=600 height=160 style="width:600px; height:160px"></canvas>',t+="</fieldset>",t+="<fieldset class=audioStatsSet>",t+="<legend>"+oc.receive_statistics+"</legend>",t+='<canvas id="line-'+e.LineNumber+'-AudioReceiveBitRate" class=audioGraph width=600 height=160 style="width:600px; height:160px"></canvas>',t+='<canvas id="line-'+e.LineNumber+'-AudioReceivePacketRate" class=audioGraph width=600 height=160 style="width:600px; height:160px"></canvas>',t+='<canvas id="line-'+e.LineNumber+'-AudioReceivePacketLoss" class=audioGraph width=600 height=160 style="width:600px; height:160px"></canvas>',t+='<canvas id="line-'+e.LineNumber+'-AudioReceiveJitter" class=audioGraph width=600 height=160 style="width:600px; height:160px"></canvas>',t+='<canvas id="line-'+e.LineNumber+'-AudioReceiveLevels" class=audioGraph width=600 height=160 style="width:600px; height:160px"></canvas>',t+="</fieldset>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",t+="</td></tr>",t+='<tr><td class="streamSection streamSectionBackground" style="background-image:url(\''+Fs+"wp_1.png')\">",t+='<div id="line-'+e.LineNumber+'-CallDetails" class="chatHistory cleanScroller">',t+="</div>",t+="</td></tr>",t+="</table>",$("#rightContent").append(t)}function id(e){var t=td(e);if(null!=t&&null!=t.SipSession){var n=t.SipSession;$("#line-"+e+"-CallDetails").empty();var i=[],a=0,o=moment.utc(n.data.callstart.replace(" UTC","")),r=null;n.startTime&&(r=moment.utc(n.startTime),a=moment.duration(r.diff(o))),o=o.format("YYYY-MM-DD HH:mm:ss UTC"),r=r?r.format("YYYY-MM-DD HH:mm:ss UTC"):null,a=0!=a?a.asSeconds():0;var s="",l="";"inbound"==n.data.calldirection?s="<"+n.remoteIdentity.uri.user+"> "+n.remoteIdentity.displayName:"outbound"==n.data.calldirection&&(l=n.remoteIdentity.uri.user);var c=n.data.withvideo?"("+oc.with_video+")":"",d="inbound"==n.data.calldirection?oc.you_received_a_call_from+" "+s+" "+c:oc.you_made_a_call_to+" "+l+" "+c;if(i.push({Message:d,TimeStr:o}),r){var u="inbound"==n.data.calldirection?oc.you_answered_after+" "+a+" "+oc.seconds_plural:oc.they_answered_after+" "+a+" "+oc.seconds_plural;i.push({Message:u,TimeStr:r})}var p=n.data.transfer?n.data.transfer:[];$.each(p,(function(e,t){var n="Blind"==t.type?oc.you_started_a_blind_transfer_to+" "+t.to+". ":oc.you_started_an_attended_transfer_to+" "+t.to+". ";t.accept&&1==t.accept.complete?n+=oc.the_call_was_completed:""!=t.accept.disposition&&(n+=oc.the_call_was_not_completed+" ("+t.accept.disposition+")"),i.push({Message:n,TimeStr:t.transferTime})}));var f=n.data.mute?n.data.mute:[];$.each(f,(function(e,t){i.push({Message:"mute"==t.event?oc.you_put_the_call_on_mute:oc.you_took_the_call_off_mute,TimeStr:t.eventTime})}));var m=n.data.hold?n.data.hold:[];$.each(m,(function(e,t){i.push({Message:"hold"==t.event?oc.you_put_the_call_on_hold:oc.you_took_the_call_off_hold,TimeStr:t.eventTime})}));var v=n.data.recordings?n.data.recordings:[];$.each(v,(function(e,t){var n=oc.call_is_being_recorded;t.startTime!=t.stopTime&&(n+="("+oc.now_stopped+")"),i.push({Message:n,TimeStr:t.startTime})}));var h=n.data.confcalls?n.data.confcalls:[];$.each(h,(function(e,t){var n=oc.you_started_a_conference_call_to+" "+t.to+". ";t.accept&&1==t.accept.complete?n+=oc.the_call_was_completed:""!=t.accept.disposition&&(n+=oc.the_call_was_not_completed+" ("+t.accept.disposition+")"),i.push({Message:n,TimeStr:t.startTime})})),i.sort((function(e,t){var n=moment.utc(e.TimeStr.replace(" UTC","")),i=moment.utc(t.TimeStr.replace(" UTC",""));return n.isSameOrAfter(i,"second")?-1:1})),$.each(i,(function(t,n){var i="<table class=timelineMessage cellspacing=0 cellpadding=0><tr>";i+="<td class=timelineMessageArea>",i+='<div class=timelineMessageDate><i class="fa fa-circle timelineMessageDot"></i>'+moment.utc(n.TimeStr.replace(" UTC","")).local().format(vl)+"</div>",i+="<div class=timelineMessageText>"+n.Message+"</div>",i+="</td>",i+="</tr></table>",$("#line-"+e+"-CallDetails").prepend(i)}))}}var ad=function(e,t,n,i,a,o,r,s,l,c,d,u,p){this.type=e,this.identity=t,this.jid=d,this.CallerIDName=n||"",this.Email=c,this.Desc=l,this.ExtNo=i,this.MobileNumber=a,this.ContactNumber1=o,this.ContactNumber2=r,this.lastActivity=s,this.devState="dotOffline",this.presence="Unknown",this.missed=0,this.IsSelected=!1,this.imageObjectURL="",this.presenceText=oc.default_status,this.EnableDuringDnd=u,this.EnableSubscribe=p};function od(){return Fl.setItem(Ds+"-Buddies",JSON.stringify({TotalRows:0,DataCollection:[]})),JSON.parse(Fl.getItem(Ds+"-Buddies"))}function rd(e,t,n,i,a,o,r,s){var l=JSON.parse(Fl.getItem(Ds+"-Buddies"));null==l&&(l=od());var c=cc(),d=null,u=lc();return"extension"==e&&(l.DataCollection.push({Type:"extension",LastActivity:c,ExtensionNumber:o,MobileNumber:"",ContactNumber1:"",ContactNumber2:"",uID:u,cID:null,gID:null,jid:null,DisplayName:a,Description:"",Email:"",MemberCount:0,EnableDuringDnd:s,Subscribe:i}),ld(d=new ad("extension",u,a,o,"","","",c,"","",null,s,i),t,n,i)),"xmpp"==e&&(l.DataCollection.push({Type:"xmpp",LastActivity:c,ExtensionNumber:o,MobileNumber:"",ContactNumber1:"",ContactNumber2:"",uID:u,cID:null,gID:null,jid:r,DisplayName:a,Description:"",Email:"",MemberCount:0,EnableDuringDnd:s,Subscribe:i}),ld(d=new ad("xmpp",u,a,o,"","","",c,"","",r,s,i),t,n,i)),"contact"==e&&(l.DataCollection.push({Type:"contact",LastActivity:c,ExtensionNumber:"",MobileNumber:"",ContactNumber1:o,ContactNumber2:"",uID:null,cID:u,gID:null,jid:null,DisplayName:a,Description:"",Email:"",MemberCount:0,EnableDuringDnd:s,Subscribe:!1}),ld(d=new ad("contact",u,a,"","",o,"",c,"","",null,s,!1),t,n,!1)),"group"==e&&(l.DataCollection.push({Type:"group",LastActivity:c,ExtensionNumber:o,MobileNumber:"",ContactNumber1:"",ContactNumber2:"",uID:null,cID:null,gID:u,jid:null,DisplayName:a,Description:"",Email:"",MemberCount:0,EnableDuringDnd:!1,Subscribe:!1}),ld(d=new ad("group",u,a,o,"","","",c,"","",null,!1,!1),t,n,!1)),l.TotalRows=l.DataCollection.length,Fl.setItem(Ds+"-Buddies",JSON.stringify(l)),d}function sd(e,t){e.CallerIDName=t;var n=e.identity,i=JSON.parse(Fl.getItem(Ds+"-Buddies"));null!=i&&($.each(i.DataCollection,(function(e,i){if(i.uID==n||i.cID==n||i.gID==n)return i.DisplayName=t,!1})),Fl.setItem(Ds+"-Buddies",JSON.stringify(i))),cd()}function ld(e,t,n,i){ql.push(e),1==t&&cd(),function(e){var t='<table id="stream-'+e.identity+'" class=stream cellspacing=5 cellpadding=0>';t+='<tr><td class=streamSection style="height: 48px;">',t+='<div style="float: left; height: 48px;">',t+="<table cellpadding=0 cellspacing=0 border=0><tr><td>",t+='<button id="contact-'+e.identity+'-btn-back" onclick="CloseBuddy(\''+e.identity+'\')" class=roundButtons title="'+oc.back+'"><i class="fa fa-chevron-left"></i></button> ',t+="</td><td>",t+='<div class=contact style="cursor: unset">',"extension"==e.type||"xmpp"==e.type?t+='<div id="contact-'+e.identity+'-picture-main" class=buddyIcon style="background-image: url(\''+wd(e.identity)+"')\"></div>":"contact"==e.type?t+='<div id="contact-'+e.identity+'-picture-main" class=buddyIcon style="background-image: url(\''+wd(e.identity,"contact")+"')\"></div>":"group"==e.type&&(t+='<div id="contact-'+e.identity+'-picture-main" class=buddyIcon style="background-image: url(\''+wd(e.identity,"group")+"')\"></div>");"extension"==e.type||"xmpp"==e.type?(t+='<div class=contactNameText style="margin-right: 0px;">',t+='<span id="contact-'+e.identity+'-devstate-main" class="'+e.devState+'"></span>',t+=" "+e.ExtNo+" - "+e.CallerIDName,t+="</div>"):"contact"==e.type?t+='<div class=contactNameText style="margin-right: 0px;"><i class="fa fa-address-card"></i> '+e.CallerIDName+"</div>":"group"==e.type&&(t+='<div class=contactNameText style="margin-right: 0px;"><i class="fa fa-users"></i> '+e.CallerIDName+"</div>");if("extension"==e.type){var n=e.presence;"Unknown"==n&&(n=oc.state_unknown),"Not online"==n&&(n=oc.state_not_online),"Ready"==n&&(n=oc.state_ready),"On the phone"==n&&(n=oc.state_on_the_phone),"Ringing"==n&&(n=oc.state_ringing),"On hold"==n&&(n=oc.state_on_hold),"Unavailable"==n&&(n=oc.state_unavailable),t+='<div id="contact-'+e.identity+'-presence-main" class=presenceText>'+n+"</div>"}else"xmpp"==e.type?(t+='<div id="contact-'+e.identity+'-presence-main" class=presenceText><i class="fa fa-comments"></i> '+e.presenceText+"</div>",t+='<div id="contact-'+e.identity+'-chatstate-main" class=presenceText style="display:none"><i class="fa fa-keyboard-o"></i> '+e.CallerIDName+" "+oc.is_typing+"...</div>"):t+='<div id="contact-'+e.identity+'-presence-main" class=presenceText>'+e.Desc+"</div>";t+="</div>",t+="</td></tr></table>",t+="</div>",t+='<div style="float:right; height: 48px; line-height: 48px;">',t+='<button id="contact-'+e.identity+'-btn-audioCall" onclick="AudioCallMenu(\''+e.identity+'\', this)" class=roundButtons title="'+oc.audio_call+'"><i class="fa fa-phone"></i></button> ',"extension"!=e.type&&"xmpp"!=e.type||!Ll||(t+='<button id="contact-'+e.identity+"-btn-videoCall\" onclick=\"DialByLine('video', '"+e.identity+"', '"+e.ExtNo+'\');" class=roundButtons title="'+oc.video_call+'"><i class="fa fa-video-camera"></i></button> ');t+='<button id="contact-'+e.identity+'-btn-edit" onclick="EditBuddyWindow(\''+e.identity+'\')" class=roundButtons title="'+oc.edit+'"><i class="fa fa-pencil"></i></button> ',t+='<button id="contact-'+e.identity+'-btn-search" onclick="FindSomething(\''+e.identity+'\')" class=roundButtons title="'+oc.find_something+'"><i class="fa fa-search"></i></button> ',t+='<button id="contact-'+e.identity+'-btn-remove" onclick="RemoveBuddy(\''+e.identity+'\')" class=roundButtons title="'+oc.remove+'"><i class="fa fa-trash"></i></button> ',t+="</div>",t+='<div style="clear:both; height:0px"></div>',t+='<div id="contact-'+e.identity+'-search" style="margin-top:6px; display:none">',t+='<span class=searchClean style="width:100%"><input type=text style="width:90%" autocomplete=none oninput=SearchStream(this,\''+e.identity+"') placeholder=\""+oc.find_something_in_the_message_stream+'"></span>',t+="</div>",t+="</td></tr>",t+='<tr><td class="streamSection streamSectionBackground" style="background-image:url(\''+Fs+"wp_1.png')\">",t+='<div id="contact-'+e.identity+'-ChatHistory" class="chatHistory cleanScroller" ondragenter="setupDragDrop(event, \''+e.identity+"')\" ondragover=\"setupDragDrop(event, '"+e.identity+"')\" ondragleave=\"cancelDragDrop(event, '"+e.identity+"')\" ondrop=\"onFileDragDrop(event, '"+e.identity+"')\">",t+="</div>",t+="</td></tr>","extension"!=e.type&&"xmpp"!=e.type&&"group"!=e.type||!gl||(t+='<tr><td  class=streamSection style="height:80px">',t+='<div id="contact-'+e.identity+'-imagePastePreview" class=sendImagePreview style="display:none" tabindex=0></div>',t+='<div id="contact-'+e.identity+'-msgPreview" class=sendMessagePreview style="display:none">',t+="<table class=sendMessagePreviewContainer cellpadding=0 cellspacing=0><tr>",t+='<td style="text-align:right"><div id="contact-'+e.identity+'-msgPreviewhtml" class="sendMessagePreviewHtml cleanScroller"></div></td>',t+='<td style="width:40px"><button onclick="SendChatMessage(\''+e.identity+'\')" class="roundButtons" title="'+oc.send+'"><i class="fa fa-paper-plane"></i></button></td>',t+="</tr></table>",t+="</div>",t+='<div id="contact-'+e.identity+'-fileShare" style="display:none">',t+='<input type=file multiple onchange="console.log(this)" />',t+="</div>",t+='<div id="contact-'+e.identity+'-audio-recording" style="display:none"></div>',t+='<div id="contact-'+e.identity+'-video-recording" style="display:none"></div>',t+='<div id="contact-'+e.identity+'-dictate-message" style="display:none"></div>',t+='<div id="contact-'+e.identity+'-emoji-menu" style="display:none"></div>',t+='<div id="contact-'+e.identity+'-chatstate" style="display:none"><i class="fa fa-keyboard-o"></i> '+e.CallerIDName+" "+oc.is_typing+"...</div>",t+="<table class=sendMessageContainer cellpadding=0 cellspacing=0><tr>",t+='<td><textarea id="contact-'+e.identity+'-ChatMessage" class="chatMessage cleanScroller" placeholder="'+oc.type_your_message_here+'" onkeydown="chatOnkeydown(event, this,\''+e.identity+"')\" onkeyup=\"chatOnkeyup(event, this,'"+e.identity+"')\" oninput=\"chatOnkeyup(event, this,'"+e.identity+"')\" onpaste=\"chatOnbeforepaste(event, this,'"+e.identity+"')\"></textarea></td>",t+='<td style="width:40px"><button onclick="AddMenu(this, \''+e.identity+'\')" class=roundButtons title="'+oc.menu+'"><i class="fa fa-ellipsis-h"></i></button></td>',t+="</tr></table>",t+="</td></tr>");t+="</table>",$("#rightContent").append(t)}(e),1==i&&Ec(e),1==n&&dd(e.identity)}function cd(){var e=$("#txtFindBuddy").val();$("#myContacts").empty();for(var t=0,n=0;n<ac.length;n++){var i=ac[n].IsSelected?"buddySelected":"buddy";null!=ac[n].SipSession&&(i=ac[n].SipSession.local_hold?"buddyActiveCallHollding":"buddyActiveCall");var a='<div id="line-'+ac[n].LineNumber+'" class='+i+" onclick=\"SelectLine('"+ac[n].LineNumber+"')\">";a+="<div class=lineIcon>"+(n+1)+"</div>",a+='<div class=contactNameText><i class="fa fa-phone"></i> '+oc.line+" "+(n+1)+"</div>",a+='<div id="Line-'+ac[n].ExtNo+'-datetime" class=contactDate>&nbsp;</div>',a+="<div class=presenceText>"+ac[n].DisplayName+" <"+ac[n].DisplayNumber+"></div>",a+="</div>",ac[n].SipSession&&1!=ac[n].SipSession.data.earlyReject&&($("#myContacts").append(a),t++)}t>0&&$("#myContacts").append('<hr style="height:1px; background-color:#696969">'),ql.sort((function(e,t){var n=moment.utc(e.lastActivity.replace(" UTC","")),i=moment.utc(t.lastActivity.replace(" UTC",""));return n.isSameOrAfter(i,"second")?-1:1}));for(var o=0;o<ql.length;o++){var r=ql[o];if(e&&e.length>=1){var s=!1;if(r.CallerIDName.toLowerCase().indexOf(e.toLowerCase())>-1&&(s=!0),r.ExtNo.toLowerCase().indexOf(e.toLowerCase())>-1&&(s=!0),r.Desc.toLowerCase().indexOf(e.toLowerCase())>-1&&(s=!0),!s)continue}var l=moment.utc(),c=moment.utc(r.lastActivity.replace(" UTC","")),d="";d=c.isSame(l,"day")?c.local().format(vl):c.local().format(ml);i=r.IsSelected?"buddySelected":"buddy";if("extension"==r.type){"Unknown"==(u=r.presence)&&(u=oc.state_unknown),"Not online"==u&&(u=oc.state_not_online),"Ready"==u&&(u=oc.state_ready),"On the phone"==u&&(u=oc.state_on_the_phone),"Ringing"==u&&(u=oc.state_ringing),"On hold"==u&&(u=oc.state_on_hold),"Unavailable"==u&&(u=oc.state_unavailable),1!=r.EnableSubscribe&&(u=r.Desc);a='<div id="contact-'+r.identity+'" class='+i+" onclick=\"SelectBuddy('"+r.identity+"', 'extension')\">";r.missed&&r.missed>0?a+='<span id="contact-'+r.identity+'-missed" class=missedNotifyer>'+r.missed+"</span>":a+='<span id="contact-'+r.identity+'-missed" class=missedNotifyer style="display:none">'+r.missed+"</span>",a+="<div class=buddyIcon style=\"background-image: url('"+wd(r.identity,r.type)+"')\"></div>",a+="<div class=contactNameText>",a+='<span id="contact-'+r.identity+'-devstate" class="'+r.devState+'"></span>',a+=" "+r.ExtNo+" - "+r.CallerIDName,a+="</div>",a+='<div id="contact-'+r.identity+'-datetime" class=contactDate>'+d+"</div>",a+='<div id="contact-'+r.identity+'-presence" class=presenceText>'+u+"</div>",a+="</div>",$("#myContacts").append(a)}else if("xmpp"==r.type){var u=r.presenceText;a='<div id="contact-'+r.identity+'" class='+i+" onclick=\"SelectBuddy('"+r.identity+"', 'extension')\">";r.missed&&r.missed>0?a+='<span id="contact-'+r.identity+'-missed" class=missedNotifyer>'+r.missed+"</span>":a+='<span id="contact-'+r.identity+'-missed" class=missedNotifyer style="display:none">'+r.missed+"</span>",a+="<div class=buddyIcon style=\"background-image: url('"+wd(r.identity,r.type)+"')\"></div>",a+="<div class=contactNameText>",a+='<span id="contact-'+r.identity+'-devstate" class="'+r.devState+'"></span>',a+=" "+r.ExtNo+" - "+r.CallerIDName,a+="</div>",a+='<div id="contact-'+r.identity+'-datetime" class=contactDate>'+d+"</div>",a+='<div id="contact-'+r.identity+'-presence" class=presenceText><i class="fa fa-comments"></i> '+u+"</div>",a+='<div id="contact-'+r.identity+'-chatstate-menu" class=presenceText style="display:none"><i class="fa fa-keyboard-o"></i> '+r.CallerIDName+" "+oc.is_typing+"...</div>",a+="</div>",$("#myContacts").append(a)}else if("contact"==r.type){a='<div id="contact-'+r.identity+'" class='+i+" onclick=\"SelectBuddy('"+r.identity+"', 'contact')\">";r.missed&&r.missed>0?a+='<span id="contact-'+r.identity+'-missed" class=missedNotifyer>'+r.missed+"</span>":a+='<span id="contact-'+r.identity+'-missed" class=missedNotifyer style="display:none">'+r.missed+"</span>",a+="<div class=buddyIcon style=\"background-image: url('"+wd(r.identity,r.type)+"')\"></div>",a+='<div class=contactNameText><i class="fa fa-address-card"></i> '+r.CallerIDName+"</div>",a+='<div id="contact-'+r.identity+'-datetime" class=contactDate>'+d+"</div>",a+="<div class=presenceText>"+r.Desc+"</div>",a+="</div>",$("#myContacts").append(a)}else if("group"==r.type){a='<div id="contact-'+r.identity+'" class='+i+" onclick=\"SelectBuddy('"+r.identity+"', 'group')\">";r.missed&&r.missed>0?a+='<span id="contact-'+r.identity+'-missed" class=missedNotifyer>'+r.missed+"</span>":a+='<span id="contact-'+r.identity+'-missed" class=missedNotifyer style="display:none">'+r.missed+"</span>",a+="<div class=buddyIcon style=\"background-image: url('"+wd(r.identity,r.type)+"')\"></div>",a+='<div class=contactNameText><i class="fa fa-users"></i> '+r.CallerIDName+"</div>",a+='<div id="contact-'+r.identity+'-datetime" class=contactDate>'+d+"</div>",a+="<div class=presenceText>"+r.Desc+"</div>",a+="</div>",$("#myContacts").append(a)}}for(o=0;o<ql.length;o++)if(ql[o].IsSelected){dd(ql[o].identity,ql[o].type);break}}function dd(e){var t=fd(e);if(null!=t){var n="";"extension"==t.type?("Unknown"==(n+=t.presence)&&(n=oc.state_unknown),"Not online"==n&&(n=oc.state_not_online),"Ready"==n&&(n=oc.state_ready),"On the phone"==n&&(n=oc.state_on_the_phone),"Ringing"==n&&(n=oc.state_ringing),"On hold"==n&&(n=oc.state_on_hold),"Unavailable"==n&&(n=oc.state_unavailable),1!=t.EnableSubscribe&&(n=t.Desc)):"xmpp"==t.type?(n+='<i class="fa fa-comments"></i> ',n+=t.presenceText):("contact"==t.type||"group"==t.type)&&(n+=t.Desc),$("#contact-"+t.identity+"-presence-main").html(n),$("#contact-"+t.identity+"-picture-main").css("background-image",$("#contact-"+t.identity+"-picture-main").css("background-image"));for(var i=0;i<ql.length;i++)if(1==ql[i].IsSelected&&ql[i].identity==e)return;console.log("Selecting Buddy: "+t.CallerIDName),Wl=t,$(".streamSelected").each((function(){$(this).prop("class","stream")})),$("#stream-"+e).prop("class","streamSelected");for(var a=0;a<ac.length;a++){var o="buddy";null!=ac[a].SipSession&&(o=ac[a].SipSession.local_hold?"buddyActiveCallHollding":"buddyActiveCall"),$("#line-"+ac[a].LineNumber).prop("class",o),ac[a].IsSelected=!1}!function(e){var t=fd(e);if(null!=t){t.missed=0;var n=JSON.parse(Fl.getItem(Ds+"-Buddies"));null!=n&&($.each(n.DataCollection,(function(t,n){if(n.uID==e||n.cID==e||n.gID==e)return n.missed=0,!1})),Fl.setItem(Ds+"-Buddies",JSON.stringify(n))),$("#contact-"+e+"-missed").text(t.missed),$("#contact-"+e+"-missed").hide(400)}}(e);for(i=0;i<ql.length;i++){o=ql[i].identity==e?"buddySelected":"buddy";$("#contact-"+ql[i].identity).prop("class",o),$("#contact-"+ql[i].identity+"-ChatHistory").empty(),ql[i].IsSelected=ql[i].identity==e}wc(),vd(t);try{$("#contact-"+e).get(0).scrollIntoViewIfNeeded()}catch(e){}Fl.setItem("SelectedBuddy",e)}}function ud(e){for(var t=0;t<ql.length;t++)if(ql[t].ExtNo==e||ql[t].MobileNumber==e||ql[t].ContactNumber1==e||ql[t].ContactNumber2==e)return ql[t];return null}function pd(e){for(var t=0;t<ql.length;t++)if(ql[t].ExtNo==e)return ql[t];return null}function fd(e){for(var t=0;t<ql.length;t++)if(ql[t].identity==e)return ql[t];return null}function md(e){for(var t=0;t<ql.length;t++)if(ql[t].jid==e)return ql[t];return console.warn("Buddy not found on jid: "+e),null}function vd(e,t){$("#contact-"+e.identity+"-ChatHistory").empty();var n=JSON.parse(Fl.getItem(e.identity+"-stream"));null!=n&&null!=n.DataCollection&&(n.DataCollection.sort((function(e,t){var n=moment.utc(e.ItemDate.replace(" UTC","")),i=moment.utc(t.ItemDate.replace(" UTC",""));return n.isSameOrAfter(i,"second")?-1:1})),t&&""!=t&&(console.log("Rows without filter ("+t+"): ",n.DataCollection.length),n.DataCollection=n.DataCollection.filter((function(e){if(-1!=t.indexOf("date: ")){var n=bc(t,"date");if(""!=n&&-1!=e.ItemDate.indexOf(n))return!0}if(e.MessageData&&e.MessageData.length>1){if(-1!=e.MessageData.toLowerCase().indexOf(t.toLowerCase()))return!0;if(-1!=t.toLowerCase().indexOf(e.MessageData.toLowerCase()))return!0}if("MSG"==e.ItemType);else if("CDR"==e.ItemType){if(e.Tags&&e.Tags.length>1){var i=bc(t,"tag");if(""!=i&&1==e.Tags.some((function(e){return-1!=i.toLowerCase().indexOf(e.value.toLowerCase())||-1!=e.value.toLowerCase().indexOf(i.toLowerCase())})))return!0}}else"FILE"==e.ItemType||e.ItemType;return!1})),console.log("Rows After Filter: ",n.DataCollection.length)),n.DataCollection.length>ll&&(console.log("Rows:",n.DataCollection.length," (will be trimed to "+ll+")"),n.DataCollection.splice(ll)),$.each(n.DataCollection,(function(t,n){var i=moment.utc(n.ItemDate.replace(" UTC","")).isSame(moment.utc(),"day"),a=moment.utc(n.ItemDate.replace(" UTC","")).local().calendar(null,{sameElse:ml});if(i&&(a=moment.utc(n.ItemDate.replace(" UTC","")).local().format(vl)),"MSG"==n.ItemType){var o='<i class="fa fa-question-circle-o SendingMessage"></i>';1==n.Sent&&(o='<i class="fa fa-check SentMessage"></i>'),0==n.Sent&&(o='<i class="fa fa-exclamation-circle FailedMessage"></i>'),n.Delivered&&1==n.Delivered.state&&(o+=' <i class="fa fa-check DeliveredMessage"></i>'),n.Displayed&&1==n.Displayed.state&&(o='<i class="fa fa-check CompletedMessage"></i>');var r=(c=yd(n.MessageData)).length>1e3;if(n.SrcUserId==Ds){var s="<table class=ourChatMessage cellspacing=0 cellpadding=0><tr>";s+='<td class=ourChatMessageText onmouseenter="ShowChatMenu(this)" onmouseleave="HideChatMenu(this)">',s+="<span onclick=\"ShowMessgeMenu(this,'MSG','"+n.ItemId+"', '"+e.identity+'\')" class=chatMessageDropdown style="display:none"><i class="fa fa-chevron-down"></i></span>',s+="<div id=msg-text-"+n.ItemId+' class=messageText style="'+(r?"max-height:190px; overflow:hidden":"")+'">'+c+"</div>",r&&(s+="<div id=msg-readmore-"+n.ItemId+" class=messageReadMore><span onclick=\"ExpandMessage(this,'"+n.ItemId+"', '"+e.identity+"')\">"+oc.read_more+"</span></div>"),s+="<div class=messageDate>"+a+" "+o+"</div>",s+="</td>",s+="</tr></table>"}else{s="<table class=theirChatMessage cellspacing=0 cellpadding=0><tr>";if(s+='<td class=theirChatMessageText onmouseenter="ShowChatMenu(this)" onmouseleave="HideChatMenu(this)">',s+="<span onclick=\"ShowMessgeMenu(this,'MSG','"+n.ItemId+"', '"+e.identity+'\')" class=chatMessageDropdown style="display:none"><i class="fa fa-chevron-down"></i></span>',"group"==e.type&&(s+="<div class=messageDate></div>"),s+="<div id=msg-text-"+n.ItemId+' class=messageText style="'+(r?"max-height:190px; overflow:hidden":"")+'">'+c+"</div>",r&&(s+="<div id=msg-readmore-"+n.ItemId+" class=messageReadMore><span onclick=\"ExpandMessage(this,'"+n.ItemId+"', '"+e.identity+"')\">"+oc.read_more+"</span></div>"),s+="<div class=messageDate>"+a+"</div>",s+="</td>",s+="</tr></table>","xmpp"==e.type)$("#stream-"+e.identity).is(":visible")&&!n.Read&&(console.log("Buddy stream is now visible, marking XMPP message("+n.ItemId+") as read"),jc(e,n.ItemId),Md(e,n.ItemId))}$("#contact-"+e.identity+"-ChatHistory").prepend(s)}else if("CDR"==n.ItemType){var l=n.Billsec>0?"green":"red",c="",d="<span id=cdr-flagged-"+n.CdrId+' style="'+(n.Flagged?"":"display:none")+'">';d+='<i class="fa fa-flag FlagCall"></i> ',d+="</span>";var u="";n.MessageData&&(u=n.MessageData),n.Tags||(n.Tags=[]);var p="<ul id=cdr-tags-"+n.CdrId+' class=tags style="'+(n.Tags&&n.Tags.length>0?"":"display:none")+'">';$.each(n.Tags,(function(t,i){p+="<li onclick=\"TagClick(this, '"+n.CdrId+"', '"+e.identity+"')\">"+i.value+"</li>"})),p+="<li class=tagText><input maxlength=24 type=text onkeypress=\"TagKeyPress(event, this, '"+n.CdrId+"', '"+e.identity+'\')" onfocus="TagFocus(this)"></li>',p+="</ul>",c+='<i class="fa '+(n.WithVideo?"fa-video-camera":"fa-phone")+'" style="color:'+l+'"></i>';var f=n.WithVideo?oc.a_video_call:oc.an_audio_call,m="";if(n.Recordings&&n.Recordings.length>=1&&$.each(n.Recordings,(function(t,i){if(i.uID){var a=moment.utc(i.startTime.replace(" UTC","")).local(),o=moment.utc(i.stopTime.replace(" UTC","")).local(),r=moment.duration(o.diff(a));if(m+="<div class=callRecording>",n.WithVideo)if(i.Poster){i.Poster.width,i.Poster.height;var s=i.Poster.posterBase64;m+='<div><IMG src="'+s+'"><button onclick="PlayVideoCallRecording(this, \''+n.CdrId+"', '"+i.uID+'\')" class=videoPoster><i class="fa fa-play"></i></button></div>'}else m+="<div><button onclick=\"PlayVideoCallRecording(this, '"+n.CdrId+"', '"+i.uID+"', '"+e.identity+'\')"><i class="fa fa-video-camera"></i></button></div>';else m+="<div><button onclick=\"PlayAudioCallRecording(this, '"+n.CdrId+"', '"+i.uID+"', '"+e.identity+'\')"><i class="fa fa-play"></i></button></div>';m+="<div>"+oc.started+": "+a.format(vl)+' <i class="fa fa-long-arrow-right"></i> '+oc.stopped+": "+o.format(vl)+"</div>",m+="<div>"+oc.recording_duration+": "+hc(r.asSeconds())+"</div>",m+="<div>",m+='<span id="cdr-video-meta-width-'+n.CdrId+"-"+i.uID+'"></span>',m+='<span id="cdr-video-meta-height-'+n.CdrId+"-"+i.uID+'"></span>',m+='<span id="cdr-media-meta-size-'+n.CdrId+"-"+i.uID+'"></span>',m+='<span id="cdr-media-meta-codec-'+n.CdrId+"-"+i.uID+'"></span>',m+="</div>",m+="</div>"}})),n.SrcUserId==Ds){"0"==n.Billsec?c+=" "+oc.you_tried_to_make+" "+f+" ("+n.ReasonText+").":c+=" "+oc.you_made+" "+f+", "+oc.and_spoke_for+" "+vc(n.Billsec)+".";s="<table class=ourChatMessage cellspacing=0 cellpadding=0><tr>";s+='<td style="padding-right:4px;">'+d+"</td>",s+='<td class=ourChatMessageText onmouseenter="ShowChatMenu(this)" onmouseleave="HideChatMenu(this)">',s+="<span onClick=\"ShowMessgeMenu(this,'CDR','"+n.CdrId+"', '"+e.identity+'\')" class=chatMessageDropdown style="display:none"><i class="fa fa-chevron-down"></i></span>',s+="<div>"+c+"</div>",s+="<div>"+p+"</div>",s+="<div id=cdr-comment-"+n.CdrId+" class=cdrComment>"+u+"</div>",s+="<div class=callRecordings>"+m+"</div>",s+="<div class=messageDate>"+a+"</div>",s+="</td>",s+="</tr></table>"}else{"0"==n.Billsec?c+=" "+oc.you_missed_a_call+" ("+n.ReasonText+").":c+=" "+oc.you_recieved+" "+f+", "+oc.and_spoke_for+" "+vc(n.Billsec)+".";s="<table class=theirChatMessage cellspacing=0 cellpadding=0><tr>";s+='<td class=theirChatMessageText onmouseenter="ShowChatMenu(this)" onmouseleave="HideChatMenu(this)">',s+="<span onClick=\"ShowMessgeMenu(this,'CDR','"+n.CdrId+"', '"+e.identity+'\')" class=chatMessageDropdown style="display:none"><i class="fa fa-chevron-down"></i></span>',s+='<div style="text-align:left">'+c+"</div>",s+="<div>"+p+"</div>",s+="<div id=cdr-comment-"+n.CdrId+" class=cdrComment>"+u+"</div>",s+="<div class=callRecordings>"+m+"</div>",s+="<div class=messageDate> "+a+"</div>",s+="</td>",s+='<td style="padding-left:4px">'+d+"</td>",s+="</tr></table>"}$("#contact-"+e.identity+"-ChatHistory").prepend(s)}else"FILE"==n.ItemType||n.ItemType})),Vc(e.identity),window.setTimeout((function(){Vc(e.identity)}),300))}function hd(e){$("#line-"+e+"-ActiveCall").prop("class","FullScreenVideo"),$("#line-"+e+"-VideoCall").css("height","calc(100% - 100px)"),$("#line-"+e+"-VideoCall").css("margin-top","0px"),$("#line-"+e+"-preview-container").prop("class","PreviewContainer PreviewContainer_FS"),$("#line-"+e+"-stage-container").prop("class","StageContainer StageContainer_FS"),$("#line-"+e+"-restore").show(),$("#line-"+e+"-expand").hide(),$("#line-"+e+"-monitoring").hide()}function gd(e){$("#line-"+e+"-ActiveCall").prop("class",""),$("#line-"+e+"-VideoCall").css("height",""),$("#line-"+e+"-VideoCall").css("margin-top","10px"),$("#line-"+e+"-preview-container").prop("class","PreviewContainer"),$("#line-"+e+"-stage-container").prop("class","StageContainer"),$("#line-"+e+"-restore").hide(),$("#line-"+e+"-expand").show(),$("#line-"+e+"-monitoring").show()}function bd(){Qc(),$("#myContacts").hide(),$("#actionArea").empty();var e='<div style="text-align:right"><button onclick="ShowContacts()"><i class="fa fa-close"></i></button></div>';e+="<div border=0 class=UiSideField>",e+='<div class=UiTextHeading onclick="ToggleHeading(this,\'Configure_Extension_Html\')"><i class="fa fa-user-circle-o UiTextHeadingIcon" style="background-color:#a93a3a"></i> '+oc.account+"</div>";var t='<div id=Configure_Extension_Html style="display:none">';t+="<div class=UiText>"+oc.asterisk_server_address+":</div>",t+="<div><input id=Configure_Account_wssServer class=UiInputText type=text placeholder='"+oc.eg_asterisk_server_address+"' value='"+dc("wssServer","")+"'></div>",t+="<div class=UiText>"+oc.websocket_port+":</div>",t+="<div><input id=Configure_Account_WebSocketPort class=UiInputText type=text placeholder='"+oc.eg_websocket_port+"' value='"+dc("WebSocketPort","")+"'></div>",t+="<div class=UiText>"+oc.websocket_path+":</div>",t+="<div><input id=Configure_Account_ServerPath class=UiInputText type=text placeholder='"+oc.eg_websocket_path+"' value='"+dc("ServerPath","")+"'></div>",t+="<div class=UiText>"+oc.internal_subscribe_extension+":</div>",t+="<div><input id=Configure_Account_profileUser class=UiInputText type=text placeholder='"+oc.eg_internal_subscribe_extension+"' value='"+dc("profileUser","")+"'></div>",t+="<div class=UiText>"+oc.full_name+":</div>",t+="<div><input id=Configure_Account_profileName class=UiInputText type=text placeholder='"+oc.eg_full_name+"' value='"+dc("profileName","")+"'></div>",t+="<div class=UiText>"+oc.sip_username+":</div>",t+="<div><input id=Configure_Account_SipUsername class=UiInputText type=text placeholder='"+oc.eg_sip_username+"' value='"+dc("SipUsername","")+"'></div>",t+="<div class=UiText>"+oc.sip_password+":</div>",t+="<div><input id=Configure_Account_SipPassword class=UiInputText type=password placeholder='"+oc.eg_sip_password+"' value='"+dc("SipPassword","")+"'></div>",t+="<div class=UiText>"+oc.chat_engine+":</div>",t+='<ul style="list-style-type:none">',t+="<li><input type=radio name=chatEngine id=chat_type_sip "+("XMPP"==Ol?"":"checked")+"><label for=chat_type_sip>SIP</label>",t+="<li><input type=radio name=chatEngine id=chat_type_xmpp "+("XMPP"==Ol?"checked":"")+"><label for=chat_type_xmpp>XMPP</label>",t+="</ul>",t+='<div id=RowChatEngine_xmpp style="display:'+("XMPP"==Ol?"unset":"none")+'">',t+="<div class=UiText>XMPP "+oc.xmpp_domain+":</div>",t+="<div><input id=Configure_Account_xmpp_domain class=UiInputText type=text placeholder='"+oc.eg_xmpp_domain+"' value='"+dc("XmppDomain","")+"'></div>",t+="<div class=UiText>XMPP "+oc.server_address+":</div>",t+="<div><input id=Configure_Account_xmpp_address class=UiInputText type=text placeholder='"+oc.eg_xmpp_server_address+"' value='"+dc("XmppServer","")+"'></div>",t+="<div class=UiText>XMPP "+oc.websocket_port+":</div>",t+="<div><input id=Configure_Account_xmpp_port class=UiInputText type=text placeholder='"+oc.eg_websocket_port+"' value='"+dc("XmppWebsocketPort","")+"'></div>",t+="<div class=UiText>XMPP "+oc.websocket_path+":</div>",t+="<div><input id=Configure_Account_xmpp_path class=UiInputText type=text placeholder='"+oc.eg_websocket_path+"' value='"+dc("XmppWebsocketPath","")+"'></div>",t+="</div>",t+="</div>",1==Al&&(e+=t),e+='<div class=UiTextHeading onclick="ToggleHeading(this,\'Audio_Video_Html\')"><i class="fa fa fa-video-camera UiTextHeadingIcon" style="background-color:#208e3c"></i> '+oc.audio_video+"</div>";var n='<div id=Audio_Video_Html style="display:none">';n+="<div class=UiText>"+oc.speaker+":</div>",n+='<div style="text-align:center"><select id=playbackSrc style="width:100%"></select></div>',n+="<div class=Settings_VolumeOutput_Container><div id=Settings_SpeakerOutput class=Settings_VolumeOutput></div></div>",n+='<div><button class=on_white id=preview_output_play><i class="fa fa-play"></i></button></div>',n+="<div id=RingDeviceSection>",n+="<div class=UiText>"+oc.ring_device+":</div>",n+='<div style="text-align:center"><select id=ringDevice style="width:100%"></select></div>',n+="<div class=Settings_VolumeOutput_Container><div id=Settings_RingerOutput class=Settings_VolumeOutput></div></div>",n+='<div><button class=on_white id=preview_ringer_play><i class="fa fa-play"></i></button></div>',n+="</div>",n+="<div class=UiText>"+oc.microphone+":</div>",n+='<div style="text-align:center"><select id=microphoneSrc style="width:100%"></select></div>',n+="<div class=Settings_VolumeOutput_Container><div id=Settings_MicrophoneOutput class=Settings_VolumeOutput></div></div>",n+="<div><input type=checkbox id=Settings_AutoGainControl><label for=Settings_AutoGainControl> "+oc.auto_gain_control+"<label></div>",n+="<div><input type=checkbox id=Settings_EchoCancellation><label for=Settings_EchoCancellation> "+oc.echo_cancellation+"<label></div>",n+="<div><input type=checkbox id=Settings_NoiseSuppression><label for=Settings_NoiseSuppression> "+oc.noise_suppression+"<label></div>",n+="<div class=UiText>"+oc.camera+":</div>",n+='<div style="text-align:center"><select id=previewVideoSrc style="width:100%"></select></div>',n+="<div class=UiText>"+oc.frame_rate+":</div>",n+="<div class=pill-nav>",n+='<input name=Settings_FrameRate id=r40 type=radio value="2"><label class=radio_pill for=r40>2</label>',n+='<input name=Settings_FrameRate id=r41 type=radio value="5"><label class=radio_pill for=r41>5</label>',n+='<input name=Settings_FrameRate id=r42 type=radio value="10"><label class=radio_pill for=r42>10</label>',n+='<input name=Settings_FrameRate id=r43 type=radio value="15"><label class=radio_pill for=r43>15</label>',n+='<input name=Settings_FrameRate id=r44 type=radio value="20"><label class=radio_pill for=r44>20</label>',n+='<input name=Settings_FrameRate id=r45 type=radio value="25"><label class=radio_pill for=r45>25</label>',n+='<input name=Settings_FrameRate id=r46 type=radio value="30"><label class=radio_pill for=r46>30</label>',n+='<input name=Settings_FrameRate id=r47 type=radio value=""><label class=radio_pill for=r47><i class="fa fa-trash"></i></label>',n+="</div>",n+="<div class=UiText>"+oc.quality+":</div>",n+="<div class=pill-nav>",n+='<input name=Settings_Quality id=r30 type=radio value="160"><label class=radio_pill for=r30><i class="fa fa-video-camera" style="transform: scale(0.4)"></i> HQVGA</label>',n+='<input name=Settings_Quality id=r31 type=radio value="240"><label class=radio_pill for=r31><i class="fa fa-video-camera" style="transform: scale(0.6)"></i> QVGA</label>',n+='<input name=Settings_Quality id=r32 type=radio value="480"><label class=radio_pill for=r32><i class="fa fa-video-camera" style="transform: scale(0.8)"></i> VGA</label>',n+='<input name=Settings_Quality id=r33 type=radio value="720"><label class=radio_pill for=r33><i class="fa fa-video-camera" style="transform: scale(1)"></i> HD</label>',n+='<input name=Settings_Quality id=r34 type=radio value=""><label class=radio_pill for=r34><i class="fa fa-trash"></i></label>',n+="</div>",n+="<div class=UiText>"+oc.image_orientation+":</div>",n+="<div class=pill-nav>",n+='<input name=Settings_Oriteation id=r20 type=radio value="rotateY(0deg)"><label class=radio_pill for=r20><i class="fa fa-address-card" style="transform: rotateY(0deg)"></i> Normal</label>',n+='<input name=Settings_Oriteation id=r21 type=radio value="rotateY(180deg)"><label class=radio_pill for=r21><i class="fa fa-address-card" style="transform: rotateY(180deg)"></i> Mirror</label>',n+="</div>",n+="<div class=UiText>"+oc.aspect_ratio+":</div>",n+="<div class=pill-nav>",n+='<input name=Settings_AspectRatio id=r10 type=radio value="1"><label class=radio_pill for=r10><i class="fa fa-square-o" style="transform: scaleX(1); margin-left: 7px; margin-right: 7px"></i> 1:1</label>',n+='<input name=Settings_AspectRatio id=r11 type=radio value="1.33"><label class=radio_pill for=r11><i class="fa fa-square-o" style="transform: scaleX(1.33); margin-left: 5px; margin-right: 5px;"></i> 4:3</label>',n+='<input name=Settings_AspectRatio id=r12 type=radio value="1.77"><label class=radio_pill for=r12><i class="fa fa-square-o" style="transform: scaleX(1.77); margin-right: 3px;"></i> 16:9</label>',n+='<input name=Settings_AspectRatio id=r13 type=radio value=""><label class=radio_pill for=r13><i class="fa fa-trash"></i></label>',n+="</div>",n+="<div class=UiText>"+oc.preview+":</div>",n+='<div style="text-align:center; margin-top:10px"><video id=local-video-preview class=previewVideo></video></div>',n+="</div>",1==Nl&&(e+=n),e+='<div class=UiTextHeading onclick="ToggleHeading(this,\'Appearance_Html\')"><i class="fa fa-pencil UiTextHeadingIcon" style="background-color:#416493"></i> '+oc.appearance+"</div>";var i='<div id=Appearance_Html style="display:none">';i+='<div id=ImageCanvas style="width:150px; height:150px"></div>',i+='<div style="margin-top:50px;"><input id=fileUploader type=file></div>',i+='<div style="margin-top:10px"></div>';var a=dc("profileVcard",null);null!=a&&(a=JSON.parse(a)),i+="<div class=UiText>"+oc.title_description+":</div>",i+="<div><input id=Configure_Profile_TitleDesc class=UiInputText type=text placeholder='"+oc.eg_general_manager+"' value='"+(null!=a?a.TitleDesc:"")+"'></div>",i+="<div class=UiText>"+oc.mobile_number+":</div>",i+="<div><input id=Configure_Profile_Mobile class=UiInputText type=text placeholder='"+oc.eg_mobile_number+"' value='"+(null!=a?a.Mobile:"")+"'></div>",i+="<div class=UiText>"+oc.email+":</div>",i+="<div><input id=Configure_Profile_Email class=UiInputText type=text placeholder='"+oc.email+"' value='"+(null!=a?a.Email:"")+"'></div>",i+="<div class=UiText>"+oc.contact_number_1+":</div>",i+="<div><input id=Configure_Profile_Number1 class=UiInputText type=text placeholder='"+oc.eg_contact_number_1+"' value='"+(null!=a?a.Number1:"")+"'></div>",i+="<div class=UiText>"+oc.contact_number_2+":</div>",i+="<div><input id=Configure_Profile_Number2 class=UiInputText type=text placeholder='"+oc.eg_contact_number_2+"' value='"+(null!=a?a.Number2:"")+"'></div>",i+="</div>",1==Il&&(e+=i),e+='<div class=UiTextHeading onclick="ToggleHeading(this,\'Notifications_Html\')"><i class="fa fa-bell UiTextHeadingIcon" style="background-color:#ab8e04"></i> '+oc.notifications+"</div>";var o='<div id=Notifications_Html style="display:none">';o+="<div class=UiText>"+oc.notifications+":</div>",o+="<div><input type=checkbox id=Settings_Notifications><label for=Settings_Notifications> "+oc.enable_onscreen_notifications+"<label></div>",o+="</div>",1==Dl&&(e+=o),e+="</div>",e+="<div class=UiWindowButtonBar id=ButtonBar></div>",$("#actionArea").html(e);var r=[];r.push({text:oc.save,action:function(){var e=$("#chat_type_sip").is(":checked")?"SIMPLE":"XMPP";if(""!=$("#Configure_Account_wssServer").val())if(""!=$("#Configure_Account_WebSocketPort").val())if(""!=$("#Configure_Account_profileUser").val())if(""!=$("#Configure_Account_profileName").val())if(""!=$("#Configure_Account_SipUsername").val())if(""!=$("#Configure_Account_SipPassword").val()){if("XMPP"==e){if(""==$("#Configure_Account_xmpp_domain").val())return void console.warn("Validation Failed");if(""==$("#Configure_Account_xmpp_address").val())return void console.warn("Validation Failed");if(""==$("#Configure_Account_xmpp_port").val())return void console.warn("Validation Failed")}null==Fl.getItem("profileUserID")&&Fl.setItem("profileUserID",lc()),Fl.setItem("wssServer",$("#Configure_Account_wssServer").val()),Fl.setItem("WebSocketPort",$("#Configure_Account_WebSocketPort").val()),Fl.setItem("ServerPath",$("#Configure_Account_ServerPath").val()),Fl.setItem("profileUser",$("#Configure_Account_profileUser").val()),Fl.setItem("profileName",$("#Configure_Account_profileName").val()),Fl.setItem("SipUsername",$("#Configure_Account_SipUsername").val()),Fl.setItem("SipPassword",$("#Configure_Account_SipPassword").val()),Fl.setItem("ChatEngine",e),Fl.setItem("XmppDomain",$("#Configure_Account_xmpp_domain").val()),Fl.setItem("XmppServer",$("#Configure_Account_xmpp_address").val()),Fl.setItem("XmppWebsocketPort",$("#Configure_Account_xmpp_port").val()),Fl.setItem("XmppWebsocketPath",$("#Configure_Account_xmpp_path").val()),Fl.setItem("AudioOutputId",$("#playbackSrc").val()),Fl.setItem("VideoSrcId",$("#previewVideoSrc").val()),Fl.setItem("VideoHeight",$("input[name=Settings_Quality]:checked").val()),Fl.setItem("FrameRate",$("input[name=Settings_FrameRate]:checked").val()),Fl.setItem("AspectRatio",$("input[name=Settings_AspectRatio]:checked").val()),Fl.setItem("VideoOrientation",$("input[name=Settings_Oriteation]:checked").val()),Fl.setItem("AudioSrcId",$("#microphoneSrc").val()),Fl.setItem("AutoGainControl",$("#Settings_AutoGainControl").is(":checked")?"1":"0"),Fl.setItem("EchoCancellation",$("#Settings_EchoCancellation").is(":checked")?"1":"0"),Fl.setItem("NoiseSuppression",$("#Settings_NoiseSuppression").is(":checked")?"1":"0"),Fl.setItem("RingOutputId",$("#ringDevice").val());var t={TitleDesc:$("#Configure_Profile_TitleDesc").val(),Mobile:$("#Configure_Profile_Mobile").val(),Email:$("#Configure_Profile_Email").val(),Number1:$("#Configure_Profile_Number1").val(),Number2:$("#Configure_Profile_Number2").val()};Fl.setItem("profileVcard",JSON.stringify(t));$("#Appearance_Html").show(),$("#ImageCanvas").croppie("result",{type:"base64",size:"viewport",format:"png",quality:1,circle:!1}).then((function(e){Fl.setItem("profilePicture",e),$("#Appearance_Html").hide(),Cd(oc.alert_settings,oc.reload_required,(function(){window.location.reload()}))})),Fl.setItem("Notifications",$("#Settings_Notifications").is(":checked")?"1":"0")}else console.warn("Validation Failed");else console.warn("Validation Failed");else console.warn("Validation Failed");else console.warn("Validation Failed");else console.warn("Validation Failed");else console.warn("Validation Failed")}}),r.push({text:oc.cancel,action:function(){Qc()}}),$.each(r,(function(e,t){var n=$("<button>"+t.text+"</button>").click(t.action);$("#ButtonBar").append(n)})),$("#actionArea").show(),window.setTimeout((function(){$("#chat_type_sip").change((function(){$("#chat_type_sip").is(":checked")&&$("#RowChatEngine_xmpp").hide()})),$("#chat_type_xmpp").change((function(){$("#chat_type_xmpp").is(":checked")&&$("#RowChatEngine_xmpp").show()}));var e=$("#playbackSrc"),t=$("#preview_output_play"),n=$("#preview_ringer_play"),i=$("#microphoneSrc");$("#Settings_AutoGainControl").prop("checked",Zs),$("#Settings_EchoCancellation").prop("checked",el),$("#Settings_NoiseSuppression").prop("checked",tl);var a=$("#previewVideoSrc"),o=$("input[name=Settings_Oriteation]");o.each((function(){this.value==nl&&$(this).prop("checked",!0)})),$("#local-video-preview").css("transform",nl);var r=$("input[name=Settings_FrameRate]");r.each((function(){this.value==il&&$(this).prop("checked",!0)}));var s=$("input[name=Settings_Quality]");s.each((function(){this.value==al&&$(this).prop("checked",!0)}));var l=$("input[name=Settings_AspectRatio]");l.each((function(){this.value==rl&&$(this).prop("checked",!0)}));$("#ringTone");var c=$("#ringDevice");l.change((function(){console.log("Call to change Aspect Ratio ("+this.value+")");var e=$("#local-video-preview").get(0);e.muted=!0,e.playsinline=!0,e.autoplay=!0,e.srcObject.getTracks().forEach((function(e){e.stop()}));var t={audio:!1,video:{deviceId:"default"!=a.val()?{exact:a.val()}:"default"}};""!=$("input[name=Settings_FrameRate]:checked").val()&&(t.video.frameRate=$("input[name=Settings_FrameRate]:checked").val()),""!=$("input[name=Settings_Quality]:checked").val()&&(t.video.height=$("input[name=Settings_Quality]:checked").val()),""!=this.value&&(t.video.aspectRatio=this.value),console.log("Constraints:",t);var n=new MediaStream;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia(t).then((function(t){var i=t.getVideoTracks()[0];n.addTrack(i),e.srcObject=n,e.onloadedmetadata=function(t){e.play()}})).catch((function(e){console.error(e),Cd(oc.alert_error_user_media,oc.error)}))})),s.change((function(){console.log("Call to change Video Height ("+this.value+")");var e=$("#local-video-preview").get(0);e.muted=!0,e.playsinline=!0,e.autoplay=!0,e.srcObject.getTracks().forEach((function(e){e.stop()}));var t={audio:!1,video:{deviceId:"default"!=a.val()?{exact:a.val()}:"default"}};""!=$("input[name=Settings_FrameRate]:checked").val()&&(t.video.frameRate=$("input[name=Settings_FrameRate]:checked").val()),this.value&&(t.video.height=this.value),""!=$("input[name=Settings_AspectRatio]:checked").val()&&(t.video.aspectRatio=$("input[name=Settings_AspectRatio]:checked").val()),console.log("Constraints:",t);var n=new MediaStream;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia(t).then((function(t){var i=t.getVideoTracks()[0];n.addTrack(i),e.srcObject=n,e.onloadedmetadata=function(t){e.play()}})).catch((function(e){console.error(e),Cd(oc.alert_error_user_media,oc.error)}))})),r.change((function(){console.log("Call to change Frame Rate ("+this.value+")");var e=$("#local-video-preview").get(0);e.muted=!0,e.playsinline=!0,e.autoplay=!0,e.srcObject.getTracks().forEach((function(e){e.stop()}));var t={audio:!1,video:{deviceId:"default"!=a.val()?{exact:a.val()}:"default"}};""!=this.value&&(t.video.frameRate=this.value),""!=$("input[name=Settings_Quality]:checked").val()&&(t.video.height=$("input[name=Settings_Quality]:checked").val()),""!=$("input[name=Settings_AspectRatio]:checked").val()&&(t.video.aspectRatio=$("input[name=Settings_AspectRatio]:checked").val()),console.log("Constraints:",t);var n=new MediaStream;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia(t).then((function(t){var i=t.getVideoTracks()[0];n.addTrack(i),e.srcObject=n,e.onloadedmetadata=function(t){e.play()}})).catch((function(e){console.error(e),Cd(oc.alert_error_user_media,oc.error)}))})),i.change((function(){console.log("Call to change Microphone ("+this.value+")");try{window.SettingsMicrophoneStream.getTracks().forEach((function(e){e.stop()})),window.SettingsMicrophoneStream=null}catch(e){}try{soundMeter=window.SettingsMicrophoneSoundMeter,soundMeter.stop(),window.SettingsMicrophoneSoundMeter=null}catch(e){}var e={audio:{deviceId:{exact:this.value}},video:!1},t=new MediaStream;navigator.mediaDevices.getUserMedia(e).then((function(e){var n=e.getAudioTracks()[0];null!=n&&(t.addTrack(n),window.SettingsMicrophoneStream=t,window.SettingsMicrophoneSoundMeter=Mc(t,"Settings_MicrophoneOutput","width",50))})).catch((function(e){console.log("Failed to getUserMedia",e)}))})),e.change((function(){console.log("Call to change Speaker ("+this.value+")");var e=window.SettingsOutputAudio;null!=e&&void 0!==e.sinkId&&e.setSinkId(this.value).then((function(){console.log("sinkId applied to audioObj:",this.value)})).catch((function(e){console.warn("Failed not apply setSinkId.",e)}))})),t.click((function(){try{window.SettingsOutputAudio.pause()}catch(e){}window.SettingsOutputAudio=null;try{window.SettingsOutputStream.getTracks().forEach((function(e){e.stop()}))}catch(e){}window.SettingsOutputStream=null;try{window.SettingsOutputStreamMeter.stop()}catch(e){}window.SettingsOutputStreamMeter=null,console.log("Audio:",rc.speech_orig.url);var t=new Audio(rc.speech_orig.blob);t.preload="auto",t.onplay=function(){var e=new MediaStream;if(void 0!==t.captureStream)e=t.captureStream();else{if(void 0!==t.mozCaptureStream)return;if(void 0===t.webkitCaptureStream)return void console.warn("Cannot display Audio Levels");e=t.webkitCaptureStream()}window.SettingsOutputStream=e,window.SettingsOutputStreamMeter=Mc(e,"Settings_SpeakerOutput","width",50)},t.oncanplaythrough=function(n){void 0!==t.sinkId&&t.setSinkId(e.val()).then((function(){console.log("Set sinkId to:",e.val())})).catch((function(e){console.warn("Failed not apply setSinkId.",e)})),t.play().then((function(){})).catch((function(e){console.warn("Unable to play audio file",e)})),console.log("Playing sample audio file... ")},window.SettingsOutputAudio=t})),n.click((function(){try{window.SettingsRingerAudio.pause()}catch(e){}window.SettingsRingerAudio=null;try{window.SettingsRingerStream.getTracks().forEach((function(e){e.stop()}))}catch(e){}window.SettingsRingerStream=null;try{window.SettingsRingerStreamMeter.stop()}catch(e){}window.SettingsRingerStreamMeter=null,console.log("Audio:",rc.Ringtone.url);var e=new Audio(rc.Ringtone.blob);e.preload="auto",e.onplay=function(){var t=new MediaStream;if(void 0!==e.captureStream)t=e.captureStream();else{if(void 0!==e.mozCaptureStream)return;if(void 0===e.webkitCaptureStream)return void console.warn("Cannot display Audio Levels");t=e.webkitCaptureStream()}window.SettingsRingerStream=t,window.SettingsRingerStreamMeter=Mc(t,"Settings_RingerOutput","width",50)},e.oncanplaythrough=function(t){void 0!==e.sinkId&&e.setSinkId(c.val()).then((function(){console.log("Set sinkId to:",c.val())})).catch((function(e){console.warn("Failed not apply setSinkId.",e)})),e.play().then((function(){})).catch((function(e){console.warn("Unable to play audio file",e)})),console.log("Playing sample audio file... ")},window.SettingsRingerAudio=e})),o.change((function(){console.log("Call to change Orientation ("+this.value+")"),$("#local-video-preview").css("transform",this.value)})),a.change((function(){console.log("Call to change WebCam ("+this.value+")");var e=$("#local-video-preview").get(0);e.muted=!0,e.playsinline=!0,e.autoplay=!0,e.srcObject.getTracks().forEach((function(e){e.stop()}));var t={audio:!1,video:{deviceId:"default"!=this.value?{exact:this.value}:"default"}};""!=$("input[name=Settings_FrameRate]:checked").val()&&(t.video.frameRate=$("input[name=Settings_FrameRate]:checked").val()),""!=$("input[name=Settings_Quality]:checked").val()&&(t.video.height=$("input[name=Settings_Quality]:checked").val()),""!=$("input[name=Settings_AspectRatio]:checked").val()&&(t.video.aspectRatio=$("input[name=Settings_AspectRatio]:checked").val()),console.log("Constraints:",t);var n=new MediaStream;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia(t).then((function(t){var i=t.getVideoTracks()[0];n.addTrack(i),e.srcObject=n,e.onloadedmetadata=function(t){e.play()}})).catch((function(e){console.error(e),Cd(oc.alert_error_user_media,oc.error)}))}));var d=$("#local-video-preview").get(0);d.muted=!0,d.playsinline=!0,d.autoplay=!0;var u=new MediaStream,p=new MediaStream;navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then((function(t){for(var n=fc(),o=!1,r=uc(),s=!1,l=!1,f=!1,m=!1,v=0;v<t.length;++v)console.log("Found Device ("+t[v].kind+"): ",t[v].label),"audioinput"===t[v].kind?(l=!0,"default"!=r&&t[v].deviceId==r&&(s=!0)):"audiooutput"===t[v].kind?f=!0:"videoinput"===t[v].kind&&(m=!0,"default"!=n&&t[v].deviceId==n&&(o=!0));var h={audio:l,video:m};l&&(h.audio={deviceId:"default"},s&&(h.audio.deviceId={exact:r})),m&&(h.video={deviceId:"default"},o&&(h.video.deviceId={exact:n})),""!=$("input[name=Settings_FrameRate]:checked").val()&&(h.video.frameRate=$("input[name=Settings_FrameRate]:checked").val()),""!=$("input[name=Settings_Quality]:checked").val()&&(h.video.height=$("input[name=Settings_Quality]:checked").val()),""!=$("input[name=Settings_AspectRatio]:checked").val()&&(h.video.aspectRatio=$("input[name=Settings_AspectRatio]:checked").val()),console.log("Get User Media",h),navigator.mediaDevices.getUserMedia(h).then((function(e){var t=e.getVideoTracks().length>=1?e.getVideoTracks()[0]:null;m&&null!=t?(u.addTrack(t),d.srcObject=u,d.onloadedmetadata=function(e){d.play()}):console.warn("No video / webcam devices found. Video Calling will not be possible.");var n=e.getAudioTracks().length>=1?e.getAudioTracks()[0]:null;return l&&null!=n?(p.addTrack(n),window.SettingsMicrophoneStream=p,window.SettingsMicrophoneSoundMeter=Mc(p,"Settings_MicrophoneOutput","width",50)):console.warn("No microphone devices found. Calling will not be possible."),$("#Settings_SpeakerOutput").css("width","0%"),$("#Settings_RingerOutput").css("width","0%"),f||(console.log("No speaker devices found, make sure one is plugged in."),$("#playbackSrc").hide(),$("#RingDeviceSection").hide()),navigator.mediaDevices.enumerateDevices()})).then((function(t){for(var n=0;n<t.length;++n){console.log("Found Device ("+t[n].kind+") Again: ",t[n].label,t[n].deviceId);var o=t[n],r=o.deviceId,s=o.label;if(s.indexOf("(")>0&&(s=s.substring(0,s.indexOf("("))),(d=$("<option/>")).prop("value",r),"audioinput"===o.kind)d.text(""!=s?s:"Microphone"),uc()==r&&d.prop("selected",!0),i.append(d);else if("audiooutput"===o.kind){d.text(""!=s?s:"Speaker"),pc()==r&&d.prop("selected",!0),e.append(d);var l=d.clone();mc()==r&&l.prop("selected",!0),c.append(l)}else"videoinput"===o.kind&&(fc()==r&&d.prop("selected",!0),d.text(""!=s?s:"Webcam"),a.append(d))}var d;a.children("option").length>0&&((d=$("<option/>")).prop("value","default"),"default"!=fc()&&""!=fc()&&"null"!=fc()||d.prop("selected",!0),d.text("(Default)"),a.append(d))})).catch((function(e){console.error(e),Cd(oc.alert_error_user_media,oc.error)}))})).catch((function(e){console.error("Error getting Media Devices",e)})):Cd(oc.alert_media_devices,oc.error),cropper=$("#ImageCanvas").croppie({viewport:{width:150,height:150,type:"circle"}}),$("#ImageCanvas").croppie("bind",{url:wd("profilePicture")}),$("#fileUploader").change((function(){var e=$(this).prop("files");if(1==e.length){var t=Math.floor(1e9*Math.random()),n=e[0],i=n.name,a=n.size;if(a<=52428800){console.log("Adding ("+t+"): "+i+" of size: "+a+"bytes");var o=new FileReader;o.Name=i,o.UploadId=t,o.Size=a,o.onload=function(e){$("#ImageCanvas").croppie("bind",{url:e.target.result})},o.readAsDataURL(n)}else Cd(oc.alert_file_size,oc.error)}else Cd(oc.alert_single_file,oc.error)}));var f=$("#Settings_Notifications");f.prop("checked",sl),f.change((function(){this.checked&&"granted"!=Notification.permission&&(!function(){try{Notification.requestPermission().then()}catch(e){return!1}return!0}()?Notification.requestPermission((function(e){console.log(e),Sc(e)})):Notification.requestPermission().then((function(e){console.log(e),Sc(e)})))}))}),0)}function yd(e){var t=e;return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/</gi,"&lt;")).replace(/>/gi,"&gt;")).replace(/\n/gi,"<br>")).replace(/(:\)|:\-\)|:o\))/g,String.fromCodePoint(128578))).replace(/(:\(|:\-\(|:o\()/g,String.fromCodePoint(128577))).replace(/(;\)|;\-\)|;o\))/g,String.fromCodePoint(128521))).replace(/(:'\(|:'\-\()/g,String.fromCodePoint(128554))).replace(/(:'\(|:'\-\()/g,String.fromCodePoint(128514))).replace(/(:\$)/g,String.fromCodePoint(128563))).replace(/(>:\()/g,String.fromCodePoint(128547))).replace(/(:\)/g,String.fromCodePoint(128536))).replace(/(:\O|:\O)/g,String.fromCodePoint(128562))).replace(/(:P|:\-P|:p|:\-p)/g,String.fromCodePoint(128539))).replace(/(;P|;\-P|;p|;\-p)/g,String.fromCodePoint(128540))).replace(/(:D|:\-D)/g,String.fromCodePoint(128525))).replace(/(\(like\))/g,String.fromCodePoint(128077))).replace(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/gi,(function(e){var t=e.length>50?e.substring(0,47)+"...":e;return'<A target=_blank class=previewHyperlink href="'+e+'">'+t+"</A>"}))}function wd(e,t,n){if("profilePicture"==e)return null==(i=Fl.getItem("profilePicture"))?Fs+"default.png":i;t=t||"extension";var i,a=fd(e);return null==a?Fs+"default.png":1!=n&&""!=a.imageObjectURL?a.imageObjectURL:null==(i=Fl.getItem("img-"+e+"-"+t))?Fs+"default.png":(a.imageObjectURL=URL.createObjectURL(function(e,t){e.indexOf(!0)&&(e=e.split(",")[1]);for(var n=atob(e),i=Math.ceil(n.length/1024),a=new Array(i),o=0;o<i;++o){for(var r=1024*o,s=Math.min(r+1024,n.length),l=new Array(s-r),c=r,d=0;c<s;++d,++c)l[d]=n[c].charCodeAt(0);a[o]=new Uint8Array(l)}return new Blob(a,{type:t})}(i,"image/png")),a.imageObjectURL)}function _d(e,t,n,i,a,o,r,s,l,c,d,u){console.log("Open Window: "+t),null!=Xl&&(Xl.dialog("close"),Xl=null),Xl=$("<div></div>").html(e).dialog({autoOpen:!1,title:t,modal:!0,width:i,height:n,resizable:o,classes:{"ui-dialog-content":"scroller"},close:function(e,t){$(this).dialog("destroy"),Xl=null}});var p=[];r&&s&&p.push({text:r,click:function(){console.log("Button 1 ("+r+") Clicked"),s()}}),r&&s&&p.push({text:l,click:function(){console.log("Button 2 ("+l+") Clicked"),c()}}),p.length>=1&&Xl.dialog("option","buttons",p),u&&Xl.on("dialogbeforeclose",(function(e,t){return u(this)})),d&&Xl.on("dialogopen",(function(e,t){d()})),Xl.dialog("open"),a&&Xl.dialog({dialogClass:"no-close"});var f=$(window).outerWidth(),m=$(window).outerHeight(),v=Xl.parent().outerHeight();f<=i||m<=v?(Xl.parent().css("top","0px"),Xl.parent().css("left","0px"),Xl.dialog("option","height",m),Xl.dialog("option","width",f)):(Xl.parent().css("left",f/2-i/2+"px"),Xl.parent().css("top",m/2-v/2+"px")),$(".ui-dialog-titlebar").dblclick((function(){Xl.parent().css("top","0px"),Xl.parent().css("left","0px"),Xl.dialog("option","height",m),Xl.dialog("option","width",f)}))}function Sd(){console.log("Call to close any open window"),null!=Xl&&(Xl.dialog("close"),Xl=null)}function Cd(e,t,n){if(null!=Gl&&(Gl.dialog("close"),Gl=null),null!=Kl&&(Kl.dialog("close"),Kl=null),null==Yl){console.log("Alert called with Title: "+t+", saying: "+e);var i="<div class=NoSelect>";i+='<div class=UiText style="padding: 10px" id=AllertMessageText>'+e+"</div>",i+="</div>",Yl=$("<div>").html(i).dialog({autoOpen:!1,title:t,modal:!0,width:300,height:"auto",resizable:!1,closeOnEscape:!1,close:function(e,t){$(this).dialog("destroy"),Yl=null}});var a=[];a.push({text:oc.ok,click:function(){console.log("Alert OK clicked"),n&&n(),$(this).dialog("close"),Yl=null}}),Yl.dialog("option","buttons",a),Yl.dialog("open"),Yl.dialog({dialogClass:"no-close"});var o=$(window).outerWidth(),r=$(window).outerHeight(),s=Yl.parent().outerHeight();Yl.parent().css("left",o/2-150+"px"),r<=s?(Yl.parent().css("top","0px"),Yl.dialog("option","height",r)):Yl.parent().css("top",r/2-s/2+"px")}else console.error("Alert not null, while Alert called: "+t+", saying:"+e)}function xd(e,t,n,i){if(null!=Yl&&(Yl.dialog("close"),Yl=null),null!=Kl&&(Kl.dialog("close"),Kl=null),null==Gl){console.log("Confirm called with Title: "+t+", saying: "+e);var a="<div class=NoSelect>";a+='<div class=UiText style="padding: 10px" id=ConfrimMessageText>'+e+"</div>",a+="</div>",Gl=$("<div>").html(a).dialog({autoOpen:!1,title:t,modal:!0,width:300,height:"auto",resizable:!1,closeOnEscape:!1,close:function(e,t){$(this).dialog("destroy"),Gl=null}});var o=[];o.push({text:oc.ok,click:function(){console.log("Confrim OK clicked"),n&&n(),$(this).dialog("close"),Gl=null}}),o.push({text:oc.cancel,click:function(){console.log("Confirm Cancel clicked"),i&&i(),$(this).dialog("close"),Gl=null}}),Gl.dialog("option","buttons",o),Gl.dialog("open"),Gl.dialog({dialogClass:"no-close"});var r=$(window).outerWidth(),s=$(window).outerHeight(),l=Gl.parent().outerHeight();Gl.parent().css("left",r/2-150+"px"),s<=l?(Gl.parent().css("top","0px"),Gl.dialog("option","height",s)):Gl.parent().css("top",s/2-l/2+"px")}else console.error("Confirm not null, while Confrim called with Title: "+t+", saying: "+e)}function kd(e,t){console.log("Show Popup Menu"),null!=Ql&&(Ql.menu("destroy"),Ql.empty(),Ql.remove(),Ql=null);var n=$(e).offset().left-$(document).scrollLeft(),i=$(e).offset().top-$(document).scrollTop(),a=$(e).outerWidth(),o=$(e).outerHeight();Ql=$("<ul></ul>"),t&&t.items&&$.each(t.items,(function(e,t){var n=1==t.isHeader?' class="ui-widget-header"':"",i=1==t.isDisabled?' class="ui-state-disabled"':"";null!=t.icon?Ql.append('<li value="'+t.value+'" '+n+" "+i+'><div><span class="'+t.icon+' ui-icon"></span>'+t.text+"</div></li>"):Ql.append('<li value="'+t.value+'" '+n+" "+i+"><div>"+t.text+"</div></li>")})),Ql.append("<li><div>-</div></li>"),Ql.append('<li><div style="text-align:center; padding-right: 2em">'+oc.cancel+"</div></li>"),Ql.appendTo(document.body),Ql.menu({}),t&&t.selectEvent&&Ql.on("menuselect",t.selectEvent),t&&t.createEvent&&Ql.on("menucreate",t.createEvent),Ql.on("blur",(function(){$d()})),t&&1==t.autoFocus&&Ql.focus();var r=Ql.outerWidth(),s=n-(r/2-a/2);s+r+10>window.innerWidth&&(s=window.innerWidth-r-10),s<0&&(s=0),Ql.css("left",s+"px");var l=Ql.outerHeight(),c=i+o;c+l+10>window.innerHeight&&(c=window.innerHeight-l-10),c<0&&(c=0),Ql.css("top",c+"px")}function $d(e){if(e)window.setTimeout((function(){if(null!=Ql){Ql.menu("destroy");try{Ql.empty()}catch(e){}try{Ql.remove()}catch(e){}Ql=null}}),e);else if(null!=Ql){Ql.menu("destroy");try{Ql.empty()}catch(e){}try{Ql.remove()}catch(e){}Ql=null}}function Ad(){navigator.mediaDevices.enumerateDevices().then((function(e){Zl=!1,ec=!1,!1,tc=[],nc=[],ic=[];for(var t=0;t<e.length;++t)"audioinput"===e[t].kind?(ec=!0,tc.push(e[t])):"audiooutput"===e[t].kind?(!0,ic.push(e[t])):"videoinput"===e[t].kind&&(Zl=!0,nc.push(e[t]))})).catch((function(e){console.error("Error enumerating devices",e)}))}function Nd(e){e==Strophe.Status.CONNECTING?console.log("XMPP is connecting..."):e==Strophe.Status.CONNFAIL?console.warn("XMPP failed to connect."):e==Strophe.Status.DISCONNECTING?console.log("XMPP is disconnecting."):e==Strophe.Status.DISCONNECTED?(console.log("XMPP is disconnected."),window.setTimeout((function(){}),5e3)):e==Strophe.Status.CONNECTED?(console.log("XMPP is connected!"),function(){if(!Bd||0==Bd.connected)return void console.warn("XMPP not connected");var e=dc("profileVcard",null);if(null==e||""==e)return void console.warn("No vCard created yet");e=JSON.parse(e);var t=wd("profilePicture").split(",")[1],n=$iq({type:"set",id:Bd.getUniqueId(),from:Bd.jid});n.c("vCard",{xmlns:"vcard-temp"}),n.c("FN",{},Ls),n.c("TITLE",{},e.TitleDesc),n.c("TEL"),n.c("NUMBER",{},Ts),n.up(),n.c("TEL"),n.c("CELL",{},e.Mobile),n.up(),n.c("TEL"),n.c("VOICE",{},e.Number1),n.up(),n.c("TEL"),n.c("FAX",{},e.Number2),n.up(),n.c("EMAIL"),n.c("USERID",{},e.Email),n.up(),n.c("PHOTO"),n.c("TYPE",{},"image/png"),n.c("BINVAL",{},t),n.up(),n.c("JABBERID",{},Strophe.getBareJidFromJid(Bd.jid)),console.log("Sending vCard update"),Bd.sendIQ(n,(function(e){}),(function(e){console.warn("Error in XmppSetMyVcard",e)}),3e4)}(),function(){if(!Bd||0==Bd.connected)return void console.warn("XMPP not connected");var e=$iq({type:"get",id:Bd.getUniqueId(),from:Bd.jid});e.c("query",{xmlns:"jabber:iq:roster"}),console.log("Getting Buddy List (roster)..."),Bd.sendIQ(e,(function(e){Strophe.forEachChild(e,"query",(function(e){Strophe.forEachChild(e,"item",(function(e){var t=e.getAttribute("jid"),n=e.getAttribute("name"),i=Strophe.getNodeFromJid(t),a=i;""!=Bl&&""!=jl&&(a=i.split(jl,2)[1]);e.getAttribute("ask")&&e.getAttribute("ask"),e.getAttribute("subscription")&&e.getAttribute("subscription");var o=t.indexOf("@"+Ul+".")>-1,r=md(t);null==r?(1==o?(console.log("Adding roster (group):",a,"-",n),r=rd("group",!1,!1,!1,n,a,t)):(console.log("Adding roster (xmpp):",a,"-",n),r=rd("xmpp",!1,!1,!0,n,a,t)),Od(r)):(console.log("Existing roster item:",a,"-",n),Od(r))}))})),Dd(dc("XmppLastPresence","chat"),dc("XmppLastStatus",""),!0),cd()}),(function(e){console.warn("Error Getting Roster",e)}),3e4)}(),Bd.ping=window.setTimeout((function(){Id()}),45e3)):console.log("XMPP is: ",Strophe.Status)}function Id(){Bd&&0!=Bd.connected||jd();var e=$iq({type:"get",id:Bd.getUniqueId(),to:Rl,from:Bd.jid});e.c("ping",{xmlns:"urn:xmpp:ping"}),Bd.sendIQ(e,(function(e){}),(function(e){console.warn("Error in Ping",e)}),3e4),Bd.ping=window.setTimeout((function(){Id()}),45e3)}function Dd(e,t,n){if(Bd&&0!=Bd.connected){console.log("Setting My Own Presence to: "+e+"("+t+")"),""==t&&(t=oc.default_status),$("#regStatus").html('<i class="fa fa-comments"></i> '+t);var i=$pres({id:Bd.getUniqueId(),from:Bd.jid});if(i.c("show").t(e),t&&""!=t&&(i.root(),i.c("status").t(t)),1==n){var a=wd("profilePicture").split(",")[1],o=$.md5(a);i.root(),i.c("x",{xmlns:"vcard-temp:x:update"}),o&&i.c("photo",{},o)}Bd.sendPresence(i,(function(e){}),(function(e){console.warn("Error in XmppSetMyPresence",e)}),3e4)}else console.warn("XMPP not connected")}function Td(e){var t=e.getAttribute("from"),n=e.getAttribute("to"),i=(e.getAttribute("subscription"),e.getAttribute("type")?e.getAttribute("type"):"presence"),a="",o="",r="";Strophe.forEachChild(e,"show",(function(e){a=e.textContent})),Strophe.forEachChild(e,"status",(function(e){o=e.textContent})),Strophe.forEachChild(e,"x",(function(e){r=e.getAttribute("xmlns")}));var s=Strophe.getBareJidFromJid(t);if(t==n)return!0;var l=md(s);return null==l?(console.warn("Buddy Not Found: ",s),!0):"subscribe"==i?(console.log("Presence: "+l.CallerIDName+" requesting subscrption"),function(e){if(!Bd||0==Bd.connected)return void console.warn("XMPP not connected");var t=$pres({to:e.jid,from:Bd.jid,type:"subscribed"});Bd.sendPresence(t)}(l),Ld(l),cd(),!0):"subscribed"==i?(console.log("Presence: "+l.CallerIDName+" confimed subscrption"),cd(),!0):"unavailable"==i?(console.log("Presence: "+l.CallerIDName+" unavailable"),cd(),!0):("vcard-temp:x:update"==r&&(console.log("Presence: "+l.ExtNo+" - "+l.CallerIDName+" vCard change"),Od(l),cd()),""!=a&&(console.log("Presence: "+l.ExtNo+" - "+l.CallerIDName+" is now: "+a+"("+o+")"),l.presence=a,l.presenceText=""==o?oc.default_status:o,cd()),!0)}function Ld(e){if(Bd&&0!=Bd.connected){var t=$pres({to:e.jid,from:Bd.jid,type:"subscribe"});Bd.sendPresence(t)}else console.warn("XMPP not connected")}function Od(e){if(Bd&&0!=Bd.connected){if(null!=e&&null!=e.jid){var t=$iq({type:"get",id:Bd.getUniqueId(),from:Bd.jid,to:e.jid});t.c("vCard",{xmlns:"vcard-temp"}),Bd.sendIQ(t,(function(e){var t=e.getAttribute("from");console.log("Got vCard for: "+t);var n=md(t);if(null!=n){var i="";Strophe.forEachChild(e,"vCard",(function(e){Strophe.forEachChild(e,null,(function(e){"FN"==e.tagName&&(n.CallerIDName=e.textContent),"TITLE"==e.tagName&&(n.Desc=e.textContent),"JABBERID"==e.tagName&&e.textContent!=t&&console.warn("JID does not match: ",e.textContent,t),"TEL"==e.tagName&&(Strophe.forEachChild(e,"NUMBER",(function(e){e.textContent!=n.ExtNo&&console.warn("Subscribe Extension does not match: ",e.textContent,n.ExtNo)})),Strophe.forEachChild(e,"CELL",(function(e){n.MobileNumber=e.textContent})),Strophe.forEachChild(e,"VOICE",(function(e){n.ContactNumber1=e.textContent})),Strophe.forEachChild(e,"FAX",(function(e){n.ContactNumber2=e.textContent}))),"EMAIL"==e.tagName&&Strophe.forEachChild(e,"USERID",(function(e){n.Email=e.textContent})),"PHOTO"==e.tagName&&Strophe.forEachChild(e,"BINVAL",(function(e){i="data:image/png;base64,"+e.textContent}))}))}));var a={},o=-1,r=JSON.parse(Fl.getItem(Ds+"-Buddies"));$.each(r.DataCollection,(function(e,t){if(t.uID==n.identity)return a=t,o=e,!1})),-1!=o&&(a.MobileNumber=n.MobileNumber,a.ContactNumber1=n.ContactNumber1,a.ContactNumber2=n.ContactNumber2,a.DisplayName=n.CallerIDName,a.Description=n.Desc,a.Email=n.Email,r.DataCollection[o]=a,Fl.setItem(Ds+"-Buddies",JSON.stringify(r))),""!=i&&(console.log("Buddy: "+n.CallerIDName+" picture updated"),Fl.setItem("img-"+n.identity+"-"+n.type,i),$("#contact-"+n.identity+"-picture-main").css("background-image","url("+wd(n.identity,n.type,!0)+")")),cd()}else console.warn("Received a vCard for non-existing buddy",t)}),(function(e){console.warn("Error in XmppGetBuddyVcard",e)}),3e4)}}else console.warn("XMPP not connected")}function Rd(e){var t=e.getAttribute("from"),n=Strophe.getBareJidFromJid(t),i=(e.getAttribute("to"),e.getAttribute("id")),a=md(n);if(null==a)return console.warn("Spam!"),!0;var o=!1,r=cc();Strophe.forEachChild(e,"delay",(function(e){"urn:xmpp:delay"==e.getAttribute("xmlns")&&(o=!0,r=moment(e.getAttribute("stamp")).utc().format("YYYY-MM-DD HH:mm:ss UTC"))}));var s="";Strophe.forEachChild(e,"body",(function(e){s=e.textContent}));var l="";if(Strophe.forEachChild(e,"composing",(function(e){"http://jabber.org/protocol/chatstates"==e.getAttribute("xmlns")&&(l="composing")})),Strophe.forEachChild(e,"paused",(function(e){"http://jabber.org/protocol/chatstates"==e.getAttribute("xmlns")&&(l="paused")})),Strophe.forEachChild(e,"active",(function(e){"http://jabber.org/protocol/chatstates"==e.getAttribute("xmlns")&&(l="active")})),"composing"==l)return o||function(e){console.log("Buddy is composing a message..."),$("#contact-"+e.identity+"-chatstate").show(),$("#contact-"+e.identity+"-presence").hide(),$("#contact-"+e.identity+"-presence-main").hide(),$("#contact-"+e.identity+"-chatstate-menu").show(),$("#contact-"+e.identity+"-chatstate-main").show(),Vc(e.identity)}(a),!0;!function(e){console.log("Buddy composing is done..."),$("#contact-"+e.identity+"-chatstate").hide(),$("#contact-"+e.identity+"-chatstate-menu").hide(),$("#contact-"+e.identity+"-chatstate-main").hide(),$("#contact-"+e.identity+"-presence").show(),$("#contact-"+e.identity+"-presence-main").show(),Vc(e.identity)}(a);var c=!1,d="";Strophe.forEachChild(e,"replace",(function(e){"urn:xmpp:message-correct:0"==e.getAttribute("xmlns")&&(c=!0,Strophe.forEachChild(e,"id",(function(e){d=e.textContent})))})),c&&""!=d&&(console.log("Message "+d+" for "+a.CallerIDName+" was corrected"),CorrectMessage(a,d,s));var u="",p="";if(Strophe.forEachChild(e,"x",(function(e){"jabber:x:event"==e.getAttribute("xmlns")&&(Strophe.forEachChild(e,"delivered",(function(e){u="delivered"})),Strophe.forEachChild(e,"displayed",(function(e){u="displayed"})),Strophe.forEachChild(e,"id",(function(e){p=e.textContent})))})),"delivered"==u&&""!=p)return console.log("Message "+p+" for "+a.CallerIDName+" was delivered"),function(e,t,n){var i=JSON.parse(Fl.getItem(e.identity+"-stream"));null==i&&null==i.DataCollection||($.each(i.DataCollection,(function(e,n){if("MSG"==n.ItemType&&n.ItemId==t)return n.Delivered={state:!0,eventTime:cc()},!1})),Fl.setItem(e.identity+"-stream",JSON.stringify(i)),n&&vd(e))}(a,p,!0),!0;if("displayed"==u&&""!=p)return console.log("Message "+p+" for "+a.CallerIDName+" was displayed"),function(e,t,n){var i=JSON.parse(Fl.getItem(e.identity+"-stream"));null==i&&null==i.DataCollection||($.each(i.DataCollection,(function(e,n){if("MSG"==n.ItemType&&n.ItemId==t)return n.Displayed={state:!0,eventTime:cc()},!1})),Fl.setItem(e.identity+"-stream",JSON.stringify(i)),n&&vd(e))}(a,p,!0),!0;""==s||(i?(!function(e,t){if(!Bd||0==Bd.connected)return void console.warn("XMPP not connected");var n=$msg({to:e.jid,from:Bd.jid});n.c("x",{xmlns:"jabber:x:event"}),n.c("delivered"),n.up(),n.c("id").t(t),console.log("sending delivery notice for "+t+"..."),Bd.send(n)}(a,i),Uc(a,i,"MSG",s,r),zc(a.identity),$("#stream-"+a.identity).is(":visible")&&(jc(a,i),Md(a,i)),vd(a),Fc(a,s)):console.warn("Sorry, messages must have an id ",e));return!0}function Md(e,t){if(Bd&&0!=Bd.connected){var n=$msg({to:e.jid,from:Bd.jid});n.c("x",{xmlns:"jabber:x:event"}),n.c("displayed"),n.up(),n.c("id").t(t),console.log("sending display notice for "+t+"..."),Bd.send(n)}else console.warn("XMPP not connected")}function Ed(e){var t=e.getAttribute("id"),n=e.getAttribute("to"),i=e.getAttribute("from"),a=$iq({type:"result",id:t,to:i,from:n});return Bd.send(a),!0}function Pd(e){var t=e.getAttribute("id"),n=e.getAttribute("to"),i=e.getAttribute("from"),a=$iq({type:"result",id:t,to:i,from:n});return a.c("query",{xmlns:"jabber:iq:version"}),a.c("name",null,"Browser Phone"),a.c("version",null,"0.0.1"),a.c("os",null,"Browser"),Bd.send(a),!0}Ad(),window.setInterval((function(){Ad()}),1e4);var Bd=null,jd=function(){console.log("Connect/Reconnect XMPP connection..."),Bd&&Bd.disconnect(""),Bd&&Bd.reset();var e="wss://"+Ml+":"+El+Pl,t=Ts+"@"+Rl;""!=Bl&&jl&&(t=Bl+jl+t);var n=Es;Bd=null,""!=Rl&&""!=Ml&&""!=El&&""!=Pl&&((Bd=new Strophe.Connection(e)).addHandler(Ed,"urn:xmpp:ping","iq","get"),Bd.addHandler(Pd,"jabber:iq:version","iq","get"),Bd.addHandler(Td,null,"presence",null),Bd.addHandler(Rd,null,"message",null),console.log("XMPP connect..."),Bd.connect(t,n,Nd))}})()})();